function s2(e,n){for(var i=0;i<n.length;i++){const a=n[i];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in e)){const d=Object.getOwnPropertyDescriptor(a,c);d&&Object.defineProperty(e,c,d.get?d:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const x of d.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&a(x)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();var cs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function V0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var z0={exports:{}},Sl={},H0={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qs=Symbol.for("react.element"),o2=Symbol.for("react.portal"),l2=Symbol.for("react.fragment"),a2=Symbol.for("react.strict_mode"),u2=Symbol.for("react.profiler"),c2=Symbol.for("react.provider"),f2=Symbol.for("react.context"),d2=Symbol.for("react.forward_ref"),h2=Symbol.for("react.suspense"),g2=Symbol.for("react.memo"),x2=Symbol.for("react.lazy"),i1=Symbol.iterator;function p2(e){return e===null||typeof e!="object"?null:(e=i1&&e[i1]||e["@@iterator"],typeof e=="function"?e:null)}var W0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G0=Object.assign,X0={};function qi(e,n,i){this.props=e,this.context=n,this.refs=X0,this.updater=i||W0}qi.prototype.isReactComponent={};qi.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};qi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Y0(){}Y0.prototype=qi.prototype;function ju(e,n,i){this.props=e,this.context=n,this.refs=X0,this.updater=i||W0}var Vu=ju.prototype=new Y0;Vu.constructor=ju;G0(Vu,qi.prototype);Vu.isPureReactComponent=!0;var s1=Array.isArray,Z0=Object.prototype.hasOwnProperty,zu={current:null},K0={key:!0,ref:!0,__self:!0,__source:!0};function q0(e,n,i){var a,c={},d=null,x=null;if(n!=null)for(a in n.ref!==void 0&&(x=n.ref),n.key!==void 0&&(d=""+n.key),n)Z0.call(n,a)&&!K0.hasOwnProperty(a)&&(c[a]=n[a]);var w=arguments.length-2;if(w===1)c.children=i;else if(1<w){for(var y=Array(w),m=0;m<w;m++)y[m]=arguments[m+2];c.children=y}if(e&&e.defaultProps)for(a in w=e.defaultProps,w)c[a]===void 0&&(c[a]=w[a]);return{$$typeof:qs,type:e,key:d,ref:x,props:c,_owner:zu.current}}function m2(e,n){return{$$typeof:qs,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function Hu(e){return typeof e=="object"&&e!==null&&e.$$typeof===qs}function w2(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return n[i]})}var o1=/\/+/g;function ca(e,n){return typeof e=="object"&&e!==null&&e.key!=null?w2(""+e.key):n.toString(36)}function ko(e,n,i,a,c){var d=typeof e;(d==="undefined"||d==="boolean")&&(e=null);var x=!1;if(e===null)x=!0;else switch(d){case"string":case"number":x=!0;break;case"object":switch(e.$$typeof){case qs:case o2:x=!0}}if(x)return x=e,c=c(x),e=a===""?"."+ca(x,0):a,s1(c)?(i="",e!=null&&(i=e.replace(o1,"$&/")+"/"),ko(c,n,i,"",function(m){return m})):c!=null&&(Hu(c)&&(c=m2(c,i+(!c.key||x&&x.key===c.key?"":(""+c.key).replace(o1,"$&/")+"/")+e)),n.push(c)),1;if(x=0,a=a===""?".":a+":",s1(e))for(var w=0;w<e.length;w++){d=e[w];var y=a+ca(d,w);x+=ko(d,n,i,y,c)}else if(y=p2(e),typeof y=="function")for(e=y.call(e),w=0;!(d=e.next()).done;)d=d.value,y=a+ca(d,w++),x+=ko(d,n,i,y,c);else if(d==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return x}function po(e,n,i){if(e==null)return e;var a=[],c=0;return ko(e,a,"","",function(d){return n.call(i,d,c++)}),a}function y2(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var Xt={current:null},Bo={transition:null},E2={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:Bo,ReactCurrentOwner:zu};function Q0(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:po,forEach:function(e,n,i){po(e,function(){n.apply(this,arguments)},i)},count:function(e){var n=0;return po(e,function(){n++}),n},toArray:function(e){return po(e,function(n){return n})||[]},only:function(e){if(!Hu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ne.Component=qi;Ne.Fragment=l2;Ne.Profiler=u2;Ne.PureComponent=ju;Ne.StrictMode=a2;Ne.Suspense=h2;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E2;Ne.act=Q0;Ne.cloneElement=function(e,n,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=G0({},e.props),c=e.key,d=e.ref,x=e._owner;if(n!=null){if(n.ref!==void 0&&(d=n.ref,x=zu.current),n.key!==void 0&&(c=""+n.key),e.type&&e.type.defaultProps)var w=e.type.defaultProps;for(y in n)Z0.call(n,y)&&!K0.hasOwnProperty(y)&&(a[y]=n[y]===void 0&&w!==void 0?w[y]:n[y])}var y=arguments.length-2;if(y===1)a.children=i;else if(1<y){w=Array(y);for(var m=0;m<y;m++)w[m]=arguments[m+2];a.children=w}return{$$typeof:qs,type:e.type,key:c,ref:d,props:a,_owner:x}};Ne.createContext=function(e){return e={$$typeof:f2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:c2,_context:e},e.Consumer=e};Ne.createElement=q0;Ne.createFactory=function(e){var n=q0.bind(null,e);return n.type=e,n};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(e){return{$$typeof:d2,render:e}};Ne.isValidElement=Hu;Ne.lazy=function(e){return{$$typeof:x2,_payload:{_status:-1,_result:e},_init:y2}};Ne.memo=function(e,n){return{$$typeof:g2,type:e,compare:n===void 0?null:n}};Ne.startTransition=function(e){var n=Bo.transition;Bo.transition={};try{e()}finally{Bo.transition=n}};Ne.unstable_act=Q0;Ne.useCallback=function(e,n){return Xt.current.useCallback(e,n)};Ne.useContext=function(e){return Xt.current.useContext(e)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(e){return Xt.current.useDeferredValue(e)};Ne.useEffect=function(e,n){return Xt.current.useEffect(e,n)};Ne.useId=function(){return Xt.current.useId()};Ne.useImperativeHandle=function(e,n,i){return Xt.current.useImperativeHandle(e,n,i)};Ne.useInsertionEffect=function(e,n){return Xt.current.useInsertionEffect(e,n)};Ne.useLayoutEffect=function(e,n){return Xt.current.useLayoutEffect(e,n)};Ne.useMemo=function(e,n){return Xt.current.useMemo(e,n)};Ne.useReducer=function(e,n,i){return Xt.current.useReducer(e,n,i)};Ne.useRef=function(e){return Xt.current.useRef(e)};Ne.useState=function(e){return Xt.current.useState(e)};Ne.useSyncExternalStore=function(e,n,i){return Xt.current.useSyncExternalStore(e,n,i)};Ne.useTransition=function(){return Xt.current.useTransition()};Ne.version="18.3.1";H0.exports=Ne;var Ie=H0.exports;const C2=V0(Ie);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A2=Ie,S2=Symbol.for("react.element"),v2=Symbol.for("react.fragment"),I2=Object.prototype.hasOwnProperty,T2=A2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N2={key:!0,ref:!0,__self:!0,__source:!0};function J0(e,n,i){var a,c={},d=null,x=null;i!==void 0&&(d=""+i),n.key!==void 0&&(d=""+n.key),n.ref!==void 0&&(x=n.ref);for(a in n)I2.call(n,a)&&!N2.hasOwnProperty(a)&&(c[a]=n[a]);if(e&&e.defaultProps)for(a in n=e.defaultProps,n)c[a]===void 0&&(c[a]=n[a]);return{$$typeof:S2,type:e,key:d,ref:x,props:c,_owner:T2.current}}Sl.Fragment=v2;Sl.jsx=J0;Sl.jsxs=J0;z0.exports=Sl;var S=z0.exports,Va={},$0={exports:{}},hn={},ef={exports:{}},tf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(re,ce){var he=re.length;re.push(ce);e:for(;0<he;){var Te=he-1>>>1,Ee=re[Te];if(0<c(Ee,ce))re[Te]=ce,re[he]=Ee,he=Te;else break e}}function i(re){return re.length===0?null:re[0]}function a(re){if(re.length===0)return null;var ce=re[0],he=re.pop();if(he!==ce){re[0]=he;e:for(var Te=0,Ee=re.length,St=Ee>>>1;Te<St;){var be=2*(Te+1)-1,xn=re[be],ae=be+1,Un=re[ae];if(0>c(xn,he))ae<Ee&&0>c(Un,xn)?(re[Te]=Un,re[ae]=he,Te=ae):(re[Te]=xn,re[be]=he,Te=be);else if(ae<Ee&&0>c(Un,he))re[Te]=Un,re[ae]=he,Te=ae;else break e}}return ce}function c(re,ce){var he=re.sortIndex-ce.sortIndex;return he!==0?he:re.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var x=Date,w=x.now();e.unstable_now=function(){return x.now()-w}}var y=[],m=[],v=1,T=null,M=3,U=!1,k=!1,P=!1,Z=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(re){for(var ce=i(m);ce!==null;){if(ce.callback===null)a(m);else if(ce.startTime<=re)a(m),ce.sortIndex=ce.expirationTime,n(y,ce);else break;ce=i(m)}}function j(re){if(P=!1,R(re),!k)if(i(y)!==null)k=!0,Re(ee);else{var ce=i(m);ce!==null&&xe(j,ce.startTime-re)}}function ee(re,ce){k=!1,P&&(P=!1,D(te),te=-1),U=!0;var he=M;try{for(R(ce),T=i(y);T!==null&&(!(T.expirationTime>ce)||re&&!Pe());){var Te=T.callback;if(typeof Te=="function"){T.callback=null,M=T.priorityLevel;var Ee=Te(T.expirationTime<=ce);ce=e.unstable_now(),typeof Ee=="function"?T.callback=Ee:T===i(y)&&a(y),R(ce)}else a(y);T=i(y)}if(T!==null)var St=!0;else{var be=i(m);be!==null&&xe(j,be.startTime-ce),St=!1}return St}finally{T=null,M=he,U=!1}}var q=!1,F=null,te=-1,G=5,me=-1;function Pe(){return!(e.unstable_now()-me<G)}function ue(){if(F!==null){var re=e.unstable_now();me=re;var ce=!0;try{ce=F(!0,re)}finally{ce?ye():(q=!1,F=null)}}else q=!1}var ye;if(typeof _=="function")ye=function(){_(ue)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,W=Be.port2;Be.port1.onmessage=ue,ye=function(){W.postMessage(null)}}else ye=function(){Z(ue,0)};function Re(re){F=re,q||(q=!0,ye())}function xe(re,ce){te=Z(function(){re(e.unstable_now())},ce)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_continueExecution=function(){k||U||(k=!0,Re(ee))},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return M},e.unstable_getFirstCallbackNode=function(){return i(y)},e.unstable_next=function(re){switch(M){case 1:case 2:case 3:var ce=3;break;default:ce=M}var he=M;M=ce;try{return re()}finally{M=he}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(re,ce){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var he=M;M=re;try{return ce()}finally{M=he}},e.unstable_scheduleCallback=function(re,ce,he){var Te=e.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Te+he:Te):he=Te,re){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=he+Ee,re={id:v++,callback:ce,priorityLevel:re,startTime:he,expirationTime:Ee,sortIndex:-1},he>Te?(re.sortIndex=he,n(m,re),i(y)===null&&re===i(m)&&(P?(D(te),te=-1):P=!0,xe(j,he-Te))):(re.sortIndex=Ee,n(y,re),k||U||(k=!0,Re(ee))),re},e.unstable_shouldYield=Pe,e.unstable_wrapCallback=function(re){var ce=M;return function(){var he=M;M=ce;try{return re.apply(this,arguments)}finally{M=he}}}})(tf);ef.exports=tf;var _2=ef.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R2=Ie,dn=_2;function Q(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nf=new Set,Ms={};function ci(e,n){zi(e,n),zi(e+"Capture",n)}function zi(e,n){for(Ms[e]=n,e=0;e<n.length;e++)nf.add(n[e])}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),za=Object.prototype.hasOwnProperty,O2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l1={},a1={};function b2(e){return za.call(a1,e)?!0:za.call(l1,e)?!1:O2.test(e)?a1[e]=!0:(l1[e]=!0,!1)}function D2(e,n,i,a){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function M2(e,n,i,a){if(n===null||typeof n>"u"||D2(e,n,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Yt(e,n,i,a,c,d,x){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=x}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Mt[e]=new Yt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Mt[n]=new Yt(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Mt[e]=new Yt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Mt[e]=new Yt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Mt[e]=new Yt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Mt[e]=new Yt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Mt[e]=new Yt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Mt[e]=new Yt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Mt[e]=new Yt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wu=/[\-:]([a-z])/g;function Gu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Wu,Gu);Mt[n]=new Yt(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Wu,Gu);Mt[n]=new Yt(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Wu,Gu);Mt[n]=new Yt(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Mt[e]=new Yt(e,1,!1,e.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Mt[e]=new Yt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xu(e,n,i,a){var c=Mt.hasOwnProperty(n)?Mt[n]:null;(c!==null?c.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(M2(n,i,c,a)&&(i=null),a||c===null?b2(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):c.mustUseProperty?e[c.propertyName]=i===null?c.type===3?!1:"":i:(n=c.attributeName,a=c.attributeNamespace,i===null?e.removeAttribute(n):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,a?e.setAttributeNS(a,n,i):e.setAttribute(n,i))))}var ar=R2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mo=Symbol.for("react.element"),Si=Symbol.for("react.portal"),vi=Symbol.for("react.fragment"),Yu=Symbol.for("react.strict_mode"),Ha=Symbol.for("react.profiler"),rf=Symbol.for("react.provider"),sf=Symbol.for("react.context"),Zu=Symbol.for("react.forward_ref"),Wa=Symbol.for("react.suspense"),Ga=Symbol.for("react.suspense_list"),Ku=Symbol.for("react.memo"),yr=Symbol.for("react.lazy"),of=Symbol.for("react.offscreen"),u1=Symbol.iterator;function fs(e){return e===null||typeof e!="object"?null:(e=u1&&e[u1]||e["@@iterator"],typeof e=="function"?e:null)}var st=Object.assign,fa;function Es(e){if(fa===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);fa=n&&n[1]||""}return`
`+fa+e}var da=!1;function ha(e,n){if(!e||da)return"";da=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(m){var a=m}Reflect.construct(e,[],n)}else{try{n.call()}catch(m){a=m}e.call(n.prototype)}else{try{throw Error()}catch(m){a=m}e()}}catch(m){if(m&&a&&typeof m.stack=="string"){for(var c=m.stack.split(`
`),d=a.stack.split(`
`),x=c.length-1,w=d.length-1;1<=x&&0<=w&&c[x]!==d[w];)w--;for(;1<=x&&0<=w;x--,w--)if(c[x]!==d[w]){if(x!==1||w!==1)do if(x--,w--,0>w||c[x]!==d[w]){var y=`
`+c[x].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=x&&0<=w);break}}}finally{da=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Es(e):""}function k2(e){switch(e.tag){case 5:return Es(e.type);case 16:return Es("Lazy");case 13:return Es("Suspense");case 19:return Es("SuspenseList");case 0:case 2:case 15:return e=ha(e.type,!1),e;case 11:return e=ha(e.type.render,!1),e;case 1:return e=ha(e.type,!0),e;default:return""}}function Xa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vi:return"Fragment";case Si:return"Portal";case Ha:return"Profiler";case Yu:return"StrictMode";case Wa:return"Suspense";case Ga:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case sf:return(e.displayName||"Context")+".Consumer";case rf:return(e._context.displayName||"Context")+".Provider";case Zu:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ku:return n=e.displayName||null,n!==null?n:Xa(e.type)||"Memo";case yr:n=e._payload,e=e._init;try{return Xa(e(n))}catch{}}return null}function B2(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xa(n);case 8:return n===Yu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Mr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lf(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function P2(e){var n=lf(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,d=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(x){a=""+x,d.call(this,x)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(x){a=""+x},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function wo(e){e._valueTracker||(e._valueTracker=P2(e))}function af(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),a="";return e&&(a=lf(e)?e.checked?"true":"false":e.value),e=a,e!==i?(n.setValue(e),!0):!1}function Ko(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,n){var i=n.checked;return st({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function c1(e,n){var i=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;i=Mr(n.value!=null?n.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function uf(e,n){n=n.checked,n!=null&&Xu(e,"checked",n,!1)}function Za(e,n){uf(e,n);var i=Mr(n.value),a=n.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Ka(e,n.type,i):n.hasOwnProperty("defaultValue")&&Ka(e,n.type,Mr(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function f1(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Ka(e,n,i){(n!=="number"||Ko(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Cs=Array.isArray;function Pi(e,n,i,a){if(e=e.options,n){n={};for(var c=0;c<i.length;c++)n["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=n.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&a&&(e[i].defaultSelected=!0)}else{for(i=""+Mr(i),n=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function qa(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(Q(91));return st({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function d1(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(Q(92));if(Cs(i)){if(1<i.length)throw Error(Q(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:Mr(i)}}function cf(e,n){var i=Mr(n.value),a=Mr(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function h1(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function ff(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qa(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?ff(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yo,df=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,a,c){MSApp.execUnsafeLocalFunction(function(){return e(n,i,a,c)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(yo=yo||document.createElement("div"),yo.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=yo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function ks(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var vs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},L2=["Webkit","ms","Moz","O"];Object.keys(vs).forEach(function(e){L2.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),vs[n]=vs[e]})});function hf(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||vs.hasOwnProperty(e)&&vs[e]?(""+n).trim():n+"px"}function gf(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var a=i.indexOf("--")===0,c=hf(i,n[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,c):e[i]=c}}var F2=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ja(e,n){if(n){if(F2[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(Q(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(Q(61))}if(n.style!=null&&typeof n.style!="object")throw Error(Q(62))}}function $a(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eu=null;function qu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tu=null,Li=null,Fi=null;function g1(e){if(e=$s(e)){if(typeof tu!="function")throw Error(Q(280));var n=e.stateNode;n&&(n=_l(n),tu(e.stateNode,e.type,n))}}function xf(e){Li?Fi?Fi.push(e):Fi=[e]:Li=e}function pf(){if(Li){var e=Li,n=Fi;if(Fi=Li=null,g1(e),n)for(e=0;e<n.length;e++)g1(n[e])}}function mf(e,n){return e(n)}function wf(){}var ga=!1;function yf(e,n,i){if(ga)return e(n,i);ga=!0;try{return mf(e,n,i)}finally{ga=!1,(Li!==null||Fi!==null)&&(wf(),pf())}}function Bs(e,n){var i=e.stateNode;if(i===null)return null;var a=_l(i);if(a===null)return null;i=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(Q(231,n,typeof i));return i}var nu=!1;if(ir)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){nu=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{nu=!1}function U2(e,n,i,a,c,d,x,w,y){var m=Array.prototype.slice.call(arguments,3);try{n.apply(i,m)}catch(v){this.onError(v)}}var Is=!1,qo=null,Qo=!1,ru=null,j2={onError:function(e){Is=!0,qo=e}};function V2(e,n,i,a,c,d,x,w,y){Is=!1,qo=null,U2.apply(j2,arguments)}function z2(e,n,i,a,c,d,x,w,y){if(V2.apply(this,arguments),Is){if(Is){var m=qo;Is=!1,qo=null}else throw Error(Q(198));Qo||(Qo=!0,ru=m)}}function fi(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function Ef(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function x1(e){if(fi(e)!==e)throw Error(Q(188))}function H2(e){var n=e.alternate;if(!n){if(n=fi(e),n===null)throw Error(Q(188));return n!==e?null:e}for(var i=e,a=n;;){var c=i.return;if(c===null)break;var d=c.alternate;if(d===null){if(a=c.return,a!==null){i=a;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===i)return x1(c),e;if(d===a)return x1(c),n;d=d.sibling}throw Error(Q(188))}if(i.return!==a.return)i=c,a=d;else{for(var x=!1,w=c.child;w;){if(w===i){x=!0,i=c,a=d;break}if(w===a){x=!0,a=c,i=d;break}w=w.sibling}if(!x){for(w=d.child;w;){if(w===i){x=!0,i=d,a=c;break}if(w===a){x=!0,a=d,i=c;break}w=w.sibling}if(!x)throw Error(Q(189))}}if(i.alternate!==a)throw Error(Q(190))}if(i.tag!==3)throw Error(Q(188));return i.stateNode.current===i?e:n}function Cf(e){return e=H2(e),e!==null?Af(e):null}function Af(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Af(e);if(n!==null)return n;e=e.sibling}return null}var Sf=dn.unstable_scheduleCallback,p1=dn.unstable_cancelCallback,W2=dn.unstable_shouldYield,G2=dn.unstable_requestPaint,dt=dn.unstable_now,X2=dn.unstable_getCurrentPriorityLevel,Qu=dn.unstable_ImmediatePriority,vf=dn.unstable_UserBlockingPriority,Jo=dn.unstable_NormalPriority,Y2=dn.unstable_LowPriority,If=dn.unstable_IdlePriority,vl=null,qn=null;function Z2(e){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(vl,e,void 0,(e.current.flags&128)===128)}catch{}}var Bn=Math.clz32?Math.clz32:Q2,K2=Math.log,q2=Math.LN2;function Q2(e){return e>>>=0,e===0?32:31-(K2(e)/q2|0)|0}var Eo=64,Co=4194304;function As(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $o(e,n){var i=e.pendingLanes;if(i===0)return 0;var a=0,c=e.suspendedLanes,d=e.pingedLanes,x=i&268435455;if(x!==0){var w=x&~c;w!==0?a=As(w):(d&=x,d!==0&&(a=As(d)))}else x=i&~c,x!==0?a=As(x):d!==0&&(a=As(d));if(a===0)return 0;if(n!==0&&n!==a&&!(n&c)&&(c=a&-a,d=n&-n,c>=d||c===16&&(d&4194240)!==0))return n;if(a&4&&(a|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=a;0<n;)i=31-Bn(n),c=1<<i,a|=e[i],n&=~c;return a}function J2(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $2(e,n){for(var i=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes;0<d;){var x=31-Bn(d),w=1<<x,y=c[x];y===-1?(!(w&i)||w&a)&&(c[x]=J2(w,n)):y<=n&&(e.expiredLanes|=w),d&=~w}}function iu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Tf(){var e=Eo;return Eo<<=1,!(Eo&4194240)&&(Eo=64),e}function xa(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Qs(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Bn(n),e[n]=i}function eg(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var c=31-Bn(i),d=1<<c;n[c]=0,a[c]=-1,e[c]=-1,i&=~d}}function Ju(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var a=31-Bn(i),c=1<<a;c&n|e[a]&n&&(e[a]|=n),i&=~c}}var Ve=0;function Nf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _f,$u,Rf,Of,bf,su=!1,Ao=[],Ir=null,Tr=null,Nr=null,Ps=new Map,Ls=new Map,Cr=[],tg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function m1(e,n){switch(e){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":Ps.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ls.delete(n.pointerId)}}function hs(e,n,i,a,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:i,eventSystemFlags:a,nativeEvent:d,targetContainers:[c]},n!==null&&(n=$s(n),n!==null&&$u(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function ng(e,n,i,a,c){switch(n){case"focusin":return Ir=hs(Ir,e,n,i,a,c),!0;case"dragenter":return Tr=hs(Tr,e,n,i,a,c),!0;case"mouseover":return Nr=hs(Nr,e,n,i,a,c),!0;case"pointerover":var d=c.pointerId;return Ps.set(d,hs(Ps.get(d)||null,e,n,i,a,c)),!0;case"gotpointercapture":return d=c.pointerId,Ls.set(d,hs(Ls.get(d)||null,e,n,i,a,c)),!0}return!1}function Df(e){var n=Qr(e.target);if(n!==null){var i=fi(n);if(i!==null){if(n=i.tag,n===13){if(n=Ef(i),n!==null){e.blockedOn=n,bf(e.priority,function(){Rf(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Po(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=ou(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);eu=a,i.target.dispatchEvent(a),eu=null}else return n=$s(i),n!==null&&$u(n),e.blockedOn=i,!1;n.shift()}return!0}function w1(e,n,i){Po(e)&&i.delete(n)}function rg(){su=!1,Ir!==null&&Po(Ir)&&(Ir=null),Tr!==null&&Po(Tr)&&(Tr=null),Nr!==null&&Po(Nr)&&(Nr=null),Ps.forEach(w1),Ls.forEach(w1)}function gs(e,n){e.blockedOn===n&&(e.blockedOn=null,su||(su=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,rg)))}function Fs(e){function n(c){return gs(c,e)}if(0<Ao.length){gs(Ao[0],e);for(var i=1;i<Ao.length;i++){var a=Ao[i];a.blockedOn===e&&(a.blockedOn=null)}}for(Ir!==null&&gs(Ir,e),Tr!==null&&gs(Tr,e),Nr!==null&&gs(Nr,e),Ps.forEach(n),Ls.forEach(n),i=0;i<Cr.length;i++)a=Cr[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<Cr.length&&(i=Cr[0],i.blockedOn===null);)Df(i),i.blockedOn===null&&Cr.shift()}var Ui=ar.ReactCurrentBatchConfig,el=!0;function ig(e,n,i,a){var c=Ve,d=Ui.transition;Ui.transition=null;try{Ve=1,ec(e,n,i,a)}finally{Ve=c,Ui.transition=d}}function sg(e,n,i,a){var c=Ve,d=Ui.transition;Ui.transition=null;try{Ve=4,ec(e,n,i,a)}finally{Ve=c,Ui.transition=d}}function ec(e,n,i,a){if(el){var c=ou(e,n,i,a);if(c===null)Ia(e,n,a,tl,i),m1(e,a);else if(ng(c,e,n,i,a))a.stopPropagation();else if(m1(e,a),n&4&&-1<tg.indexOf(e)){for(;c!==null;){var d=$s(c);if(d!==null&&_f(d),d=ou(e,n,i,a),d===null&&Ia(e,n,a,tl,i),d===c)break;c=d}c!==null&&a.stopPropagation()}else Ia(e,n,a,null,i)}}var tl=null;function ou(e,n,i,a){if(tl=null,e=qu(a),e=Qr(e),e!==null)if(n=fi(e),n===null)e=null;else if(i=n.tag,i===13){if(e=Ef(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return tl=e,null}function Mf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(X2()){case Qu:return 1;case vf:return 4;case Jo:case Y2:return 16;case If:return 536870912;default:return 16}default:return 16}}var Sr=null,tc=null,Lo=null;function kf(){if(Lo)return Lo;var e,n=tc,i=n.length,a,c="value"in Sr?Sr.value:Sr.textContent,d=c.length;for(e=0;e<i&&n[e]===c[e];e++);var x=i-e;for(a=1;a<=x&&n[i-a]===c[d-a];a++);return Lo=c.slice(e,1<a?1-a:void 0)}function Fo(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function So(){return!0}function y1(){return!1}function gn(e){function n(i,a,c,d,x){this._reactName=i,this._targetInst=c,this.type=a,this.nativeEvent=d,this.target=x,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(i=e[w],this[w]=i?i(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?So:y1,this.isPropagationStopped=y1,this}return st(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=So)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=So)},persist:function(){},isPersistent:So}),n}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nc=gn(Qi),Js=st({},Qi,{view:0,detail:0}),og=gn(Js),pa,ma,xs,Il=st({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xs&&(xs&&e.type==="mousemove"?(pa=e.screenX-xs.screenX,ma=e.screenY-xs.screenY):ma=pa=0,xs=e),pa)},movementY:function(e){return"movementY"in e?e.movementY:ma}}),E1=gn(Il),lg=st({},Il,{dataTransfer:0}),ag=gn(lg),ug=st({},Js,{relatedTarget:0}),wa=gn(ug),cg=st({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),fg=gn(cg),dg=st({},Qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hg=gn(dg),gg=st({},Qi,{data:0}),C1=gn(gg),xg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=mg[e])?!!n[e]:!1}function rc(){return wg}var yg=st({},Js,{key:function(e){if(e.key){var n=xg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Fo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rc,charCode:function(e){return e.type==="keypress"?Fo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eg=gn(yg),Cg=st({},Il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A1=gn(Cg),Ag=st({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rc}),Sg=gn(Ag),vg=st({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ig=gn(vg),Tg=st({},Il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ng=gn(Tg),_g=[9,13,27,32],ic=ir&&"CompositionEvent"in window,Ts=null;ir&&"documentMode"in document&&(Ts=document.documentMode);var Rg=ir&&"TextEvent"in window&&!Ts,Bf=ir&&(!ic||Ts&&8<Ts&&11>=Ts),S1=" ",v1=!1;function Pf(e,n){switch(e){case"keyup":return _g.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ii=!1;function Og(e,n){switch(e){case"compositionend":return Lf(n);case"keypress":return n.which!==32?null:(v1=!0,S1);case"textInput":return e=n.data,e===S1&&v1?null:e;default:return null}}function bg(e,n){if(Ii)return e==="compositionend"||!ic&&Pf(e,n)?(e=kf(),Lo=tc=Sr=null,Ii=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Bf&&n.locale!=="ko"?null:n.data;default:return null}}var Dg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function I1(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Dg[e.type]:n==="textarea"}function Ff(e,n,i,a){xf(a),n=nl(n,"onChange"),0<n.length&&(i=new nc("onChange","change",null,i,a),e.push({event:i,listeners:n}))}var Ns=null,Us=null;function Mg(e){Kf(e,0)}function Tl(e){var n=_i(e);if(af(n))return e}function kg(e,n){if(e==="change")return n}var Uf=!1;if(ir){var ya;if(ir){var Ea="oninput"in document;if(!Ea){var T1=document.createElement("div");T1.setAttribute("oninput","return;"),Ea=typeof T1.oninput=="function"}ya=Ea}else ya=!1;Uf=ya&&(!document.documentMode||9<document.documentMode)}function N1(){Ns&&(Ns.detachEvent("onpropertychange",jf),Us=Ns=null)}function jf(e){if(e.propertyName==="value"&&Tl(Us)){var n=[];Ff(n,Us,e,qu(e)),yf(Mg,n)}}function Bg(e,n,i){e==="focusin"?(N1(),Ns=n,Us=i,Ns.attachEvent("onpropertychange",jf)):e==="focusout"&&N1()}function Pg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tl(Us)}function Lg(e,n){if(e==="click")return Tl(n)}function Fg(e,n){if(e==="input"||e==="change")return Tl(n)}function Ug(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ln=typeof Object.is=="function"?Object.is:Ug;function js(e,n){if(Ln(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),a=Object.keys(n);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var c=i[a];if(!za.call(n,c)||!Ln(e[c],n[c]))return!1}return!0}function _1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function R1(e,n){var i=_1(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=n&&a>=n)return{node:i,offset:n-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=_1(i)}}function Vf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Vf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function zf(){for(var e=window,n=Ko();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Ko(e.document)}return n}function sc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function jg(e){var n=zf(),i=e.focusedElem,a=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&Vf(i.ownerDocument.documentElement,i)){if(a!==null&&sc(i)){if(n=a.start,e=a.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var c=i.textContent.length,d=Math.min(a.start,c);a=a.end===void 0?d:Math.min(a.end,c),!e.extend&&d>a&&(c=a,a=d,d=c),c=R1(i,d);var x=R1(i,a);c&&x&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==x.node||e.focusOffset!==x.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),e.removeAllRanges(),d>a?(e.addRange(n),e.extend(x.node,x.offset)):(n.setEnd(x.node,x.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Vg=ir&&"documentMode"in document&&11>=document.documentMode,Ti=null,lu=null,_s=null,au=!1;function O1(e,n,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;au||Ti==null||Ti!==Ko(a)||(a=Ti,"selectionStart"in a&&sc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),_s&&js(_s,a)||(_s=a,a=nl(lu,"onSelect"),0<a.length&&(n=new nc("onSelect","select",null,n,i),e.push({event:n,listeners:a}),n.target=Ti)))}function vo(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Ni={animationend:vo("Animation","AnimationEnd"),animationiteration:vo("Animation","AnimationIteration"),animationstart:vo("Animation","AnimationStart"),transitionend:vo("Transition","TransitionEnd")},Ca={},Hf={};ir&&(Hf=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);function Nl(e){if(Ca[e])return Ca[e];if(!Ni[e])return e;var n=Ni[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Hf)return Ca[e]=n[i];return e}var Wf=Nl("animationend"),Gf=Nl("animationiteration"),Xf=Nl("animationstart"),Yf=Nl("transitionend"),Zf=new Map,b1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Br(e,n){Zf.set(e,n),ci(n,[e])}for(var Aa=0;Aa<b1.length;Aa++){var Sa=b1[Aa],zg=Sa.toLowerCase(),Hg=Sa[0].toUpperCase()+Sa.slice(1);Br(zg,"on"+Hg)}Br(Wf,"onAnimationEnd");Br(Gf,"onAnimationIteration");Br(Xf,"onAnimationStart");Br("dblclick","onDoubleClick");Br("focusin","onFocus");Br("focusout","onBlur");Br(Yf,"onTransitionEnd");zi("onMouseEnter",["mouseout","mouseover"]);zi("onMouseLeave",["mouseout","mouseover"]);zi("onPointerEnter",["pointerout","pointerover"]);zi("onPointerLeave",["pointerout","pointerover"]);ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ci("onBeforeInput",["compositionend","keypress","textInput","paste"]);ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ss));function D1(e,n,i){var a=e.type||"unknown-event";e.currentTarget=i,z2(a,n,void 0,e),e.currentTarget=null}function Kf(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],c=a.event;a=a.listeners;e:{var d=void 0;if(n)for(var x=a.length-1;0<=x;x--){var w=a[x],y=w.instance,m=w.currentTarget;if(w=w.listener,y!==d&&c.isPropagationStopped())break e;D1(c,w,m),d=y}else for(x=0;x<a.length;x++){if(w=a[x],y=w.instance,m=w.currentTarget,w=w.listener,y!==d&&c.isPropagationStopped())break e;D1(c,w,m),d=y}}}if(Qo)throw e=ru,Qo=!1,ru=null,e}function qe(e,n){var i=n[hu];i===void 0&&(i=n[hu]=new Set);var a=e+"__bubble";i.has(a)||(qf(n,e,2,!1),i.add(a))}function va(e,n,i){var a=0;n&&(a|=4),qf(i,e,a,n)}var Io="_reactListening"+Math.random().toString(36).slice(2);function Vs(e){if(!e[Io]){e[Io]=!0,nf.forEach(function(i){i!=="selectionchange"&&(Wg.has(i)||va(i,!1,e),va(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Io]||(n[Io]=!0,va("selectionchange",!1,n))}}function qf(e,n,i,a){switch(Mf(n)){case 1:var c=ig;break;case 4:c=sg;break;default:c=ec}i=c.bind(null,n,i,e),c=void 0,!nu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(n,i,{capture:!0,passive:c}):e.addEventListener(n,i,!0):c!==void 0?e.addEventListener(n,i,{passive:c}):e.addEventListener(n,i,!1)}function Ia(e,n,i,a,c){var d=a;if(!(n&1)&&!(n&2)&&a!==null)e:for(;;){if(a===null)return;var x=a.tag;if(x===3||x===4){var w=a.stateNode.containerInfo;if(w===c||w.nodeType===8&&w.parentNode===c)break;if(x===4)for(x=a.return;x!==null;){var y=x.tag;if((y===3||y===4)&&(y=x.stateNode.containerInfo,y===c||y.nodeType===8&&y.parentNode===c))return;x=x.return}for(;w!==null;){if(x=Qr(w),x===null)return;if(y=x.tag,y===5||y===6){a=d=x;continue e}w=w.parentNode}}a=a.return}yf(function(){var m=d,v=qu(i),T=[];e:{var M=Zf.get(e);if(M!==void 0){var U=nc,k=e;switch(e){case"keypress":if(Fo(i)===0)break e;case"keydown":case"keyup":U=Eg;break;case"focusin":k="focus",U=wa;break;case"focusout":k="blur",U=wa;break;case"beforeblur":case"afterblur":U=wa;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=E1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=ag;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Sg;break;case Wf:case Gf:case Xf:U=fg;break;case Yf:U=Ig;break;case"scroll":U=og;break;case"wheel":U=Ng;break;case"copy":case"cut":case"paste":U=hg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=A1}var P=(n&4)!==0,Z=!P&&e==="scroll",D=P?M!==null?M+"Capture":null:M;P=[];for(var _=m,R;_!==null;){R=_;var j=R.stateNode;if(R.tag===5&&j!==null&&(R=j,D!==null&&(j=Bs(_,D),j!=null&&P.push(zs(_,j,R)))),Z)break;_=_.return}0<P.length&&(M=new U(M,k,null,i,v),T.push({event:M,listeners:P}))}}if(!(n&7)){e:{if(M=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",M&&i!==eu&&(k=i.relatedTarget||i.fromElement)&&(Qr(k)||k[sr]))break e;if((U||M)&&(M=v.window===v?v:(M=v.ownerDocument)?M.defaultView||M.parentWindow:window,U?(k=i.relatedTarget||i.toElement,U=m,k=k?Qr(k):null,k!==null&&(Z=fi(k),k!==Z||k.tag!==5&&k.tag!==6)&&(k=null)):(U=null,k=m),U!==k)){if(P=E1,j="onMouseLeave",D="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(P=A1,j="onPointerLeave",D="onPointerEnter",_="pointer"),Z=U==null?M:_i(U),R=k==null?M:_i(k),M=new P(j,_+"leave",U,i,v),M.target=Z,M.relatedTarget=R,j=null,Qr(v)===m&&(P=new P(D,_+"enter",k,i,v),P.target=R,P.relatedTarget=Z,j=P),Z=j,U&&k)t:{for(P=U,D=k,_=0,R=P;R;R=Ci(R))_++;for(R=0,j=D;j;j=Ci(j))R++;for(;0<_-R;)P=Ci(P),_--;for(;0<R-_;)D=Ci(D),R--;for(;_--;){if(P===D||D!==null&&P===D.alternate)break t;P=Ci(P),D=Ci(D)}P=null}else P=null;U!==null&&M1(T,M,U,P,!1),k!==null&&Z!==null&&M1(T,Z,k,P,!0)}}e:{if(M=m?_i(m):window,U=M.nodeName&&M.nodeName.toLowerCase(),U==="select"||U==="input"&&M.type==="file")var ee=kg;else if(I1(M))if(Uf)ee=Fg;else{ee=Pg;var q=Bg}else(U=M.nodeName)&&U.toLowerCase()==="input"&&(M.type==="checkbox"||M.type==="radio")&&(ee=Lg);if(ee&&(ee=ee(e,m))){Ff(T,ee,i,v);break e}q&&q(e,M,m),e==="focusout"&&(q=M._wrapperState)&&q.controlled&&M.type==="number"&&Ka(M,"number",M.value)}switch(q=m?_i(m):window,e){case"focusin":(I1(q)||q.contentEditable==="true")&&(Ti=q,lu=m,_s=null);break;case"focusout":_s=lu=Ti=null;break;case"mousedown":au=!0;break;case"contextmenu":case"mouseup":case"dragend":au=!1,O1(T,i,v);break;case"selectionchange":if(Vg)break;case"keydown":case"keyup":O1(T,i,v)}var F;if(ic)e:{switch(e){case"compositionstart":var te="onCompositionStart";break e;case"compositionend":te="onCompositionEnd";break e;case"compositionupdate":te="onCompositionUpdate";break e}te=void 0}else Ii?Pf(e,i)&&(te="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(te="onCompositionStart");te&&(Bf&&i.locale!=="ko"&&(Ii||te!=="onCompositionStart"?te==="onCompositionEnd"&&Ii&&(F=kf()):(Sr=v,tc="value"in Sr?Sr.value:Sr.textContent,Ii=!0)),q=nl(m,te),0<q.length&&(te=new C1(te,e,null,i,v),T.push({event:te,listeners:q}),F?te.data=F:(F=Lf(i),F!==null&&(te.data=F)))),(F=Rg?Og(e,i):bg(e,i))&&(m=nl(m,"onBeforeInput"),0<m.length&&(v=new C1("onBeforeInput","beforeinput",null,i,v),T.push({event:v,listeners:m}),v.data=F))}Kf(T,n)})}function zs(e,n,i){return{instance:e,listener:n,currentTarget:i}}function nl(e,n){for(var i=n+"Capture",a=[];e!==null;){var c=e,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=Bs(e,i),d!=null&&a.unshift(zs(e,d,c)),d=Bs(e,n),d!=null&&a.push(zs(e,d,c))),e=e.return}return a}function Ci(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function M1(e,n,i,a,c){for(var d=n._reactName,x=[];i!==null&&i!==a;){var w=i,y=w.alternate,m=w.stateNode;if(y!==null&&y===a)break;w.tag===5&&m!==null&&(w=m,c?(y=Bs(i,d),y!=null&&x.unshift(zs(i,y,w))):c||(y=Bs(i,d),y!=null&&x.push(zs(i,y,w)))),i=i.return}x.length!==0&&e.push({event:n,listeners:x})}var Gg=/\r\n?/g,Xg=/\u0000|\uFFFD/g;function k1(e){return(typeof e=="string"?e:""+e).replace(Gg,`
`).replace(Xg,"")}function To(e,n,i){if(n=k1(n),k1(e)!==n&&i)throw Error(Q(425))}function rl(){}var uu=null,cu=null;function fu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var du=typeof setTimeout=="function"?setTimeout:void 0,Yg=typeof clearTimeout=="function"?clearTimeout:void 0,B1=typeof Promise=="function"?Promise:void 0,Zg=typeof queueMicrotask=="function"?queueMicrotask:typeof B1<"u"?function(e){return B1.resolve(null).then(e).catch(Kg)}:du;function Kg(e){setTimeout(function(){throw e})}function Ta(e,n){var i=n,a=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(a===0){e.removeChild(c),Fs(n);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=c}while(i);Fs(n)}function _r(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function P1(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var Ji=Math.random().toString(36).slice(2),Kn="__reactFiber$"+Ji,Hs="__reactProps$"+Ji,sr="__reactContainer$"+Ji,hu="__reactEvents$"+Ji,qg="__reactListeners$"+Ji,Qg="__reactHandles$"+Ji;function Qr(e){var n=e[Kn];if(n)return n;for(var i=e.parentNode;i;){if(n=i[sr]||i[Kn]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=P1(e);e!==null;){if(i=e[Kn])return i;e=P1(e)}return n}e=i,i=e.parentNode}return null}function $s(e){return e=e[Kn]||e[sr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _i(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function _l(e){return e[Hs]||null}var gu=[],Ri=-1;function Pr(e){return{current:e}}function Je(e){0>Ri||(e.current=gu[Ri],gu[Ri]=null,Ri--)}function Ze(e,n){Ri++,gu[Ri]=e.current,e.current=n}var kr={},Vt=Pr(kr),tn=Pr(!1),ii=kr;function Hi(e,n){var i=e.type.contextTypes;if(!i)return kr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in i)c[d]=n[d];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=c),c}function nn(e){return e=e.childContextTypes,e!=null}function il(){Je(tn),Je(Vt)}function L1(e,n,i){if(Vt.current!==kr)throw Error(Q(168));Ze(Vt,n),Ze(tn,i)}function Qf(e,n,i){var a=e.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var c in a)if(!(c in n))throw Error(Q(108,B2(e)||"Unknown",c));return st({},i,a)}function sl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kr,ii=Vt.current,Ze(Vt,e),Ze(tn,tn.current),!0}function F1(e,n,i){var a=e.stateNode;if(!a)throw Error(Q(169));i?(e=Qf(e,n,ii),a.__reactInternalMemoizedMergedChildContext=e,Je(tn),Je(Vt),Ze(Vt,e)):Je(tn),Ze(tn,i)}var er=null,Rl=!1,Na=!1;function Jf(e){er===null?er=[e]:er.push(e)}function Jg(e){Rl=!0,Jf(e)}function Lr(){if(!Na&&er!==null){Na=!0;var e=0,n=Ve;try{var i=er;for(Ve=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}er=null,Rl=!1}catch(c){throw er!==null&&(er=er.slice(e+1)),Sf(Qu,Lr),c}finally{Ve=n,Na=!1}}return null}var Oi=[],bi=0,ol=null,ll=0,Cn=[],An=0,si=null,tr=1,nr="";function Kr(e,n){Oi[bi++]=ll,Oi[bi++]=ol,ol=e,ll=n}function $f(e,n,i){Cn[An++]=tr,Cn[An++]=nr,Cn[An++]=si,si=e;var a=tr;e=nr;var c=32-Bn(a)-1;a&=~(1<<c),i+=1;var d=32-Bn(n)+c;if(30<d){var x=c-c%5;d=(a&(1<<x)-1).toString(32),a>>=x,c-=x,tr=1<<32-Bn(n)+c|i<<c|a,nr=d+e}else tr=1<<d|i<<c|a,nr=e}function oc(e){e.return!==null&&(Kr(e,1),$f(e,1,0))}function lc(e){for(;e===ol;)ol=Oi[--bi],Oi[bi]=null,ll=Oi[--bi],Oi[bi]=null;for(;e===si;)si=Cn[--An],Cn[An]=null,nr=Cn[--An],Cn[An]=null,tr=Cn[--An],Cn[An]=null}var fn=null,cn=null,tt=!1,kn=null;function ed(e,n){var i=Sn(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function U1(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,fn=e,cn=_r(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,fn=e,cn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=si!==null?{id:tr,overflow:nr}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=Sn(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,fn=e,cn=null,!0):!1;default:return!1}}function xu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pu(e){if(tt){var n=cn;if(n){var i=n;if(!U1(e,n)){if(xu(e))throw Error(Q(418));n=_r(i.nextSibling);var a=fn;n&&U1(e,n)?ed(a,i):(e.flags=e.flags&-4097|2,tt=!1,fn=e)}}else{if(xu(e))throw Error(Q(418));e.flags=e.flags&-4097|2,tt=!1,fn=e}}}function j1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;fn=e}function No(e){if(e!==fn)return!1;if(!tt)return j1(e),tt=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!fu(e.type,e.memoizedProps)),n&&(n=cn)){if(xu(e))throw td(),Error(Q(418));for(;n;)ed(e,n),n=_r(n.nextSibling)}if(j1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){cn=_r(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}cn=null}}else cn=fn?_r(e.stateNode.nextSibling):null;return!0}function td(){for(var e=cn;e;)e=_r(e.nextSibling)}function Wi(){cn=fn=null,tt=!1}function ac(e){kn===null?kn=[e]:kn.push(e)}var $g=ar.ReactCurrentBatchConfig;function ps(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(Q(309));var a=i.stateNode}if(!a)throw Error(Q(147,e));var c=a,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(x){var w=c.refs;x===null?delete w[d]:w[d]=x},n._stringRef=d,n)}if(typeof e!="string")throw Error(Q(284));if(!i._owner)throw Error(Q(290,e))}return e}function _o(e,n){throw e=Object.prototype.toString.call(n),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function V1(e){var n=e._init;return n(e._payload)}function nd(e){function n(D,_){if(e){var R=D.deletions;R===null?(D.deletions=[_],D.flags|=16):R.push(_)}}function i(D,_){if(!e)return null;for(;_!==null;)n(D,_),_=_.sibling;return null}function a(D,_){for(D=new Map;_!==null;)_.key!==null?D.set(_.key,_):D.set(_.index,_),_=_.sibling;return D}function c(D,_){return D=Dr(D,_),D.index=0,D.sibling=null,D}function d(D,_,R){return D.index=R,e?(R=D.alternate,R!==null?(R=R.index,R<_?(D.flags|=2,_):R):(D.flags|=2,_)):(D.flags|=1048576,_)}function x(D){return e&&D.alternate===null&&(D.flags|=2),D}function w(D,_,R,j){return _===null||_.tag!==6?(_=ka(R,D.mode,j),_.return=D,_):(_=c(_,R),_.return=D,_)}function y(D,_,R,j){var ee=R.type;return ee===vi?v(D,_,R.props.children,j,R.key):_!==null&&(_.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===yr&&V1(ee)===_.type)?(j=c(_,R.props),j.ref=ps(D,_,R),j.return=D,j):(j=Go(R.type,R.key,R.props,null,D.mode,j),j.ref=ps(D,_,R),j.return=D,j)}function m(D,_,R,j){return _===null||_.tag!==4||_.stateNode.containerInfo!==R.containerInfo||_.stateNode.implementation!==R.implementation?(_=Ba(R,D.mode,j),_.return=D,_):(_=c(_,R.children||[]),_.return=D,_)}function v(D,_,R,j,ee){return _===null||_.tag!==7?(_=ni(R,D.mode,j,ee),_.return=D,_):(_=c(_,R),_.return=D,_)}function T(D,_,R){if(typeof _=="string"&&_!==""||typeof _=="number")return _=ka(""+_,D.mode,R),_.return=D,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case mo:return R=Go(_.type,_.key,_.props,null,D.mode,R),R.ref=ps(D,null,_),R.return=D,R;case Si:return _=Ba(_,D.mode,R),_.return=D,_;case yr:var j=_._init;return T(D,j(_._payload),R)}if(Cs(_)||fs(_))return _=ni(_,D.mode,R,null),_.return=D,_;_o(D,_)}return null}function M(D,_,R,j){var ee=_!==null?_.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return ee!==null?null:w(D,_,""+R,j);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case mo:return R.key===ee?y(D,_,R,j):null;case Si:return R.key===ee?m(D,_,R,j):null;case yr:return ee=R._init,M(D,_,ee(R._payload),j)}if(Cs(R)||fs(R))return ee!==null?null:v(D,_,R,j,null);_o(D,R)}return null}function U(D,_,R,j,ee){if(typeof j=="string"&&j!==""||typeof j=="number")return D=D.get(R)||null,w(_,D,""+j,ee);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case mo:return D=D.get(j.key===null?R:j.key)||null,y(_,D,j,ee);case Si:return D=D.get(j.key===null?R:j.key)||null,m(_,D,j,ee);case yr:var q=j._init;return U(D,_,R,q(j._payload),ee)}if(Cs(j)||fs(j))return D=D.get(R)||null,v(_,D,j,ee,null);_o(_,j)}return null}function k(D,_,R,j){for(var ee=null,q=null,F=_,te=_=0,G=null;F!==null&&te<R.length;te++){F.index>te?(G=F,F=null):G=F.sibling;var me=M(D,F,R[te],j);if(me===null){F===null&&(F=G);break}e&&F&&me.alternate===null&&n(D,F),_=d(me,_,te),q===null?ee=me:q.sibling=me,q=me,F=G}if(te===R.length)return i(D,F),tt&&Kr(D,te),ee;if(F===null){for(;te<R.length;te++)F=T(D,R[te],j),F!==null&&(_=d(F,_,te),q===null?ee=F:q.sibling=F,q=F);return tt&&Kr(D,te),ee}for(F=a(D,F);te<R.length;te++)G=U(F,D,te,R[te],j),G!==null&&(e&&G.alternate!==null&&F.delete(G.key===null?te:G.key),_=d(G,_,te),q===null?ee=G:q.sibling=G,q=G);return e&&F.forEach(function(Pe){return n(D,Pe)}),tt&&Kr(D,te),ee}function P(D,_,R,j){var ee=fs(R);if(typeof ee!="function")throw Error(Q(150));if(R=ee.call(R),R==null)throw Error(Q(151));for(var q=ee=null,F=_,te=_=0,G=null,me=R.next();F!==null&&!me.done;te++,me=R.next()){F.index>te?(G=F,F=null):G=F.sibling;var Pe=M(D,F,me.value,j);if(Pe===null){F===null&&(F=G);break}e&&F&&Pe.alternate===null&&n(D,F),_=d(Pe,_,te),q===null?ee=Pe:q.sibling=Pe,q=Pe,F=G}if(me.done)return i(D,F),tt&&Kr(D,te),ee;if(F===null){for(;!me.done;te++,me=R.next())me=T(D,me.value,j),me!==null&&(_=d(me,_,te),q===null?ee=me:q.sibling=me,q=me);return tt&&Kr(D,te),ee}for(F=a(D,F);!me.done;te++,me=R.next())me=U(F,D,te,me.value,j),me!==null&&(e&&me.alternate!==null&&F.delete(me.key===null?te:me.key),_=d(me,_,te),q===null?ee=me:q.sibling=me,q=me);return e&&F.forEach(function(ue){return n(D,ue)}),tt&&Kr(D,te),ee}function Z(D,_,R,j){if(typeof R=="object"&&R!==null&&R.type===vi&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case mo:e:{for(var ee=R.key,q=_;q!==null;){if(q.key===ee){if(ee=R.type,ee===vi){if(q.tag===7){i(D,q.sibling),_=c(q,R.props.children),_.return=D,D=_;break e}}else if(q.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===yr&&V1(ee)===q.type){i(D,q.sibling),_=c(q,R.props),_.ref=ps(D,q,R),_.return=D,D=_;break e}i(D,q);break}else n(D,q);q=q.sibling}R.type===vi?(_=ni(R.props.children,D.mode,j,R.key),_.return=D,D=_):(j=Go(R.type,R.key,R.props,null,D.mode,j),j.ref=ps(D,_,R),j.return=D,D=j)}return x(D);case Si:e:{for(q=R.key;_!==null;){if(_.key===q)if(_.tag===4&&_.stateNode.containerInfo===R.containerInfo&&_.stateNode.implementation===R.implementation){i(D,_.sibling),_=c(_,R.children||[]),_.return=D,D=_;break e}else{i(D,_);break}else n(D,_);_=_.sibling}_=Ba(R,D.mode,j),_.return=D,D=_}return x(D);case yr:return q=R._init,Z(D,_,q(R._payload),j)}if(Cs(R))return k(D,_,R,j);if(fs(R))return P(D,_,R,j);_o(D,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,_!==null&&_.tag===6?(i(D,_.sibling),_=c(_,R),_.return=D,D=_):(i(D,_),_=ka(R,D.mode,j),_.return=D,D=_),x(D)):i(D,_)}return Z}var Gi=nd(!0),rd=nd(!1),al=Pr(null),ul=null,Di=null,uc=null;function cc(){uc=Di=ul=null}function fc(e){var n=al.current;Je(al),e._currentValue=n}function mu(e,n,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===i)break;e=e.return}}function ji(e,n){ul=e,uc=Di=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(en=!0),e.firstContext=null)}function In(e){var n=e._currentValue;if(uc!==e)if(e={context:e,memoizedValue:n,next:null},Di===null){if(ul===null)throw Error(Q(308));Di=e,ul.dependencies={lanes:0,firstContext:e}}else Di=Di.next=e;return n}var Jr=null;function dc(e){Jr===null?Jr=[e]:Jr.push(e)}function id(e,n,i,a){var c=n.interleaved;return c===null?(i.next=i,dc(n)):(i.next=c.next,c.next=i),n.interleaved=i,or(e,a)}function or(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Er=!1;function hc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Rr(e,n,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,ke&2){var c=a.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),a.pending=n,or(e,i)}return c=a.interleaved,c===null?(n.next=n,dc(a)):(n.next=c.next,c.next=n),a.interleaved=n,or(e,i)}function Uo(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var a=n.lanes;a&=e.pendingLanes,i|=a,n.lanes=i,Ju(e,i)}}function z1(e,n){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var c=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var x={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};d===null?c=d=x:d=d.next=x,i=i.next}while(i!==null);d===null?c=d=n:d=d.next=n}else c=d=n;i={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function cl(e,n,i,a){var c=e.updateQueue;Er=!1;var d=c.firstBaseUpdate,x=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var y=w,m=y.next;y.next=null,x===null?d=m:x.next=m,x=y;var v=e.alternate;v!==null&&(v=v.updateQueue,w=v.lastBaseUpdate,w!==x&&(w===null?v.firstBaseUpdate=m:w.next=m,v.lastBaseUpdate=y))}if(d!==null){var T=c.baseState;x=0,v=m=y=null,w=d;do{var M=w.lane,U=w.eventTime;if((a&M)===M){v!==null&&(v=v.next={eventTime:U,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var k=e,P=w;switch(M=n,U=i,P.tag){case 1:if(k=P.payload,typeof k=="function"){T=k.call(U,T,M);break e}T=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=P.payload,M=typeof k=="function"?k.call(U,T,M):k,M==null)break e;T=st({},T,M);break e;case 2:Er=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,M=c.effects,M===null?c.effects=[w]:M.push(w))}else U={eventTime:U,lane:M,tag:w.tag,payload:w.payload,callback:w.callback,next:null},v===null?(m=v=U,y=T):v=v.next=U,x|=M;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;M=w,w=M.next,M.next=null,c.lastBaseUpdate=M,c.shared.pending=null}}while(!0);if(v===null&&(y=T),c.baseState=y,c.firstBaseUpdate=m,c.lastBaseUpdate=v,n=c.shared.interleaved,n!==null){c=n;do x|=c.lane,c=c.next;while(c!==n)}else d===null&&(c.shared.lanes=0);li|=x,e.lanes=x,e.memoizedState=T}}function H1(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var a=e[n],c=a.callback;if(c!==null){if(a.callback=null,a=i,typeof c!="function")throw Error(Q(191,c));c.call(a)}}}var eo={},Qn=Pr(eo),Ws=Pr(eo),Gs=Pr(eo);function $r(e){if(e===eo)throw Error(Q(174));return e}function gc(e,n){switch(Ze(Gs,n),Ze(Ws,e),Ze(Qn,eo),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Qa(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Qa(n,e)}Je(Qn),Ze(Qn,n)}function Xi(){Je(Qn),Je(Ws),Je(Gs)}function od(e){$r(Gs.current);var n=$r(Qn.current),i=Qa(n,e.type);n!==i&&(Ze(Ws,e),Ze(Qn,i))}function xc(e){Ws.current===e&&(Je(Qn),Je(Ws))}var rt=Pr(0);function fl(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var _a=[];function pc(){for(var e=0;e<_a.length;e++)_a[e]._workInProgressVersionPrimary=null;_a.length=0}var jo=ar.ReactCurrentDispatcher,Ra=ar.ReactCurrentBatchConfig,oi=0,it=null,Ct=null,Tt=null,dl=!1,Rs=!1,Xs=0,ex=0;function Lt(){throw Error(Q(321))}function mc(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Ln(e[i],n[i]))return!1;return!0}function wc(e,n,i,a,c,d){if(oi=d,it=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,jo.current=e===null||e.memoizedState===null?ix:sx,e=i(a,c),Rs){d=0;do{if(Rs=!1,Xs=0,25<=d)throw Error(Q(301));d+=1,Tt=Ct=null,n.updateQueue=null,jo.current=ox,e=i(a,c)}while(Rs)}if(jo.current=hl,n=Ct!==null&&Ct.next!==null,oi=0,Tt=Ct=it=null,dl=!1,n)throw Error(Q(300));return e}function yc(){var e=Xs!==0;return Xs=0,e}function Zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?it.memoizedState=Tt=e:Tt=Tt.next=e,Tt}function Tn(){if(Ct===null){var e=it.alternate;e=e!==null?e.memoizedState:null}else e=Ct.next;var n=Tt===null?it.memoizedState:Tt.next;if(n!==null)Tt=n,Ct=e;else{if(e===null)throw Error(Q(310));Ct=e,e={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Tt===null?it.memoizedState=Tt=e:Tt=Tt.next=e}return Tt}function Ys(e,n){return typeof n=="function"?n(e):n}function Oa(e){var n=Tn(),i=n.queue;if(i===null)throw Error(Q(311));i.lastRenderedReducer=e;var a=Ct,c=a.baseQueue,d=i.pending;if(d!==null){if(c!==null){var x=c.next;c.next=d.next,d.next=x}a.baseQueue=c=d,i.pending=null}if(c!==null){d=c.next,a=a.baseState;var w=x=null,y=null,m=d;do{var v=m.lane;if((oi&v)===v)y!==null&&(y=y.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),a=m.hasEagerState?m.eagerState:e(a,m.action);else{var T={lane:v,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};y===null?(w=y=T,x=a):y=y.next=T,it.lanes|=v,li|=v}m=m.next}while(m!==null&&m!==d);y===null?x=a:y.next=w,Ln(a,n.memoizedState)||(en=!0),n.memoizedState=a,n.baseState=x,n.baseQueue=y,i.lastRenderedState=a}if(e=i.interleaved,e!==null){c=e;do d=c.lane,it.lanes|=d,li|=d,c=c.next;while(c!==e)}else c===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function ba(e){var n=Tn(),i=n.queue;if(i===null)throw Error(Q(311));i.lastRenderedReducer=e;var a=i.dispatch,c=i.pending,d=n.memoizedState;if(c!==null){i.pending=null;var x=c=c.next;do d=e(d,x.action),x=x.next;while(x!==c);Ln(d,n.memoizedState)||(en=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),i.lastRenderedState=d}return[d,a]}function ld(){}function ad(e,n){var i=it,a=Tn(),c=n(),d=!Ln(a.memoizedState,c);if(d&&(a.memoizedState=c,en=!0),a=a.queue,Ec(fd.bind(null,i,a,e),[e]),a.getSnapshot!==n||d||Tt!==null&&Tt.memoizedState.tag&1){if(i.flags|=2048,Zs(9,cd.bind(null,i,a,c,n),void 0,null),Nt===null)throw Error(Q(349));oi&30||ud(i,n,c)}return c}function ud(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=it.updateQueue,n===null?(n={lastEffect:null,stores:null},it.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function cd(e,n,i,a){n.value=i,n.getSnapshot=a,dd(n)&&hd(e)}function fd(e,n,i){return i(function(){dd(n)&&hd(e)})}function dd(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Ln(e,i)}catch{return!0}}function hd(e){var n=or(e,1);n!==null&&Pn(n,e,1,-1)}function W1(e){var n=Zn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:e},n.queue=e,e=e.dispatch=rx.bind(null,it,e),[n.memoizedState,e]}function Zs(e,n,i,a){return e={tag:e,create:n,destroy:i,deps:a,next:null},n=it.updateQueue,n===null?(n={lastEffect:null,stores:null},it.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,n.lastEffect=e)),e}function gd(){return Tn().memoizedState}function Vo(e,n,i,a){var c=Zn();it.flags|=e,c.memoizedState=Zs(1|n,i,void 0,a===void 0?null:a)}function Ol(e,n,i,a){var c=Tn();a=a===void 0?null:a;var d=void 0;if(Ct!==null){var x=Ct.memoizedState;if(d=x.destroy,a!==null&&mc(a,x.deps)){c.memoizedState=Zs(n,i,d,a);return}}it.flags|=e,c.memoizedState=Zs(1|n,i,d,a)}function G1(e,n){return Vo(8390656,8,e,n)}function Ec(e,n){return Ol(2048,8,e,n)}function xd(e,n){return Ol(4,2,e,n)}function pd(e,n){return Ol(4,4,e,n)}function md(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function wd(e,n,i){return i=i!=null?i.concat([e]):null,Ol(4,4,md.bind(null,n,e),i)}function Cc(){}function yd(e,n){var i=Tn();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&mc(n,a[1])?a[0]:(i.memoizedState=[e,n],e)}function Ed(e,n){var i=Tn();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&mc(n,a[1])?a[0]:(e=e(),i.memoizedState=[e,n],e)}function Cd(e,n,i){return oi&21?(Ln(i,n)||(i=Tf(),it.lanes|=i,li|=i,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,en=!0),e.memoizedState=i)}function tx(e,n){var i=Ve;Ve=i!==0&&4>i?i:4,e(!0);var a=Ra.transition;Ra.transition={};try{e(!1),n()}finally{Ve=i,Ra.transition=a}}function Ad(){return Tn().memoizedState}function nx(e,n,i){var a=br(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},Sd(e))vd(n,i);else if(i=id(e,n,i,a),i!==null){var c=Gt();Pn(i,e,a,c),Id(i,n,a)}}function rx(e,n,i){var a=br(e),c={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(Sd(e))vd(n,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var x=n.lastRenderedState,w=d(x,i);if(c.hasEagerState=!0,c.eagerState=w,Ln(w,x)){var y=n.interleaved;y===null?(c.next=c,dc(n)):(c.next=y.next,y.next=c),n.interleaved=c;return}}catch{}finally{}i=id(e,n,c,a),i!==null&&(c=Gt(),Pn(i,e,a,c),Id(i,n,a))}}function Sd(e){var n=e.alternate;return e===it||n!==null&&n===it}function vd(e,n){Rs=dl=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Id(e,n,i){if(i&4194240){var a=n.lanes;a&=e.pendingLanes,i|=a,n.lanes=i,Ju(e,i)}}var hl={readContext:In,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},ix={readContext:In,useCallback:function(e,n){return Zn().memoizedState=[e,n===void 0?null:n],e},useContext:In,useEffect:G1,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,Vo(4194308,4,md.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Vo(4194308,4,e,n)},useInsertionEffect:function(e,n){return Vo(4,2,e,n)},useMemo:function(e,n){var i=Zn();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var a=Zn();return n=i!==void 0?i(n):n,a.memoizedState=a.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=nx.bind(null,it,e),[a.memoizedState,e]},useRef:function(e){var n=Zn();return e={current:e},n.memoizedState=e},useState:W1,useDebugValue:Cc,useDeferredValue:function(e){return Zn().memoizedState=e},useTransition:function(){var e=W1(!1),n=e[0];return e=tx.bind(null,e[1]),Zn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var a=it,c=Zn();if(tt){if(i===void 0)throw Error(Q(407));i=i()}else{if(i=n(),Nt===null)throw Error(Q(349));oi&30||ud(a,n,i)}c.memoizedState=i;var d={value:i,getSnapshot:n};return c.queue=d,G1(fd.bind(null,a,d,e),[e]),a.flags|=2048,Zs(9,cd.bind(null,a,d,i,n),void 0,null),i},useId:function(){var e=Zn(),n=Nt.identifierPrefix;if(tt){var i=nr,a=tr;i=(a&~(1<<32-Bn(a)-1)).toString(32)+i,n=":"+n+"R"+i,i=Xs++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=ex++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},sx={readContext:In,useCallback:yd,useContext:In,useEffect:Ec,useImperativeHandle:wd,useInsertionEffect:xd,useLayoutEffect:pd,useMemo:Ed,useReducer:Oa,useRef:gd,useState:function(){return Oa(Ys)},useDebugValue:Cc,useDeferredValue:function(e){var n=Tn();return Cd(n,Ct.memoizedState,e)},useTransition:function(){var e=Oa(Ys)[0],n=Tn().memoizedState;return[e,n]},useMutableSource:ld,useSyncExternalStore:ad,useId:Ad,unstable_isNewReconciler:!1},ox={readContext:In,useCallback:yd,useContext:In,useEffect:Ec,useImperativeHandle:wd,useInsertionEffect:xd,useLayoutEffect:pd,useMemo:Ed,useReducer:ba,useRef:gd,useState:function(){return ba(Ys)},useDebugValue:Cc,useDeferredValue:function(e){var n=Tn();return Ct===null?n.memoizedState=e:Cd(n,Ct.memoizedState,e)},useTransition:function(){var e=ba(Ys)[0],n=Tn().memoizedState;return[e,n]},useMutableSource:ld,useSyncExternalStore:ad,useId:Ad,unstable_isNewReconciler:!1};function Dn(e,n){if(e&&e.defaultProps){n=st({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function wu(e,n,i,a){n=e.memoizedState,i=i(a,n),i=i==null?n:st({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var bl={isMounted:function(e){return(e=e._reactInternals)?fi(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var a=Gt(),c=br(e),d=rr(a,c);d.payload=n,i!=null&&(d.callback=i),n=Rr(e,d,c),n!==null&&(Pn(n,e,c,a),Uo(n,e,c))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var a=Gt(),c=br(e),d=rr(a,c);d.tag=1,d.payload=n,i!=null&&(d.callback=i),n=Rr(e,d,c),n!==null&&(Pn(n,e,c,a),Uo(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Gt(),a=br(e),c=rr(i,a);c.tag=2,n!=null&&(c.callback=n),n=Rr(e,c,a),n!==null&&(Pn(n,e,a,i),Uo(n,e,a))}};function X1(e,n,i,a,c,d,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,x):n.prototype&&n.prototype.isPureReactComponent?!js(i,a)||!js(c,d):!0}function Td(e,n,i){var a=!1,c=kr,d=n.contextType;return typeof d=="object"&&d!==null?d=In(d):(c=nn(n)?ii:Vt.current,a=n.contextTypes,d=(a=a!=null)?Hi(e,c):kr),n=new n(i,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=bl,e.stateNode=n,n._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=d),n}function Y1(e,n,i,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,a),n.state!==e&&bl.enqueueReplaceState(n,n.state,null)}function yu(e,n,i,a){var c=e.stateNode;c.props=i,c.state=e.memoizedState,c.refs={},hc(e);var d=n.contextType;typeof d=="object"&&d!==null?c.context=In(d):(d=nn(n)?ii:Vt.current,c.context=Hi(e,d)),c.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(wu(e,n,d,i),c.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&bl.enqueueReplaceState(c,c.state,null),cl(e,i,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Yi(e,n){try{var i="",a=n;do i+=k2(a),a=a.return;while(a);var c=i}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:c,digest:null}}function Da(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function Eu(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var lx=typeof WeakMap=="function"?WeakMap:Map;function Nd(e,n,i){i=rr(-1,i),i.tag=3,i.payload={element:null};var a=n.value;return i.callback=function(){xl||(xl=!0,Ou=a),Eu(e,n)},i}function _d(e,n,i){i=rr(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=n.value;i.payload=function(){return a(c)},i.callback=function(){Eu(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(i.callback=function(){Eu(e,n),typeof a!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var x=n.stack;this.componentDidCatch(n.value,{componentStack:x!==null?x:""})}),i}function Z1(e,n,i){var a=e.pingCache;if(a===null){a=e.pingCache=new lx;var c=new Set;a.set(n,c)}else c=a.get(n),c===void 0&&(c=new Set,a.set(n,c));c.has(i)||(c.add(i),e=Cx.bind(null,e,n,i),n.then(e,e))}function K1(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function q1(e,n,i,a,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=rr(-1,1),n.tag=2,Rr(i,n,1))),i.lanes|=1),e)}var ax=ar.ReactCurrentOwner,en=!1;function Wt(e,n,i,a){n.child=e===null?rd(n,null,i,a):Gi(n,e.child,i,a)}function Q1(e,n,i,a,c){i=i.render;var d=n.ref;return ji(n,c),a=wc(e,n,i,a,d,c),i=yc(),e!==null&&!en?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,lr(e,n,c)):(tt&&i&&oc(n),n.flags|=1,Wt(e,n,a,c),n.child)}function J1(e,n,i,a,c){if(e===null){var d=i.type;return typeof d=="function"&&!Rc(d)&&d.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=d,Rd(e,n,d,a,c)):(e=Go(i.type,null,a,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!(e.lanes&c)){var x=d.memoizedProps;if(i=i.compare,i=i!==null?i:js,i(x,a)&&e.ref===n.ref)return lr(e,n,c)}return n.flags|=1,e=Dr(d,a),e.ref=n.ref,e.return=n,n.child=e}function Rd(e,n,i,a,c){if(e!==null){var d=e.memoizedProps;if(js(d,a)&&e.ref===n.ref)if(en=!1,n.pendingProps=a=d,(e.lanes&c)!==0)e.flags&131072&&(en=!0);else return n.lanes=e.lanes,lr(e,n,c)}return Cu(e,n,i,a,c)}function Od(e,n,i){var a=n.pendingProps,c=a.children,d=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(ki,un),un|=i;else{if(!(i&1073741824))return e=d!==null?d.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ze(ki,un),un|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:i,Ze(ki,un),un|=a}else d!==null?(a=d.baseLanes|i,n.memoizedState=null):a=i,Ze(ki,un),un|=a;return Wt(e,n,c,i),n.child}function bd(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function Cu(e,n,i,a,c){var d=nn(i)?ii:Vt.current;return d=Hi(n,d),ji(n,c),i=wc(e,n,i,a,d,c),a=yc(),e!==null&&!en?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~c,lr(e,n,c)):(tt&&a&&oc(n),n.flags|=1,Wt(e,n,i,c),n.child)}function $1(e,n,i,a,c){if(nn(i)){var d=!0;sl(n)}else d=!1;if(ji(n,c),n.stateNode===null)zo(e,n),Td(n,i,a),yu(n,i,a,c),a=!0;else if(e===null){var x=n.stateNode,w=n.memoizedProps;x.props=w;var y=x.context,m=i.contextType;typeof m=="object"&&m!==null?m=In(m):(m=nn(i)?ii:Vt.current,m=Hi(n,m));var v=i.getDerivedStateFromProps,T=typeof v=="function"||typeof x.getSnapshotBeforeUpdate=="function";T||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(w!==a||y!==m)&&Y1(n,x,a,m),Er=!1;var M=n.memoizedState;x.state=M,cl(n,a,x,c),y=n.memoizedState,w!==a||M!==y||tn.current||Er?(typeof v=="function"&&(wu(n,i,v,a),y=n.memoizedState),(w=Er||X1(n,i,w,a,M,y,m))?(T||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(n.flags|=4194308)):(typeof x.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=y),x.props=a,x.state=y,x.context=m,a=w):(typeof x.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{x=n.stateNode,sd(e,n),w=n.memoizedProps,m=n.type===n.elementType?w:Dn(n.type,w),x.props=m,T=n.pendingProps,M=x.context,y=i.contextType,typeof y=="object"&&y!==null?y=In(y):(y=nn(i)?ii:Vt.current,y=Hi(n,y));var U=i.getDerivedStateFromProps;(v=typeof U=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(w!==T||M!==y)&&Y1(n,x,a,y),Er=!1,M=n.memoizedState,x.state=M,cl(n,a,x,c);var k=n.memoizedState;w!==T||M!==k||tn.current||Er?(typeof U=="function"&&(wu(n,i,U,a),k=n.memoizedState),(m=Er||X1(n,i,m,a,M,k,y)||!1)?(v||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(a,k,y),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(a,k,y)),typeof x.componentDidUpdate=="function"&&(n.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof x.componentDidUpdate!="function"||w===e.memoizedProps&&M===e.memoizedState||(n.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&M===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=k),x.props=a,x.state=k,x.context=y,a=m):(typeof x.componentDidUpdate!="function"||w===e.memoizedProps&&M===e.memoizedState||(n.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&M===e.memoizedState||(n.flags|=1024),a=!1)}return Au(e,n,i,a,d,c)}function Au(e,n,i,a,c,d){bd(e,n);var x=(n.flags&128)!==0;if(!a&&!x)return c&&F1(n,i,!1),lr(e,n,d);a=n.stateNode,ax.current=n;var w=x&&typeof i.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,e!==null&&x?(n.child=Gi(n,e.child,null,d),n.child=Gi(n,null,w,d)):Wt(e,n,w,d),n.memoizedState=a.state,c&&F1(n,i,!0),n.child}function Dd(e){var n=e.stateNode;n.pendingContext?L1(e,n.pendingContext,n.pendingContext!==n.context):n.context&&L1(e,n.context,!1),gc(e,n.containerInfo)}function e0(e,n,i,a,c){return Wi(),ac(c),n.flags|=256,Wt(e,n,i,a),n.child}var Su={dehydrated:null,treeContext:null,retryLane:0};function vu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Md(e,n,i){var a=n.pendingProps,c=rt.current,d=!1,x=(n.flags&128)!==0,w;if((w=x)||(w=e!==null&&e.memoizedState===null?!1:(c&2)!==0),w?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Ze(rt,c&1),e===null)return pu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(x=a.children,e=a.fallback,d?(a=n.mode,d=n.child,x={mode:"hidden",children:x},!(a&1)&&d!==null?(d.childLanes=0,d.pendingProps=x):d=kl(x,a,0,null),e=ni(e,a,i,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=vu(i),n.memoizedState=Su,e):Ac(n,x));if(c=e.memoizedState,c!==null&&(w=c.dehydrated,w!==null))return ux(e,n,x,a,w,c,i);if(d){d=a.fallback,x=n.mode,c=e.child,w=c.sibling;var y={mode:"hidden",children:a.children};return!(x&1)&&n.child!==c?(a=n.child,a.childLanes=0,a.pendingProps=y,n.deletions=null):(a=Dr(c,y),a.subtreeFlags=c.subtreeFlags&14680064),w!==null?d=Dr(w,d):(d=ni(d,x,i,null),d.flags|=2),d.return=n,a.return=n,a.sibling=d,n.child=a,a=d,d=n.child,x=e.child.memoizedState,x=x===null?vu(i):{baseLanes:x.baseLanes|i,cachePool:null,transitions:x.transitions},d.memoizedState=x,d.childLanes=e.childLanes&~i,n.memoizedState=Su,a}return d=e.child,e=d.sibling,a=Dr(d,{mode:"visible",children:a.children}),!(n.mode&1)&&(a.lanes=i),a.return=n,a.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=a,n.memoizedState=null,a}function Ac(e,n){return n=kl({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Ro(e,n,i,a){return a!==null&&ac(a),Gi(n,e.child,null,i),e=Ac(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ux(e,n,i,a,c,d,x){if(i)return n.flags&256?(n.flags&=-257,a=Da(Error(Q(422))),Ro(e,n,x,a)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=a.fallback,c=n.mode,a=kl({mode:"visible",children:a.children},c,0,null),d=ni(d,c,x,null),d.flags|=2,a.return=n,d.return=n,a.sibling=d,n.child=a,n.mode&1&&Gi(n,e.child,null,x),n.child.memoizedState=vu(x),n.memoizedState=Su,d);if(!(n.mode&1))return Ro(e,n,x,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var w=a.dgst;return a=w,d=Error(Q(419)),a=Da(d,a,void 0),Ro(e,n,x,a)}if(w=(x&e.childLanes)!==0,en||w){if(a=Nt,a!==null){switch(x&-x){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|x)?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,or(e,c),Pn(a,e,c,-1))}return _c(),a=Da(Error(Q(421))),Ro(e,n,x,a)}return c.data==="$?"?(n.flags|=128,n.child=e.child,n=Ax.bind(null,e),c._reactRetry=n,null):(e=d.treeContext,cn=_r(c.nextSibling),fn=n,tt=!0,kn=null,e!==null&&(Cn[An++]=tr,Cn[An++]=nr,Cn[An++]=si,tr=e.id,nr=e.overflow,si=n),n=Ac(n,a.children),n.flags|=4096,n)}function t0(e,n,i){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),mu(e.return,n,i)}function Ma(e,n,i,a,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:c}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=i,d.tailMode=c)}function kd(e,n,i){var a=n.pendingProps,c=a.revealOrder,d=a.tail;if(Wt(e,n,a.children,i),a=rt.current,a&2)a=a&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&t0(e,i,n);else if(e.tag===19)t0(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Ze(rt,a),!(n.mode&1))n.memoizedState=null;else switch(c){case"forwards":for(i=n.child,c=null;i!==null;)e=i.alternate,e!==null&&fl(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=n.child,n.child=null):(c=i.sibling,i.sibling=null),Ma(n,!1,c,i,d);break;case"backwards":for(i=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&fl(e)===null){n.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Ma(n,!0,i,null,d);break;case"together":Ma(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function zo(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function lr(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),li|=n.lanes,!(i&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(Q(153));if(n.child!==null){for(e=n.child,i=Dr(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Dr(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function cx(e,n,i){switch(n.tag){case 3:Dd(n),Wi();break;case 5:od(n);break;case 1:nn(n.type)&&sl(n);break;case 4:gc(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,c=n.memoizedProps.value;Ze(al,a._currentValue),a._currentValue=c;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(Ze(rt,rt.current&1),n.flags|=128,null):i&n.child.childLanes?Md(e,n,i):(Ze(rt,rt.current&1),e=lr(e,n,i),e!==null?e.sibling:null);Ze(rt,rt.current&1);break;case 19:if(a=(i&n.childLanes)!==0,e.flags&128){if(a)return kd(e,n,i);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ze(rt,rt.current),a)break;return null;case 22:case 23:return n.lanes=0,Od(e,n,i)}return lr(e,n,i)}var Bd,Iu,Pd,Ld;Bd=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Iu=function(){};Pd=function(e,n,i,a){var c=e.memoizedProps;if(c!==a){e=n.stateNode,$r(Qn.current);var d=null;switch(i){case"input":c=Ya(e,c),a=Ya(e,a),d=[];break;case"select":c=st({},c,{value:void 0}),a=st({},a,{value:void 0}),d=[];break;case"textarea":c=qa(e,c),a=qa(e,a),d=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=rl)}Ja(i,a);var x;i=null;for(m in c)if(!a.hasOwnProperty(m)&&c.hasOwnProperty(m)&&c[m]!=null)if(m==="style"){var w=c[m];for(x in w)w.hasOwnProperty(x)&&(i||(i={}),i[x]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Ms.hasOwnProperty(m)?d||(d=[]):(d=d||[]).push(m,null));for(m in a){var y=a[m];if(w=c!=null?c[m]:void 0,a.hasOwnProperty(m)&&y!==w&&(y!=null||w!=null))if(m==="style")if(w){for(x in w)!w.hasOwnProperty(x)||y&&y.hasOwnProperty(x)||(i||(i={}),i[x]="");for(x in y)y.hasOwnProperty(x)&&w[x]!==y[x]&&(i||(i={}),i[x]=y[x])}else i||(d||(d=[]),d.push(m,i)),i=y;else m==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,w=w?w.__html:void 0,y!=null&&w!==y&&(d=d||[]).push(m,y)):m==="children"?typeof y!="string"&&typeof y!="number"||(d=d||[]).push(m,""+y):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Ms.hasOwnProperty(m)?(y!=null&&m==="onScroll"&&qe("scroll",e),d||w===y||(d=[])):(d=d||[]).push(m,y))}i&&(d=d||[]).push("style",i);var m=d;(n.updateQueue=m)&&(n.flags|=4)}};Ld=function(e,n,i,a){i!==a&&(n.flags|=4)};function ms(e,n){if(!tt)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ft(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(n)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=i,n}function fx(e,n,i){var a=n.pendingProps;switch(lc(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(n),null;case 1:return nn(n.type)&&il(),Ft(n),null;case 3:return a=n.stateNode,Xi(),Je(tn),Je(Vt),pc(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(No(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,kn!==null&&(Mu(kn),kn=null))),Iu(e,n),Ft(n),null;case 5:xc(n);var c=$r(Gs.current);if(i=n.type,e!==null&&n.stateNode!=null)Pd(e,n,i,a,c),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(Q(166));return Ft(n),null}if(e=$r(Qn.current),No(n)){a=n.stateNode,i=n.type;var d=n.memoizedProps;switch(a[Kn]=n,a[Hs]=d,e=(n.mode&1)!==0,i){case"dialog":qe("cancel",a),qe("close",a);break;case"iframe":case"object":case"embed":qe("load",a);break;case"video":case"audio":for(c=0;c<Ss.length;c++)qe(Ss[c],a);break;case"source":qe("error",a);break;case"img":case"image":case"link":qe("error",a),qe("load",a);break;case"details":qe("toggle",a);break;case"input":c1(a,d),qe("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},qe("invalid",a);break;case"textarea":d1(a,d),qe("invalid",a)}Ja(i,d),c=null;for(var x in d)if(d.hasOwnProperty(x)){var w=d[x];x==="children"?typeof w=="string"?a.textContent!==w&&(d.suppressHydrationWarning!==!0&&To(a.textContent,w,e),c=["children",w]):typeof w=="number"&&a.textContent!==""+w&&(d.suppressHydrationWarning!==!0&&To(a.textContent,w,e),c=["children",""+w]):Ms.hasOwnProperty(x)&&w!=null&&x==="onScroll"&&qe("scroll",a)}switch(i){case"input":wo(a),f1(a,d,!0);break;case"textarea":wo(a),h1(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=rl)}a=c,n.updateQueue=a,a!==null&&(n.flags|=4)}else{x=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ff(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=x.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=x.createElement(i,{is:a.is}):(e=x.createElement(i),i==="select"&&(x=e,a.multiple?x.multiple=!0:a.size&&(x.size=a.size))):e=x.createElementNS(e,i),e[Kn]=n,e[Hs]=a,Bd(e,n,!1,!1),n.stateNode=e;e:{switch(x=$a(i,a),i){case"dialog":qe("cancel",e),qe("close",e),c=a;break;case"iframe":case"object":case"embed":qe("load",e),c=a;break;case"video":case"audio":for(c=0;c<Ss.length;c++)qe(Ss[c],e);c=a;break;case"source":qe("error",e),c=a;break;case"img":case"image":case"link":qe("error",e),qe("load",e),c=a;break;case"details":qe("toggle",e),c=a;break;case"input":c1(e,a),c=Ya(e,a),qe("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=st({},a,{value:void 0}),qe("invalid",e);break;case"textarea":d1(e,a),c=qa(e,a),qe("invalid",e);break;default:c=a}Ja(i,c),w=c;for(d in w)if(w.hasOwnProperty(d)){var y=w[d];d==="style"?gf(e,y):d==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&df(e,y)):d==="children"?typeof y=="string"?(i!=="textarea"||y!=="")&&ks(e,y):typeof y=="number"&&ks(e,""+y):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ms.hasOwnProperty(d)?y!=null&&d==="onScroll"&&qe("scroll",e):y!=null&&Xu(e,d,y,x))}switch(i){case"input":wo(e),f1(e,a,!1);break;case"textarea":wo(e),h1(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Mr(a.value));break;case"select":e.multiple=!!a.multiple,d=a.value,d!=null?Pi(e,!!a.multiple,d,!1):a.defaultValue!=null&&Pi(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=rl)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ft(n),null;case 6:if(e&&n.stateNode!=null)Ld(e,n,e.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(Q(166));if(i=$r(Gs.current),$r(Qn.current),No(n)){if(a=n.stateNode,i=n.memoizedProps,a[Kn]=n,(d=a.nodeValue!==i)&&(e=fn,e!==null))switch(e.tag){case 3:To(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&To(a.nodeValue,i,(e.mode&1)!==0)}d&&(n.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[Kn]=n,n.stateNode=a}return Ft(n),null;case 13:if(Je(rt),a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tt&&cn!==null&&n.mode&1&&!(n.flags&128))td(),Wi(),n.flags|=98560,d=!1;else if(d=No(n),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(Q(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(Q(317));d[Kn]=n}else Wi(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Ft(n),d=!1}else kn!==null&&(Mu(kn),kn=null),d=!0;if(!d)return n.flags&65536?n:null}return n.flags&128?(n.lanes=i,n):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(n.child.flags|=8192,n.mode&1&&(e===null||rt.current&1?At===0&&(At=3):_c())),n.updateQueue!==null&&(n.flags|=4),Ft(n),null);case 4:return Xi(),Iu(e,n),e===null&&Vs(n.stateNode.containerInfo),Ft(n),null;case 10:return fc(n.type._context),Ft(n),null;case 17:return nn(n.type)&&il(),Ft(n),null;case 19:if(Je(rt),d=n.memoizedState,d===null)return Ft(n),null;if(a=(n.flags&128)!==0,x=d.rendering,x===null)if(a)ms(d,!1);else{if(At!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(x=fl(e),x!==null){for(n.flags|=128,ms(d,!1),a=x.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=i,i=n.child;i!==null;)d=i,e=a,d.flags&=14680066,x=d.alternate,x===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=x.childLanes,d.lanes=x.lanes,d.child=x.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=x.memoizedProps,d.memoizedState=x.memoizedState,d.updateQueue=x.updateQueue,d.type=x.type,e=x.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Ze(rt,rt.current&1|2),n.child}e=e.sibling}d.tail!==null&&dt()>Zi&&(n.flags|=128,a=!0,ms(d,!1),n.lanes=4194304)}else{if(!a)if(e=fl(x),e!==null){if(n.flags|=128,a=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),ms(d,!0),d.tail===null&&d.tailMode==="hidden"&&!x.alternate&&!tt)return Ft(n),null}else 2*dt()-d.renderingStartTime>Zi&&i!==1073741824&&(n.flags|=128,a=!0,ms(d,!1),n.lanes=4194304);d.isBackwards?(x.sibling=n.child,n.child=x):(i=d.last,i!==null?i.sibling=x:n.child=x,d.last=x)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=dt(),n.sibling=null,i=rt.current,Ze(rt,a?i&1|2:i&1),n):(Ft(n),null);case 22:case 23:return Nc(),a=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(n.flags|=8192),a&&n.mode&1?un&1073741824&&(Ft(n),n.subtreeFlags&6&&(n.flags|=8192)):Ft(n),null;case 24:return null;case 25:return null}throw Error(Q(156,n.tag))}function dx(e,n){switch(lc(n),n.tag){case 1:return nn(n.type)&&il(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Xi(),Je(tn),Je(Vt),pc(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return xc(n),null;case 13:if(Je(rt),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(Q(340));Wi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Je(rt),null;case 4:return Xi(),null;case 10:return fc(n.type._context),null;case 22:case 23:return Nc(),null;case 24:return null;default:return null}}var Oo=!1,Ut=!1,hx=typeof WeakSet=="function"?WeakSet:Set,le=null;function Mi(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){ct(e,n,a)}else i.current=null}function Tu(e,n,i){try{i()}catch(a){ct(e,n,a)}}var n0=!1;function gx(e,n){if(uu=el,e=zf(),sc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var c=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var x=0,w=-1,y=-1,m=0,v=0,T=e,M=null;t:for(;;){for(var U;T!==i||c!==0&&T.nodeType!==3||(w=x+c),T!==d||a!==0&&T.nodeType!==3||(y=x+a),T.nodeType===3&&(x+=T.nodeValue.length),(U=T.firstChild)!==null;)M=T,T=U;for(;;){if(T===e)break t;if(M===i&&++m===c&&(w=x),M===d&&++v===a&&(y=x),(U=T.nextSibling)!==null)break;T=M,M=T.parentNode}T=U}i=w===-1||y===-1?null:{start:w,end:y}}else i=null}i=i||{start:0,end:0}}else i=null;for(cu={focusedElem:e,selectionRange:i},el=!1,le=n;le!==null;)if(n=le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,le=e;else for(;le!==null;){n=le;try{var k=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var P=k.memoizedProps,Z=k.memoizedState,D=n.stateNode,_=D.getSnapshotBeforeUpdate(n.elementType===n.type?P:Dn(n.type,P),Z);D.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var R=n.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(j){ct(n,n.return,j)}if(e=n.sibling,e!==null){e.return=n.return,le=e;break}le=n.return}return k=n0,n0=!1,k}function Os(e,n,i){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var d=c.destroy;c.destroy=void 0,d!==void 0&&Tu(n,i,d)}c=c.next}while(c!==a)}}function Dl(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==n)}}function Nu(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function Fd(e){var n=e.alternate;n!==null&&(e.alternate=null,Fd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Kn],delete n[Hs],delete n[hu],delete n[qg],delete n[Qg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ud(e){return e.tag===5||e.tag===3||e.tag===4}function r0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ud(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _u(e,n,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=rl));else if(a!==4&&(e=e.child,e!==null))for(_u(e,n,i),e=e.sibling;e!==null;)_u(e,n,i),e=e.sibling}function Ru(e,n,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Ru(e,n,i),e=e.sibling;e!==null;)Ru(e,n,i),e=e.sibling}var bt=null,Mn=!1;function wr(e,n,i){for(i=i.child;i!==null;)jd(e,n,i),i=i.sibling}function jd(e,n,i){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(vl,i)}catch{}switch(i.tag){case 5:Ut||Mi(i,n);case 6:var a=bt,c=Mn;bt=null,wr(e,n,i),bt=a,Mn=c,bt!==null&&(Mn?(e=bt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):bt.removeChild(i.stateNode));break;case 18:bt!==null&&(Mn?(e=bt,i=i.stateNode,e.nodeType===8?Ta(e.parentNode,i):e.nodeType===1&&Ta(e,i),Fs(e)):Ta(bt,i.stateNode));break;case 4:a=bt,c=Mn,bt=i.stateNode.containerInfo,Mn=!0,wr(e,n,i),bt=a,Mn=c;break;case 0:case 11:case 14:case 15:if(!Ut&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var d=c,x=d.destroy;d=d.tag,x!==void 0&&(d&2||d&4)&&Tu(i,n,x),c=c.next}while(c!==a)}wr(e,n,i);break;case 1:if(!Ut&&(Mi(i,n),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(w){ct(i,n,w)}wr(e,n,i);break;case 21:wr(e,n,i);break;case 22:i.mode&1?(Ut=(a=Ut)||i.memoizedState!==null,wr(e,n,i),Ut=a):wr(e,n,i);break;default:wr(e,n,i)}}function i0(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new hx),n.forEach(function(a){var c=Sx.bind(null,e,a);i.has(a)||(i.add(a),a.then(c,c))})}}function bn(e,n){var i=n.deletions;if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];try{var d=e,x=n,w=x;e:for(;w!==null;){switch(w.tag){case 5:bt=w.stateNode,Mn=!1;break e;case 3:bt=w.stateNode.containerInfo,Mn=!0;break e;case 4:bt=w.stateNode.containerInfo,Mn=!0;break e}w=w.return}if(bt===null)throw Error(Q(160));jd(d,x,c),bt=null,Mn=!1;var y=c.alternate;y!==null&&(y.return=null),c.return=null}catch(m){ct(c,n,m)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Vd(n,e),n=n.sibling}function Vd(e,n){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bn(n,e),Xn(e),a&4){try{Os(3,e,e.return),Dl(3,e)}catch(P){ct(e,e.return,P)}try{Os(5,e,e.return)}catch(P){ct(e,e.return,P)}}break;case 1:bn(n,e),Xn(e),a&512&&i!==null&&Mi(i,i.return);break;case 5:if(bn(n,e),Xn(e),a&512&&i!==null&&Mi(i,i.return),e.flags&32){var c=e.stateNode;try{ks(c,"")}catch(P){ct(e,e.return,P)}}if(a&4&&(c=e.stateNode,c!=null)){var d=e.memoizedProps,x=i!==null?i.memoizedProps:d,w=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{w==="input"&&d.type==="radio"&&d.name!=null&&uf(c,d),$a(w,x);var m=$a(w,d);for(x=0;x<y.length;x+=2){var v=y[x],T=y[x+1];v==="style"?gf(c,T):v==="dangerouslySetInnerHTML"?df(c,T):v==="children"?ks(c,T):Xu(c,v,T,m)}switch(w){case"input":Za(c,d);break;case"textarea":cf(c,d);break;case"select":var M=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var U=d.value;U!=null?Pi(c,!!d.multiple,U,!1):M!==!!d.multiple&&(d.defaultValue!=null?Pi(c,!!d.multiple,d.defaultValue,!0):Pi(c,!!d.multiple,d.multiple?[]:"",!1))}c[Hs]=d}catch(P){ct(e,e.return,P)}}break;case 6:if(bn(n,e),Xn(e),a&4){if(e.stateNode===null)throw Error(Q(162));c=e.stateNode,d=e.memoizedProps;try{c.nodeValue=d}catch(P){ct(e,e.return,P)}}break;case 3:if(bn(n,e),Xn(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Fs(n.containerInfo)}catch(P){ct(e,e.return,P)}break;case 4:bn(n,e),Xn(e);break;case 13:bn(n,e),Xn(e),c=e.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(Ic=dt())),a&4&&i0(e);break;case 22:if(v=i!==null&&i.memoizedState!==null,e.mode&1?(Ut=(m=Ut)||v,bn(n,e),Ut=m):bn(n,e),Xn(e),a&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!v&&e.mode&1)for(le=e,v=e.child;v!==null;){for(T=le=v;le!==null;){switch(M=le,U=M.child,M.tag){case 0:case 11:case 14:case 15:Os(4,M,M.return);break;case 1:Mi(M,M.return);var k=M.stateNode;if(typeof k.componentWillUnmount=="function"){a=M,i=M.return;try{n=a,k.props=n.memoizedProps,k.state=n.memoizedState,k.componentWillUnmount()}catch(P){ct(a,i,P)}}break;case 5:Mi(M,M.return);break;case 22:if(M.memoizedState!==null){o0(T);continue}}U!==null?(U.return=M,le=U):o0(T)}v=v.sibling}e:for(v=null,T=e;;){if(T.tag===5){if(v===null){v=T;try{c=T.stateNode,m?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(w=T.stateNode,y=T.memoizedProps.style,x=y!=null&&y.hasOwnProperty("display")?y.display:null,w.style.display=hf("display",x))}catch(P){ct(e,e.return,P)}}}else if(T.tag===6){if(v===null)try{T.stateNode.nodeValue=m?"":T.memoizedProps}catch(P){ct(e,e.return,P)}}else if((T.tag!==22&&T.tag!==23||T.memoizedState===null||T===e)&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===e)break e;for(;T.sibling===null;){if(T.return===null||T.return===e)break e;v===T&&(v=null),T=T.return}v===T&&(v=null),T.sibling.return=T.return,T=T.sibling}}break;case 19:bn(n,e),Xn(e),a&4&&i0(e);break;case 21:break;default:bn(n,e),Xn(e)}}function Xn(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(Ud(i)){var a=i;break e}i=i.return}throw Error(Q(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(ks(c,""),a.flags&=-33);var d=r0(e);Ru(e,d,c);break;case 3:case 4:var x=a.stateNode.containerInfo,w=r0(e);_u(e,w,x);break;default:throw Error(Q(161))}}catch(y){ct(e,e.return,y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function xx(e,n,i){le=e,zd(e)}function zd(e,n,i){for(var a=(e.mode&1)!==0;le!==null;){var c=le,d=c.child;if(c.tag===22&&a){var x=c.memoizedState!==null||Oo;if(!x){var w=c.alternate,y=w!==null&&w.memoizedState!==null||Ut;w=Oo;var m=Ut;if(Oo=x,(Ut=y)&&!m)for(le=c;le!==null;)x=le,y=x.child,x.tag===22&&x.memoizedState!==null?l0(c):y!==null?(y.return=x,le=y):l0(c);for(;d!==null;)le=d,zd(d),d=d.sibling;le=c,Oo=w,Ut=m}s0(e)}else c.subtreeFlags&8772&&d!==null?(d.return=c,le=d):s0(e)}}function s0(e){for(;le!==null;){var n=le;if(n.flags&8772){var i=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Ut||Dl(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!Ut)if(i===null)a.componentDidMount();else{var c=n.elementType===n.type?i.memoizedProps:Dn(n.type,i.memoizedProps);a.componentDidUpdate(c,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&H1(n,d,a);break;case 3:var x=n.updateQueue;if(x!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}H1(n,x,i)}break;case 5:var w=n.stateNode;if(i===null&&n.flags&4){i=w;var y=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&i.focus();break;case"img":y.src&&(i.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var m=n.alternate;if(m!==null){var v=m.memoizedState;if(v!==null){var T=v.dehydrated;T!==null&&Fs(T)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Ut||n.flags&512&&Nu(n)}catch(M){ct(n,n.return,M)}}if(n===e){le=null;break}if(i=n.sibling,i!==null){i.return=n.return,le=i;break}le=n.return}}function o0(e){for(;le!==null;){var n=le;if(n===e){le=null;break}var i=n.sibling;if(i!==null){i.return=n.return,le=i;break}le=n.return}}function l0(e){for(;le!==null;){var n=le;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{Dl(4,n)}catch(y){ct(n,i,y)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var c=n.return;try{a.componentDidMount()}catch(y){ct(n,c,y)}}var d=n.return;try{Nu(n)}catch(y){ct(n,d,y)}break;case 5:var x=n.return;try{Nu(n)}catch(y){ct(n,x,y)}}}catch(y){ct(n,n.return,y)}if(n===e){le=null;break}var w=n.sibling;if(w!==null){w.return=n.return,le=w;break}le=n.return}}var px=Math.ceil,gl=ar.ReactCurrentDispatcher,Sc=ar.ReactCurrentOwner,vn=ar.ReactCurrentBatchConfig,ke=0,Nt=null,pt=null,Dt=0,un=0,ki=Pr(0),At=0,Ks=null,li=0,Ml=0,vc=0,bs=null,$t=null,Ic=0,Zi=1/0,$n=null,xl=!1,Ou=null,Or=null,bo=!1,vr=null,pl=0,Ds=0,bu=null,Ho=-1,Wo=0;function Gt(){return ke&6?dt():Ho!==-1?Ho:Ho=dt()}function br(e){return e.mode&1?ke&2&&Dt!==0?Dt&-Dt:$g.transition!==null?(Wo===0&&(Wo=Tf()),Wo):(e=Ve,e!==0||(e=window.event,e=e===void 0?16:Mf(e.type)),e):1}function Pn(e,n,i,a){if(50<Ds)throw Ds=0,bu=null,Error(Q(185));Qs(e,i,a),(!(ke&2)||e!==Nt)&&(e===Nt&&(!(ke&2)&&(Ml|=i),At===4&&Ar(e,Dt)),rn(e,a),i===1&&ke===0&&!(n.mode&1)&&(Zi=dt()+500,Rl&&Lr()))}function rn(e,n){var i=e.callbackNode;$2(e,n);var a=$o(e,e===Nt?Dt:0);if(a===0)i!==null&&p1(i),e.callbackNode=null,e.callbackPriority=0;else if(n=a&-a,e.callbackPriority!==n){if(i!=null&&p1(i),n===1)e.tag===0?Jg(a0.bind(null,e)):Jf(a0.bind(null,e)),Zg(function(){!(ke&6)&&Lr()}),i=null;else{switch(Nf(a)){case 1:i=Qu;break;case 4:i=vf;break;case 16:i=Jo;break;case 536870912:i=If;break;default:i=Jo}i=qd(i,Hd.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function Hd(e,n){if(Ho=-1,Wo=0,ke&6)throw Error(Q(327));var i=e.callbackNode;if(Vi()&&e.callbackNode!==i)return null;var a=$o(e,e===Nt?Dt:0);if(a===0)return null;if(a&30||a&e.expiredLanes||n)n=ml(e,a);else{n=a;var c=ke;ke|=2;var d=Gd();(Nt!==e||Dt!==n)&&($n=null,Zi=dt()+500,ti(e,n));do try{yx();break}catch(w){Wd(e,w)}while(!0);cc(),gl.current=d,ke=c,pt!==null?n=0:(Nt=null,Dt=0,n=At)}if(n!==0){if(n===2&&(c=iu(e),c!==0&&(a=c,n=Du(e,c))),n===1)throw i=Ks,ti(e,0),Ar(e,a),rn(e,dt()),i;if(n===6)Ar(e,a);else{if(c=e.current.alternate,!(a&30)&&!mx(c)&&(n=ml(e,a),n===2&&(d=iu(e),d!==0&&(a=d,n=Du(e,d))),n===1))throw i=Ks,ti(e,0),Ar(e,a),rn(e,dt()),i;switch(e.finishedWork=c,e.finishedLanes=a,n){case 0:case 1:throw Error(Q(345));case 2:qr(e,$t,$n);break;case 3:if(Ar(e,a),(a&130023424)===a&&(n=Ic+500-dt(),10<n)){if($o(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){Gt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=du(qr.bind(null,e,$t,$n),n);break}qr(e,$t,$n);break;case 4:if(Ar(e,a),(a&4194240)===a)break;for(n=e.eventTimes,c=-1;0<a;){var x=31-Bn(a);d=1<<x,x=n[x],x>c&&(c=x),a&=~d}if(a=c,a=dt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*px(a/1960))-a,10<a){e.timeoutHandle=du(qr.bind(null,e,$t,$n),a);break}qr(e,$t,$n);break;case 5:qr(e,$t,$n);break;default:throw Error(Q(329))}}}return rn(e,dt()),e.callbackNode===i?Hd.bind(null,e):null}function Du(e,n){var i=bs;return e.current.memoizedState.isDehydrated&&(ti(e,n).flags|=256),e=ml(e,n),e!==2&&(n=$t,$t=i,n!==null&&Mu(n)),e}function Mu(e){$t===null?$t=e:$t.push.apply($t,e)}function mx(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var c=i[a],d=c.getSnapshot;c=c.value;try{if(!Ln(d(),c))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ar(e,n){for(n&=~vc,n&=~Ml,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-Bn(n),a=1<<i;e[i]=-1,n&=~a}}function a0(e){if(ke&6)throw Error(Q(327));Vi();var n=$o(e,0);if(!(n&1))return rn(e,dt()),null;var i=ml(e,n);if(e.tag!==0&&i===2){var a=iu(e);a!==0&&(n=a,i=Du(e,a))}if(i===1)throw i=Ks,ti(e,0),Ar(e,n),rn(e,dt()),i;if(i===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,qr(e,$t,$n),rn(e,dt()),null}function Tc(e,n){var i=ke;ke|=1;try{return e(n)}finally{ke=i,ke===0&&(Zi=dt()+500,Rl&&Lr())}}function ai(e){vr!==null&&vr.tag===0&&!(ke&6)&&Vi();var n=ke;ke|=1;var i=vn.transition,a=Ve;try{if(vn.transition=null,Ve=1,e)return e()}finally{Ve=a,vn.transition=i,ke=n,!(ke&6)&&Lr()}}function Nc(){un=ki.current,Je(ki)}function ti(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Yg(i)),pt!==null)for(i=pt.return;i!==null;){var a=i;switch(lc(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&il();break;case 3:Xi(),Je(tn),Je(Vt),pc();break;case 5:xc(a);break;case 4:Xi();break;case 13:Je(rt);break;case 19:Je(rt);break;case 10:fc(a.type._context);break;case 22:case 23:Nc()}i=i.return}if(Nt=e,pt=e=Dr(e.current,null),Dt=un=n,At=0,Ks=null,vc=Ml=li=0,$t=bs=null,Jr!==null){for(n=0;n<Jr.length;n++)if(i=Jr[n],a=i.interleaved,a!==null){i.interleaved=null;var c=a.next,d=i.pending;if(d!==null){var x=d.next;d.next=c,a.next=x}i.pending=a}Jr=null}return e}function Wd(e,n){do{var i=pt;try{if(cc(),jo.current=hl,dl){for(var a=it.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}dl=!1}if(oi=0,Tt=Ct=it=null,Rs=!1,Xs=0,Sc.current=null,i===null||i.return===null){At=1,Ks=n,pt=null;break}e:{var d=e,x=i.return,w=i,y=n;if(n=Dt,w.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var m=y,v=w,T=v.tag;if(!(v.mode&1)&&(T===0||T===11||T===15)){var M=v.alternate;M?(v.updateQueue=M.updateQueue,v.memoizedState=M.memoizedState,v.lanes=M.lanes):(v.updateQueue=null,v.memoizedState=null)}var U=K1(x);if(U!==null){U.flags&=-257,q1(U,x,w,d,n),U.mode&1&&Z1(d,m,n),n=U,y=m;var k=n.updateQueue;if(k===null){var P=new Set;P.add(y),n.updateQueue=P}else k.add(y);break e}else{if(!(n&1)){Z1(d,m,n),_c();break e}y=Error(Q(426))}}else if(tt&&w.mode&1){var Z=K1(x);if(Z!==null){!(Z.flags&65536)&&(Z.flags|=256),q1(Z,x,w,d,n),ac(Yi(y,w));break e}}d=y=Yi(y,w),At!==4&&(At=2),bs===null?bs=[d]:bs.push(d),d=x;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var D=Nd(d,y,n);z1(d,D);break e;case 1:w=y;var _=d.type,R=d.stateNode;if(!(d.flags&128)&&(typeof _.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Or===null||!Or.has(R)))){d.flags|=65536,n&=-n,d.lanes|=n;var j=_d(d,w,n);z1(d,j);break e}}d=d.return}while(d!==null)}Yd(i)}catch(ee){n=ee,pt===i&&i!==null&&(pt=i=i.return);continue}break}while(!0)}function Gd(){var e=gl.current;return gl.current=hl,e===null?hl:e}function _c(){(At===0||At===3||At===2)&&(At=4),Nt===null||!(li&268435455)&&!(Ml&268435455)||Ar(Nt,Dt)}function ml(e,n){var i=ke;ke|=2;var a=Gd();(Nt!==e||Dt!==n)&&($n=null,ti(e,n));do try{wx();break}catch(c){Wd(e,c)}while(!0);if(cc(),ke=i,gl.current=a,pt!==null)throw Error(Q(261));return Nt=null,Dt=0,At}function wx(){for(;pt!==null;)Xd(pt)}function yx(){for(;pt!==null&&!W2();)Xd(pt)}function Xd(e){var n=Kd(e.alternate,e,un);e.memoizedProps=e.pendingProps,n===null?Yd(e):pt=n,Sc.current=null}function Yd(e){var n=e;do{var i=n.alternate;if(e=n.return,n.flags&32768){if(i=dx(i,n),i!==null){i.flags&=32767,pt=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{At=6,pt=null;return}}else if(i=fx(i,n,un),i!==null){pt=i;return}if(n=n.sibling,n!==null){pt=n;return}pt=n=e}while(n!==null);At===0&&(At=5)}function qr(e,n,i){var a=Ve,c=vn.transition;try{vn.transition=null,Ve=1,Ex(e,n,i,a)}finally{vn.transition=c,Ve=a}return null}function Ex(e,n,i,a){do Vi();while(vr!==null);if(ke&6)throw Error(Q(327));i=e.finishedWork;var c=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var d=i.lanes|i.childLanes;if(eg(e,d),e===Nt&&(pt=Nt=null,Dt=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||bo||(bo=!0,qd(Jo,function(){return Vi(),null})),d=(i.flags&15990)!==0,i.subtreeFlags&15990||d){d=vn.transition,vn.transition=null;var x=Ve;Ve=1;var w=ke;ke|=4,Sc.current=null,gx(e,i),Vd(i,e),jg(cu),el=!!uu,cu=uu=null,e.current=i,xx(i),G2(),ke=w,Ve=x,vn.transition=d}else e.current=i;if(bo&&(bo=!1,vr=e,pl=c),d=e.pendingLanes,d===0&&(Or=null),Z2(i.stateNode),rn(e,dt()),n!==null)for(a=e.onRecoverableError,i=0;i<n.length;i++)c=n[i],a(c.value,{componentStack:c.stack,digest:c.digest});if(xl)throw xl=!1,e=Ou,Ou=null,e;return pl&1&&e.tag!==0&&Vi(),d=e.pendingLanes,d&1?e===bu?Ds++:(Ds=0,bu=e):Ds=0,Lr(),null}function Vi(){if(vr!==null){var e=Nf(pl),n=vn.transition,i=Ve;try{if(vn.transition=null,Ve=16>e?16:e,vr===null)var a=!1;else{if(e=vr,vr=null,pl=0,ke&6)throw Error(Q(331));var c=ke;for(ke|=4,le=e.current;le!==null;){var d=le,x=d.child;if(le.flags&16){var w=d.deletions;if(w!==null){for(var y=0;y<w.length;y++){var m=w[y];for(le=m;le!==null;){var v=le;switch(v.tag){case 0:case 11:case 15:Os(8,v,d)}var T=v.child;if(T!==null)T.return=v,le=T;else for(;le!==null;){v=le;var M=v.sibling,U=v.return;if(Fd(v),v===m){le=null;break}if(M!==null){M.return=U,le=M;break}le=U}}}var k=d.alternate;if(k!==null){var P=k.child;if(P!==null){k.child=null;do{var Z=P.sibling;P.sibling=null,P=Z}while(P!==null)}}le=d}}if(d.subtreeFlags&2064&&x!==null)x.return=d,le=x;else e:for(;le!==null;){if(d=le,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Os(9,d,d.return)}var D=d.sibling;if(D!==null){D.return=d.return,le=D;break e}le=d.return}}var _=e.current;for(le=_;le!==null;){x=le;var R=x.child;if(x.subtreeFlags&2064&&R!==null)R.return=x,le=R;else e:for(x=_;le!==null;){if(w=le,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:Dl(9,w)}}catch(ee){ct(w,w.return,ee)}if(w===x){le=null;break e}var j=w.sibling;if(j!==null){j.return=w.return,le=j;break e}le=w.return}}if(ke=c,Lr(),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(vl,e)}catch{}a=!0}return a}finally{Ve=i,vn.transition=n}}return!1}function u0(e,n,i){n=Yi(i,n),n=Nd(e,n,1),e=Rr(e,n,1),n=Gt(),e!==null&&(Qs(e,1,n),rn(e,n))}function ct(e,n,i){if(e.tag===3)u0(e,e,i);else for(;n!==null;){if(n.tag===3){u0(n,e,i);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Or===null||!Or.has(a))){e=Yi(i,e),e=_d(n,e,1),n=Rr(n,e,1),e=Gt(),n!==null&&(Qs(n,1,e),rn(n,e));break}}n=n.return}}function Cx(e,n,i){var a=e.pingCache;a!==null&&a.delete(n),n=Gt(),e.pingedLanes|=e.suspendedLanes&i,Nt===e&&(Dt&i)===i&&(At===4||At===3&&(Dt&130023424)===Dt&&500>dt()-Ic?ti(e,0):vc|=i),rn(e,n)}function Zd(e,n){n===0&&(e.mode&1?(n=Co,Co<<=1,!(Co&130023424)&&(Co=4194304)):n=1);var i=Gt();e=or(e,n),e!==null&&(Qs(e,n,i),rn(e,i))}function Ax(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Zd(e,i)}function Sx(e,n){var i=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(Q(314))}a!==null&&a.delete(n),Zd(e,i)}var Kd;Kd=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||tn.current)en=!0;else{if(!(e.lanes&i)&&!(n.flags&128))return en=!1,cx(e,n,i);en=!!(e.flags&131072)}else en=!1,tt&&n.flags&1048576&&$f(n,ll,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;zo(e,n),e=n.pendingProps;var c=Hi(n,Vt.current);ji(n,i),c=wc(null,n,a,e,c,i);var d=yc();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,nn(a)?(d=!0,sl(n)):d=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,hc(n),c.updater=bl,n.stateNode=c,c._reactInternals=n,yu(n,a,e,i),n=Au(null,n,a,!0,d,i)):(n.tag=0,tt&&d&&oc(n),Wt(null,n,c,i),n=n.child),n;case 16:a=n.elementType;e:{switch(zo(e,n),e=n.pendingProps,c=a._init,a=c(a._payload),n.type=a,c=n.tag=Ix(a),e=Dn(a,e),c){case 0:n=Cu(null,n,a,e,i);break e;case 1:n=$1(null,n,a,e,i);break e;case 11:n=Q1(null,n,a,e,i);break e;case 14:n=J1(null,n,a,Dn(a.type,e),i);break e}throw Error(Q(306,a,""))}return n;case 0:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Dn(a,c),Cu(e,n,a,c,i);case 1:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Dn(a,c),$1(e,n,a,c,i);case 3:e:{if(Dd(n),e===null)throw Error(Q(387));a=n.pendingProps,d=n.memoizedState,c=d.element,sd(e,n),cl(n,a,null,i);var x=n.memoizedState;if(a=x.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){c=Yi(Error(Q(423)),n),n=e0(e,n,a,i,c);break e}else if(a!==c){c=Yi(Error(Q(424)),n),n=e0(e,n,a,i,c);break e}else for(cn=_r(n.stateNode.containerInfo.firstChild),fn=n,tt=!0,kn=null,i=rd(n,null,a,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Wi(),a===c){n=lr(e,n,i);break e}Wt(e,n,a,i)}n=n.child}return n;case 5:return od(n),e===null&&pu(n),a=n.type,c=n.pendingProps,d=e!==null?e.memoizedProps:null,x=c.children,fu(a,c)?x=null:d!==null&&fu(a,d)&&(n.flags|=32),bd(e,n),Wt(e,n,x,i),n.child;case 6:return e===null&&pu(n),null;case 13:return Md(e,n,i);case 4:return gc(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=Gi(n,null,a,i):Wt(e,n,a,i),n.child;case 11:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Dn(a,c),Q1(e,n,a,c,i);case 7:return Wt(e,n,n.pendingProps,i),n.child;case 8:return Wt(e,n,n.pendingProps.children,i),n.child;case 12:return Wt(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(a=n.type._context,c=n.pendingProps,d=n.memoizedProps,x=c.value,Ze(al,a._currentValue),a._currentValue=x,d!==null)if(Ln(d.value,x)){if(d.children===c.children&&!tn.current){n=lr(e,n,i);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var w=d.dependencies;if(w!==null){x=d.child;for(var y=w.firstContext;y!==null;){if(y.context===a){if(d.tag===1){y=rr(-1,i&-i),y.tag=2;var m=d.updateQueue;if(m!==null){m=m.shared;var v=m.pending;v===null?y.next=y:(y.next=v.next,v.next=y),m.pending=y}}d.lanes|=i,y=d.alternate,y!==null&&(y.lanes|=i),mu(d.return,i,n),w.lanes|=i;break}y=y.next}}else if(d.tag===10)x=d.type===n.type?null:d.child;else if(d.tag===18){if(x=d.return,x===null)throw Error(Q(341));x.lanes|=i,w=x.alternate,w!==null&&(w.lanes|=i),mu(x,i,n),x=d.sibling}else x=d.child;if(x!==null)x.return=d;else for(x=d;x!==null;){if(x===n){x=null;break}if(d=x.sibling,d!==null){d.return=x.return,x=d;break}x=x.return}d=x}Wt(e,n,c.children,i),n=n.child}return n;case 9:return c=n.type,a=n.pendingProps.children,ji(n,i),c=In(c),a=a(c),n.flags|=1,Wt(e,n,a,i),n.child;case 14:return a=n.type,c=Dn(a,n.pendingProps),c=Dn(a.type,c),J1(e,n,a,c,i);case 15:return Rd(e,n,n.type,n.pendingProps,i);case 17:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:Dn(a,c),zo(e,n),n.tag=1,nn(a)?(e=!0,sl(n)):e=!1,ji(n,i),Td(n,a,c),yu(n,a,c,i),Au(null,n,a,!0,e,i);case 19:return kd(e,n,i);case 22:return Od(e,n,i)}throw Error(Q(156,n.tag))};function qd(e,n){return Sf(e,n)}function vx(e,n,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,n,i,a){return new vx(e,n,i,a)}function Rc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ix(e){if(typeof e=="function")return Rc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Zu)return 11;if(e===Ku)return 14}return 2}function Dr(e,n){var i=e.alternate;return i===null?(i=Sn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Go(e,n,i,a,c,d){var x=2;if(a=e,typeof e=="function")Rc(e)&&(x=1);else if(typeof e=="string")x=5;else e:switch(e){case vi:return ni(i.children,c,d,n);case Yu:x=8,c|=8;break;case Ha:return e=Sn(12,i,n,c|2),e.elementType=Ha,e.lanes=d,e;case Wa:return e=Sn(13,i,n,c),e.elementType=Wa,e.lanes=d,e;case Ga:return e=Sn(19,i,n,c),e.elementType=Ga,e.lanes=d,e;case of:return kl(i,c,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rf:x=10;break e;case sf:x=9;break e;case Zu:x=11;break e;case Ku:x=14;break e;case yr:x=16,a=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return n=Sn(x,i,n,c),n.elementType=e,n.type=a,n.lanes=d,n}function ni(e,n,i,a){return e=Sn(7,e,a,n),e.lanes=i,e}function kl(e,n,i,a){return e=Sn(22,e,a,n),e.elementType=of,e.lanes=i,e.stateNode={isHidden:!1},e}function ka(e,n,i){return e=Sn(6,e,null,n),e.lanes=i,e}function Ba(e,n,i){return n=Sn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Tx(e,n,i,a,c){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xa(0),this.expirationTimes=xa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xa(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Oc(e,n,i,a,c,d,x,w,y){return e=new Tx(e,n,i,w,y),n===1?(n=1,d===!0&&(n|=8)):n=0,d=Sn(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},hc(d),e}function Nx(e,n,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Si,key:a==null?null:""+a,children:e,containerInfo:n,implementation:i}}function Qd(e){if(!e)return kr;e=e._reactInternals;e:{if(fi(e)!==e||e.tag!==1)throw Error(Q(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(nn(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(Q(171))}if(e.tag===1){var i=e.type;if(nn(i))return Qf(e,i,n)}return n}function Jd(e,n,i,a,c,d,x,w,y){return e=Oc(i,a,!0,e,c,d,x,w,y),e.context=Qd(null),i=e.current,a=Gt(),c=br(i),d=rr(a,c),d.callback=n??null,Rr(i,d,c),e.current.lanes=c,Qs(e,c,a),rn(e,a),e}function Bl(e,n,i,a){var c=n.current,d=Gt(),x=br(c);return i=Qd(i),n.context===null?n.context=i:n.pendingContext=i,n=rr(d,x),n.payload={element:e},a=a===void 0?null:a,a!==null&&(n.callback=a),e=Rr(c,n,x),e!==null&&(Pn(e,c,x,d),Uo(e,c,x)),x}function wl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function c0(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function bc(e,n){c0(e,n),(e=e.alternate)&&c0(e,n)}function _x(){return null}var $d=typeof reportError=="function"?reportError:function(e){console.error(e)};function Dc(e){this._internalRoot=e}Pl.prototype.render=Dc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(Q(409));Bl(e,n,null,null)};Pl.prototype.unmount=Dc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ai(function(){Bl(null,e,null,null)}),n[sr]=null}};function Pl(e){this._internalRoot=e}Pl.prototype.unstable_scheduleHydration=function(e){if(e){var n=Of();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Cr.length&&n!==0&&n<Cr[i].priority;i++);Cr.splice(i,0,e),i===0&&Df(e)}};function Mc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ll(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function f0(){}function Rx(e,n,i,a,c){if(c){if(typeof a=="function"){var d=a;a=function(){var m=wl(x);d.call(m)}}var x=Jd(n,a,e,0,null,!1,!1,"",f0);return e._reactRootContainer=x,e[sr]=x.current,Vs(e.nodeType===8?e.parentNode:e),ai(),x}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var w=a;a=function(){var m=wl(y);w.call(m)}}var y=Oc(e,0,!1,null,null,!1,!1,"",f0);return e._reactRootContainer=y,e[sr]=y.current,Vs(e.nodeType===8?e.parentNode:e),ai(function(){Bl(n,y,i,a)}),y}function Fl(e,n,i,a,c){var d=i._reactRootContainer;if(d){var x=d;if(typeof c=="function"){var w=c;c=function(){var y=wl(x);w.call(y)}}Bl(n,x,e,c)}else x=Rx(i,n,e,c,a);return wl(x)}_f=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=As(n.pendingLanes);i!==0&&(Ju(n,i|1),rn(n,dt()),!(ke&6)&&(Zi=dt()+500,Lr()))}break;case 13:ai(function(){var a=or(e,1);if(a!==null){var c=Gt();Pn(a,e,1,c)}}),bc(e,1)}};$u=function(e){if(e.tag===13){var n=or(e,134217728);if(n!==null){var i=Gt();Pn(n,e,134217728,i)}bc(e,134217728)}};Rf=function(e){if(e.tag===13){var n=br(e),i=or(e,n);if(i!==null){var a=Gt();Pn(i,e,n,a)}bc(e,n)}};Of=function(){return Ve};bf=function(e,n){var i=Ve;try{return Ve=e,n()}finally{Ve=i}};tu=function(e,n,i){switch(n){case"input":if(Za(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var a=i[n];if(a!==e&&a.form===e.form){var c=_l(a);if(!c)throw Error(Q(90));af(a),Za(a,c)}}}break;case"textarea":cf(e,i);break;case"select":n=i.value,n!=null&&Pi(e,!!i.multiple,n,!1)}};mf=Tc;wf=ai;var Ox={usingClientEntryPoint:!1,Events:[$s,_i,_l,xf,pf,Tc]},ws={findFiberByHostInstance:Qr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bx={bundleType:ws.bundleType,version:ws.version,rendererPackageName:ws.rendererPackageName,rendererConfig:ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cf(e),e===null?null:e.stateNode},findFiberByHostInstance:ws.findFiberByHostInstance||_x,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Do=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Do.isDisabled&&Do.supportsFiber)try{vl=Do.inject(bx),qn=Do}catch{}}hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ox;hn.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mc(n))throw Error(Q(200));return Nx(e,n,null,i)};hn.createRoot=function(e,n){if(!Mc(e))throw Error(Q(299));var i=!1,a="",c=$d;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=Oc(e,1,!1,null,null,i,!1,a,c),e[sr]=n.current,Vs(e.nodeType===8?e.parentNode:e),new Dc(n)};hn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=Cf(n),e=e===null?null:e.stateNode,e};hn.flushSync=function(e){return ai(e)};hn.hydrate=function(e,n,i){if(!Ll(n))throw Error(Q(200));return Fl(null,e,n,!0,i)};hn.hydrateRoot=function(e,n,i){if(!Mc(e))throw Error(Q(405));var a=i!=null&&i.hydratedSources||null,c=!1,d="",x=$d;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(x=i.onRecoverableError)),n=Jd(n,null,e,1,i??null,c,!1,d,x),e[sr]=n.current,Vs(e),a)for(e=0;e<a.length;e++)i=a[e],c=i._getVersion,c=c(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,c]:n.mutableSourceEagerHydrationData.push(i,c);return new Pl(n)};hn.render=function(e,n,i){if(!Ll(n))throw Error(Q(200));return Fl(null,e,n,!1,i)};hn.unmountComponentAtNode=function(e){if(!Ll(e))throw Error(Q(40));return e._reactRootContainer?(ai(function(){Fl(null,null,e,!1,function(){e._reactRootContainer=null,e[sr]=null})}),!0):!1};hn.unstable_batchedUpdates=Tc;hn.unstable_renderSubtreeIntoContainer=function(e,n,i,a){if(!Ll(i))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return Fl(e,n,i,!1,a)};hn.version="18.3.1-next-f1338f8080-20240426";function eh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eh)}catch(e){console.error(e)}}eh(),$0.exports=hn;var Dx=$0.exports,d0=Dx;Va.createRoot=d0.createRoot,Va.hydrateRoot=d0.hydrateRoot;function th(e,n){return function(){return e.apply(n,arguments)}}const{toString:Mx}=Object.prototype,{getPrototypeOf:kc}=Object,{iterator:Ul,toStringTag:nh}=Symbol,jl=(e=>n=>{const i=Mx.call(n);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Fn=e=>(e=e.toLowerCase(),n=>jl(n)===e),Vl=e=>n=>typeof n===e,{isArray:$i}=Array,Ki=Vl("undefined");function to(e){return e!==null&&!Ki(e)&&e.constructor!==null&&!Ki(e.constructor)&&sn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const rh=Fn("ArrayBuffer");function kx(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&rh(e.buffer),n}const Bx=Vl("string"),sn=Vl("function"),ih=Vl("number"),no=e=>e!==null&&typeof e=="object",Px=e=>e===!0||e===!1,Xo=e=>{if(jl(e)!=="object")return!1;const n=kc(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(nh in e)&&!(Ul in e)},Lx=e=>{if(!no(e)||to(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Fx=Fn("Date"),Ux=Fn("File"),jx=Fn("Blob"),Vx=Fn("FileList"),zx=e=>no(e)&&sn(e.pipe),Hx=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||sn(e.append)&&((n=jl(e))==="formdata"||n==="object"&&sn(e.toString)&&e.toString()==="[object FormData]"))},Wx=Fn("URLSearchParams"),[Gx,Xx,Yx,Zx]=["ReadableStream","Request","Response","Headers"].map(Fn),Kx=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ro(e,n,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let a,c;if(typeof e!="object"&&(e=[e]),$i(e))for(a=0,c=e.length;a<c;a++)n.call(null,e[a],a,e);else{if(to(e))return;const d=i?Object.getOwnPropertyNames(e):Object.keys(e),x=d.length;let w;for(a=0;a<x;a++)w=d[a],n.call(null,e[w],w,e)}}function sh(e,n){if(to(e))return null;n=n.toLowerCase();const i=Object.keys(e);let a=i.length,c;for(;a-- >0;)if(c=i[a],n===c.toLowerCase())return c;return null}const ei=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,oh=e=>!Ki(e)&&e!==ei;function ku(){const{caseless:e,skipUndefined:n}=oh(this)&&this||{},i={},a=(c,d)=>{const x=e&&sh(i,d)||d;Xo(i[x])&&Xo(c)?i[x]=ku(i[x],c):Xo(c)?i[x]=ku({},c):$i(c)?i[x]=c.slice():(!n||!Ki(c))&&(i[x]=c)};for(let c=0,d=arguments.length;c<d;c++)arguments[c]&&ro(arguments[c],a);return i}const qx=(e,n,i,{allOwnKeys:a}={})=>(ro(n,(c,d)=>{i&&sn(c)?e[d]=th(c,i):e[d]=c},{allOwnKeys:a}),e),Qx=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Jx=(e,n,i,a)=>{e.prototype=Object.create(n.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),i&&Object.assign(e.prototype,i)},$x=(e,n,i,a)=>{let c,d,x;const w={};if(n=n||{},e==null)return n;do{for(c=Object.getOwnPropertyNames(e),d=c.length;d-- >0;)x=c[d],(!a||a(x,e,n))&&!w[x]&&(n[x]=e[x],w[x]=!0);e=i!==!1&&kc(e)}while(e&&(!i||i(e,n))&&e!==Object.prototype);return n},ep=(e,n,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=n.length;const a=e.indexOf(n,i);return a!==-1&&a===i},tp=e=>{if(!e)return null;if($i(e))return e;let n=e.length;if(!ih(n))return null;const i=new Array(n);for(;n-- >0;)i[n]=e[n];return i},np=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&kc(Uint8Array)),rp=(e,n)=>{const a=(e&&e[Ul]).call(e);let c;for(;(c=a.next())&&!c.done;){const d=c.value;n.call(e,d[0],d[1])}},ip=(e,n)=>{let i;const a=[];for(;(i=e.exec(n))!==null;)a.push(i);return a},sp=Fn("HTMLFormElement"),op=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,a,c){return a.toUpperCase()+c}),h0=(({hasOwnProperty:e})=>(n,i)=>e.call(n,i))(Object.prototype),lp=Fn("RegExp"),lh=(e,n)=>{const i=Object.getOwnPropertyDescriptors(e),a={};ro(i,(c,d)=>{let x;(x=n(c,d,e))!==!1&&(a[d]=x||c)}),Object.defineProperties(e,a)},ap=e=>{lh(e,(n,i)=>{if(sn(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const a=e[i];if(sn(a)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},up=(e,n)=>{const i={},a=c=>{c.forEach(d=>{i[d]=!0})};return $i(e)?a(e):a(String(e).split(n)),i},cp=()=>{},fp=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n;function dp(e){return!!(e&&sn(e.append)&&e[nh]==="FormData"&&e[Ul])}const hp=e=>{const n=new Array(10),i=(a,c)=>{if(no(a)){if(n.indexOf(a)>=0)return;if(to(a))return a;if(!("toJSON"in a)){n[c]=a;const d=$i(a)?[]:{};return ro(a,(x,w)=>{const y=i(x,c+1);!Ki(y)&&(d[w]=y)}),n[c]=void 0,d}}return a};return i(e,0)},gp=Fn("AsyncFunction"),xp=e=>e&&(no(e)||sn(e))&&sn(e.then)&&sn(e.catch),ah=((e,n)=>e?setImmediate:n?((i,a)=>(ei.addEventListener("message",({source:c,data:d})=>{c===ei&&d===i&&a.length&&a.shift()()},!1),c=>{a.push(c),ei.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",sn(ei.postMessage)),pp=typeof queueMicrotask<"u"?queueMicrotask.bind(ei):typeof process<"u"&&process.nextTick||ah,mp=e=>e!=null&&sn(e[Ul]),z={isArray:$i,isArrayBuffer:rh,isBuffer:to,isFormData:Hx,isArrayBufferView:kx,isString:Bx,isNumber:ih,isBoolean:Px,isObject:no,isPlainObject:Xo,isEmptyObject:Lx,isReadableStream:Gx,isRequest:Xx,isResponse:Yx,isHeaders:Zx,isUndefined:Ki,isDate:Fx,isFile:Ux,isBlob:jx,isRegExp:lp,isFunction:sn,isStream:zx,isURLSearchParams:Wx,isTypedArray:np,isFileList:Vx,forEach:ro,merge:ku,extend:qx,trim:Kx,stripBOM:Qx,inherits:Jx,toFlatObject:$x,kindOf:jl,kindOfTest:Fn,endsWith:ep,toArray:tp,forEachEntry:rp,matchAll:ip,isHTMLForm:sp,hasOwnProperty:h0,hasOwnProp:h0,reduceDescriptors:lh,freezeMethods:ap,toObjectSet:up,toCamelCase:op,noop:cp,toFiniteNumber:fp,findKey:sh,global:ei,isContextDefined:oh,isSpecCompliantForm:dp,toJSONObject:hp,isAsyncFn:gp,isThenable:xp,setImmediate:ah,asap:pp,isIterable:mp};function Ae(e,n,i,a,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),i&&(this.config=i),a&&(this.request=a),c&&(this.response=c,this.status=c.status?c.status:null)}z.inherits(Ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}});const uh=Ae.prototype,ch={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ch[e]={value:e}});Object.defineProperties(Ae,ch);Object.defineProperty(uh,"isAxiosError",{value:!0});Ae.from=(e,n,i,a,c,d)=>{const x=Object.create(uh);z.toFlatObject(e,x,function(v){return v!==Error.prototype},m=>m!=="isAxiosError");const w=e&&e.message?e.message:"Error",y=n==null&&e?e.code:n;return Ae.call(x,w,y,i,a,c),e&&x.cause==null&&Object.defineProperty(x,"cause",{value:e,configurable:!0}),x.name=e&&e.name||"Error",d&&Object.assign(x,d),x};const wp=null;function Bu(e){return z.isPlainObject(e)||z.isArray(e)}function fh(e){return z.endsWith(e,"[]")?e.slice(0,-2):e}function g0(e,n,i){return e?e.concat(n).map(function(c,d){return c=fh(c),!i&&d?"["+c+"]":c}).join(i?".":""):n}function yp(e){return z.isArray(e)&&!e.some(Bu)}const Ep=z.toFlatObject(z,{},null,function(n){return/^is[A-Z]/.test(n)});function zl(e,n,i){if(!z.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,i=z.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(P,Z){return!z.isUndefined(Z[P])});const a=i.metaTokens,c=i.visitor||v,d=i.dots,x=i.indexes,y=(i.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(n);if(!z.isFunction(c))throw new TypeError("visitor must be a function");function m(k){if(k===null)return"";if(z.isDate(k))return k.toISOString();if(z.isBoolean(k))return k.toString();if(!y&&z.isBlob(k))throw new Ae("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(k)||z.isTypedArray(k)?y&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function v(k,P,Z){let D=k;if(k&&!Z&&typeof k=="object"){if(z.endsWith(P,"{}"))P=a?P:P.slice(0,-2),k=JSON.stringify(k);else if(z.isArray(k)&&yp(k)||(z.isFileList(k)||z.endsWith(P,"[]"))&&(D=z.toArray(k)))return P=fh(P),D.forEach(function(R,j){!(z.isUndefined(R)||R===null)&&n.append(x===!0?g0([P],j,d):x===null?P:P+"[]",m(R))}),!1}return Bu(k)?!0:(n.append(g0(Z,P,d),m(k)),!1)}const T=[],M=Object.assign(Ep,{defaultVisitor:v,convertValue:m,isVisitable:Bu});function U(k,P){if(!z.isUndefined(k)){if(T.indexOf(k)!==-1)throw Error("Circular reference detected in "+P.join("."));T.push(k),z.forEach(k,function(D,_){(!(z.isUndefined(D)||D===null)&&c.call(n,D,z.isString(_)?_.trim():_,P,M))===!0&&U(D,P?P.concat(_):[_])}),T.pop()}}if(!z.isObject(e))throw new TypeError("data must be an object");return U(e),n}function x0(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return n[a]})}function Bc(e,n){this._pairs=[],e&&zl(e,this,n)}const dh=Bc.prototype;dh.append=function(n,i){this._pairs.push([n,i])};dh.toString=function(n){const i=n?function(a){return n.call(this,a,x0)}:x0;return this._pairs.map(function(c){return i(c[0])+"="+i(c[1])},"").join("&")};function Cp(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function hh(e,n,i){if(!n)return e;const a=i&&i.encode||Cp;z.isFunction(i)&&(i={serialize:i});const c=i&&i.serialize;let d;if(c?d=c(n,i):d=z.isURLSearchParams(n)?n.toString():new Bc(n,i).toString(a),d){const x=e.indexOf("#");x!==-1&&(e=e.slice(0,x)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class p0{constructor(){this.handlers=[]}use(n,i,a){return this.handlers.push({fulfilled:n,rejected:i,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){z.forEach(this.handlers,function(a){a!==null&&n(a)})}}const gh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ap=typeof URLSearchParams<"u"?URLSearchParams:Bc,Sp=typeof FormData<"u"?FormData:null,vp=typeof Blob<"u"?Blob:null,Ip={isBrowser:!0,classes:{URLSearchParams:Ap,FormData:Sp,Blob:vp},protocols:["http","https","file","blob","url","data"]},Pc=typeof window<"u"&&typeof document<"u",Pu=typeof navigator=="object"&&navigator||void 0,Tp=Pc&&(!Pu||["ReactNative","NativeScript","NS"].indexOf(Pu.product)<0),Np=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_p=Pc&&window.location.href||"http://localhost",Rp=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Pc,hasStandardBrowserEnv:Tp,hasStandardBrowserWebWorkerEnv:Np,navigator:Pu,origin:_p},Symbol.toStringTag,{value:"Module"})),jt={...Rp,...Ip};function Op(e,n){return zl(e,new jt.classes.URLSearchParams,{visitor:function(i,a,c,d){return jt.isNode&&z.isBuffer(i)?(this.append(a,i.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...n})}function bp(e){return z.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function Dp(e){const n={},i=Object.keys(e);let a;const c=i.length;let d;for(a=0;a<c;a++)d=i[a],n[d]=e[d];return n}function xh(e){function n(i,a,c,d){let x=i[d++];if(x==="__proto__")return!0;const w=Number.isFinite(+x),y=d>=i.length;return x=!x&&z.isArray(c)?c.length:x,y?(z.hasOwnProp(c,x)?c[x]=[c[x],a]:c[x]=a,!w):((!c[x]||!z.isObject(c[x]))&&(c[x]=[]),n(i,a,c[x],d)&&z.isArray(c[x])&&(c[x]=Dp(c[x])),!w)}if(z.isFormData(e)&&z.isFunction(e.entries)){const i={};return z.forEachEntry(e,(a,c)=>{n(bp(a),c,i,0)}),i}return null}function Mp(e,n,i){if(z.isString(e))try{return(n||JSON.parse)(e),z.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(i||JSON.stringify)(e)}const io={transitional:gh,adapter:["xhr","http","fetch"],transformRequest:[function(n,i){const a=i.getContentType()||"",c=a.indexOf("application/json")>-1,d=z.isObject(n);if(d&&z.isHTMLForm(n)&&(n=new FormData(n)),z.isFormData(n))return c?JSON.stringify(xh(n)):n;if(z.isArrayBuffer(n)||z.isBuffer(n)||z.isStream(n)||z.isFile(n)||z.isBlob(n)||z.isReadableStream(n))return n;if(z.isArrayBufferView(n))return n.buffer;if(z.isURLSearchParams(n))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let w;if(d){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Op(n,this.formSerializer).toString();if((w=z.isFileList(n))||a.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return zl(w?{"files[]":n}:n,y&&new y,this.formSerializer)}}return d||c?(i.setContentType("application/json",!1),Mp(n)):n}],transformResponse:[function(n){const i=this.transitional||io.transitional,a=i&&i.forcedJSONParsing,c=this.responseType==="json";if(z.isResponse(n)||z.isReadableStream(n))return n;if(n&&z.isString(n)&&(a&&!this.responseType||c)){const x=!(i&&i.silentJSONParsing)&&c;try{return JSON.parse(n,this.parseReviver)}catch(w){if(x)throw w.name==="SyntaxError"?Ae.from(w,Ae.ERR_BAD_RESPONSE,this,null,this.response):w}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jt.classes.FormData,Blob:jt.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],e=>{io.headers[e]={}});const kp=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Bp=e=>{const n={};let i,a,c;return e&&e.split(`
`).forEach(function(x){c=x.indexOf(":"),i=x.substring(0,c).trim().toLowerCase(),a=x.substring(c+1).trim(),!(!i||n[i]&&kp[i])&&(i==="set-cookie"?n[i]?n[i].push(a):n[i]=[a]:n[i]=n[i]?n[i]+", "+a:a)}),n},m0=Symbol("internals");function ys(e){return e&&String(e).trim().toLowerCase()}function Yo(e){return e===!1||e==null?e:z.isArray(e)?e.map(Yo):String(e)}function Pp(e){const n=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=i.exec(e);)n[a[1]]=a[2];return n}const Lp=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Pa(e,n,i,a,c){if(z.isFunction(a))return a.call(this,n,i);if(c&&(n=i),!!z.isString(n)){if(z.isString(a))return n.indexOf(a)!==-1;if(z.isRegExp(a))return a.test(n)}}function Fp(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,i,a)=>i.toUpperCase()+a)}function Up(e,n){const i=z.toCamelCase(" "+n);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+i,{value:function(c,d,x){return this[a].call(this,n,c,d,x)},configurable:!0})})}let on=class{constructor(n){n&&this.set(n)}set(n,i,a){const c=this;function d(w,y,m){const v=ys(y);if(!v)throw new Error("header name must be a non-empty string");const T=z.findKey(c,v);(!T||c[T]===void 0||m===!0||m===void 0&&c[T]!==!1)&&(c[T||y]=Yo(w))}const x=(w,y)=>z.forEach(w,(m,v)=>d(m,v,y));if(z.isPlainObject(n)||n instanceof this.constructor)x(n,i);else if(z.isString(n)&&(n=n.trim())&&!Lp(n))x(Bp(n),i);else if(z.isObject(n)&&z.isIterable(n)){let w={},y,m;for(const v of n){if(!z.isArray(v))throw TypeError("Object iterator must return a key-value pair");w[m=v[0]]=(y=w[m])?z.isArray(y)?[...y,v[1]]:[y,v[1]]:v[1]}x(w,i)}else n!=null&&d(i,n,a);return this}get(n,i){if(n=ys(n),n){const a=z.findKey(this,n);if(a){const c=this[a];if(!i)return c;if(i===!0)return Pp(c);if(z.isFunction(i))return i.call(this,c,a);if(z.isRegExp(i))return i.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,i){if(n=ys(n),n){const a=z.findKey(this,n);return!!(a&&this[a]!==void 0&&(!i||Pa(this,this[a],a,i)))}return!1}delete(n,i){const a=this;let c=!1;function d(x){if(x=ys(x),x){const w=z.findKey(a,x);w&&(!i||Pa(a,a[w],w,i))&&(delete a[w],c=!0)}}return z.isArray(n)?n.forEach(d):d(n),c}clear(n){const i=Object.keys(this);let a=i.length,c=!1;for(;a--;){const d=i[a];(!n||Pa(this,this[d],d,n,!0))&&(delete this[d],c=!0)}return c}normalize(n){const i=this,a={};return z.forEach(this,(c,d)=>{const x=z.findKey(a,d);if(x){i[x]=Yo(c),delete i[d];return}const w=n?Fp(d):String(d).trim();w!==d&&delete i[d],i[w]=Yo(c),a[w]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const i=Object.create(null);return z.forEach(this,(a,c)=>{a!=null&&a!==!1&&(i[c]=n&&z.isArray(a)?a.join(", "):a)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,i])=>n+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...i){const a=new this(n);return i.forEach(c=>a.set(c)),a}static accessor(n){const a=(this[m0]=this[m0]={accessors:{}}).accessors,c=this.prototype;function d(x){const w=ys(x);a[w]||(Up(c,x),a[w]=!0)}return z.isArray(n)?n.forEach(d):d(n),this}};on.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(on.prototype,({value:e},n)=>{let i=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(a){this[i]=a}}});z.freezeMethods(on);function La(e,n){const i=this||io,a=n||i,c=on.from(a.headers);let d=a.data;return z.forEach(e,function(w){d=w.call(i,d,c.normalize(),n?n.status:void 0)}),c.normalize(),d}function ph(e){return!!(e&&e.__CANCEL__)}function es(e,n,i){Ae.call(this,e??"canceled",Ae.ERR_CANCELED,n,i),this.name="CanceledError"}z.inherits(es,Ae,{__CANCEL__:!0});function mh(e,n,i){const a=i.config.validateStatus;!i.status||!a||a(i.status)?e(i):n(new Ae("Request failed with status code "+i.status,[Ae.ERR_BAD_REQUEST,Ae.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function jp(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function Vp(e,n){e=e||10;const i=new Array(e),a=new Array(e);let c=0,d=0,x;return n=n!==void 0?n:1e3,function(y){const m=Date.now(),v=a[d];x||(x=m),i[c]=y,a[c]=m;let T=d,M=0;for(;T!==c;)M+=i[T++],T=T%e;if(c=(c+1)%e,c===d&&(d=(d+1)%e),m-x<n)return;const U=v&&m-v;return U?Math.round(M*1e3/U):void 0}}function zp(e,n){let i=0,a=1e3/n,c,d;const x=(m,v=Date.now())=>{i=v,c=null,d&&(clearTimeout(d),d=null),e(...m)};return[(...m)=>{const v=Date.now(),T=v-i;T>=a?x(m,v):(c=m,d||(d=setTimeout(()=>{d=null,x(c)},a-T)))},()=>c&&x(c)]}const yl=(e,n,i=3)=>{let a=0;const c=Vp(50,250);return zp(d=>{const x=d.loaded,w=d.lengthComputable?d.total:void 0,y=x-a,m=c(y),v=x<=w;a=x;const T={loaded:x,total:w,progress:w?x/w:void 0,bytes:y,rate:m||void 0,estimated:m&&w&&v?(w-x)/m:void 0,event:d,lengthComputable:w!=null,[n?"download":"upload"]:!0};e(T)},i)},w0=(e,n)=>{const i=e!=null;return[a=>n[0]({lengthComputable:i,total:e,loaded:a}),n[1]]},y0=e=>(...n)=>z.asap(()=>e(...n)),Hp=jt.hasStandardBrowserEnv?((e,n)=>i=>(i=new URL(i,jt.origin),e.protocol===i.protocol&&e.host===i.host&&(n||e.port===i.port)))(new URL(jt.origin),jt.navigator&&/(msie|trident)/i.test(jt.navigator.userAgent)):()=>!0,Wp=jt.hasStandardBrowserEnv?{write(e,n,i,a,c,d,x){if(typeof document>"u")return;const w=[`${e}=${encodeURIComponent(n)}`];z.isNumber(i)&&w.push(`expires=${new Date(i).toUTCString()}`),z.isString(a)&&w.push(`path=${a}`),z.isString(c)&&w.push(`domain=${c}`),d===!0&&w.push("secure"),z.isString(x)&&w.push(`SameSite=${x}`),document.cookie=w.join("; ")},read(e){if(typeof document>"u")return null;const n=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return n?decodeURIComponent(n[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Gp(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Xp(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function wh(e,n,i){let a=!Gp(n);return e&&(a||i==!1)?Xp(e,n):n}const E0=e=>e instanceof on?{...e}:e;function ui(e,n){n=n||{};const i={};function a(m,v,T,M){return z.isPlainObject(m)&&z.isPlainObject(v)?z.merge.call({caseless:M},m,v):z.isPlainObject(v)?z.merge({},v):z.isArray(v)?v.slice():v}function c(m,v,T,M){if(z.isUndefined(v)){if(!z.isUndefined(m))return a(void 0,m,T,M)}else return a(m,v,T,M)}function d(m,v){if(!z.isUndefined(v))return a(void 0,v)}function x(m,v){if(z.isUndefined(v)){if(!z.isUndefined(m))return a(void 0,m)}else return a(void 0,v)}function w(m,v,T){if(T in n)return a(m,v);if(T in e)return a(void 0,m)}const y={url:d,method:d,data:d,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,withXSRFToken:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:w,headers:(m,v,T)=>c(E0(m),E0(v),T,!0)};return z.forEach(Object.keys({...e,...n}),function(v){const T=y[v]||c,M=T(e[v],n[v],v);z.isUndefined(M)&&T!==w||(i[v]=M)}),i}const yh=e=>{const n=ui({},e);let{data:i,withXSRFToken:a,xsrfHeaderName:c,xsrfCookieName:d,headers:x,auth:w}=n;if(n.headers=x=on.from(x),n.url=hh(wh(n.baseURL,n.url,n.allowAbsoluteUrls),e.params,e.paramsSerializer),w&&x.set("Authorization","Basic "+btoa((w.username||"")+":"+(w.password?unescape(encodeURIComponent(w.password)):""))),z.isFormData(i)){if(jt.hasStandardBrowserEnv||jt.hasStandardBrowserWebWorkerEnv)x.setContentType(void 0);else if(z.isFunction(i.getHeaders)){const y=i.getHeaders(),m=["content-type","content-length"];Object.entries(y).forEach(([v,T])=>{m.includes(v.toLowerCase())&&x.set(v,T)})}}if(jt.hasStandardBrowserEnv&&(a&&z.isFunction(a)&&(a=a(n)),a||a!==!1&&Hp(n.url))){const y=c&&d&&Wp.read(d);y&&x.set(c,y)}return n},Yp=typeof XMLHttpRequest<"u",Zp=Yp&&function(e){return new Promise(function(i,a){const c=yh(e);let d=c.data;const x=on.from(c.headers).normalize();let{responseType:w,onUploadProgress:y,onDownloadProgress:m}=c,v,T,M,U,k;function P(){U&&U(),k&&k(),c.cancelToken&&c.cancelToken.unsubscribe(v),c.signal&&c.signal.removeEventListener("abort",v)}let Z=new XMLHttpRequest;Z.open(c.method.toUpperCase(),c.url,!0),Z.timeout=c.timeout;function D(){if(!Z)return;const R=on.from("getAllResponseHeaders"in Z&&Z.getAllResponseHeaders()),ee={data:!w||w==="text"||w==="json"?Z.responseText:Z.response,status:Z.status,statusText:Z.statusText,headers:R,config:e,request:Z};mh(function(F){i(F),P()},function(F){a(F),P()},ee),Z=null}"onloadend"in Z?Z.onloadend=D:Z.onreadystatechange=function(){!Z||Z.readyState!==4||Z.status===0&&!(Z.responseURL&&Z.responseURL.indexOf("file:")===0)||setTimeout(D)},Z.onabort=function(){Z&&(a(new Ae("Request aborted",Ae.ECONNABORTED,e,Z)),Z=null)},Z.onerror=function(j){const ee=j&&j.message?j.message:"Network Error",q=new Ae(ee,Ae.ERR_NETWORK,e,Z);q.event=j||null,a(q),Z=null},Z.ontimeout=function(){let j=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const ee=c.transitional||gh;c.timeoutErrorMessage&&(j=c.timeoutErrorMessage),a(new Ae(j,ee.clarifyTimeoutError?Ae.ETIMEDOUT:Ae.ECONNABORTED,e,Z)),Z=null},d===void 0&&x.setContentType(null),"setRequestHeader"in Z&&z.forEach(x.toJSON(),function(j,ee){Z.setRequestHeader(ee,j)}),z.isUndefined(c.withCredentials)||(Z.withCredentials=!!c.withCredentials),w&&w!=="json"&&(Z.responseType=c.responseType),m&&([M,k]=yl(m,!0),Z.addEventListener("progress",M)),y&&Z.upload&&([T,U]=yl(y),Z.upload.addEventListener("progress",T),Z.upload.addEventListener("loadend",U)),(c.cancelToken||c.signal)&&(v=R=>{Z&&(a(!R||R.type?new es(null,e,Z):R),Z.abort(),Z=null)},c.cancelToken&&c.cancelToken.subscribe(v),c.signal&&(c.signal.aborted?v():c.signal.addEventListener("abort",v)));const _=jp(c.url);if(_&&jt.protocols.indexOf(_)===-1){a(new Ae("Unsupported protocol "+_+":",Ae.ERR_BAD_REQUEST,e));return}Z.send(d||null)})},Kp=(e,n)=>{const{length:i}=e=e?e.filter(Boolean):[];if(n||i){let a=new AbortController,c;const d=function(m){if(!c){c=!0,w();const v=m instanceof Error?m:this.reason;a.abort(v instanceof Ae?v:new es(v instanceof Error?v.message:v))}};let x=n&&setTimeout(()=>{x=null,d(new Ae(`timeout ${n} of ms exceeded`,Ae.ETIMEDOUT))},n);const w=()=>{e&&(x&&clearTimeout(x),x=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(d):m.removeEventListener("abort",d)}),e=null)};e.forEach(m=>m.addEventListener("abort",d));const{signal:y}=a;return y.unsubscribe=()=>z.asap(w),y}},qp=function*(e,n){let i=e.byteLength;if(i<n){yield e;return}let a=0,c;for(;a<i;)c=a+n,yield e.slice(a,c),a=c},Qp=async function*(e,n){for await(const i of Jp(e))yield*qp(i,n)},Jp=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:i,value:a}=await n.read();if(i)break;yield a}}finally{await n.cancel()}},C0=(e,n,i,a)=>{const c=Qp(e,n);let d=0,x,w=y=>{x||(x=!0,a&&a(y))};return new ReadableStream({async pull(y){try{const{done:m,value:v}=await c.next();if(m){w(),y.close();return}let T=v.byteLength;if(i){let M=d+=T;i(M)}y.enqueue(new Uint8Array(v))}catch(m){throw w(m),m}},cancel(y){return w(y),c.return()}},{highWaterMark:2})},A0=64*1024,{isFunction:Mo}=z,$p=(({Request:e,Response:n})=>({Request:e,Response:n}))(z.global),{ReadableStream:S0,TextEncoder:v0}=z.global,I0=(e,...n)=>{try{return!!e(...n)}catch{return!1}},em=e=>{e=z.merge.call({skipUndefined:!0},$p,e);const{fetch:n,Request:i,Response:a}=e,c=n?Mo(n):typeof fetch=="function",d=Mo(i),x=Mo(a);if(!c)return!1;const w=c&&Mo(S0),y=c&&(typeof v0=="function"?(k=>P=>k.encode(P))(new v0):async k=>new Uint8Array(await new i(k).arrayBuffer())),m=d&&w&&I0(()=>{let k=!1;const P=new i(jt.origin,{body:new S0,method:"POST",get duplex(){return k=!0,"half"}}).headers.has("Content-Type");return k&&!P}),v=x&&w&&I0(()=>z.isReadableStream(new a("").body)),T={stream:v&&(k=>k.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(k=>{!T[k]&&(T[k]=(P,Z)=>{let D=P&&P[k];if(D)return D.call(P);throw new Ae(`Response type '${k}' is not supported`,Ae.ERR_NOT_SUPPORT,Z)})});const M=async k=>{if(k==null)return 0;if(z.isBlob(k))return k.size;if(z.isSpecCompliantForm(k))return(await new i(jt.origin,{method:"POST",body:k}).arrayBuffer()).byteLength;if(z.isArrayBufferView(k)||z.isArrayBuffer(k))return k.byteLength;if(z.isURLSearchParams(k)&&(k=k+""),z.isString(k))return(await y(k)).byteLength},U=async(k,P)=>{const Z=z.toFiniteNumber(k.getContentLength());return Z??M(P)};return async k=>{let{url:P,method:Z,data:D,signal:_,cancelToken:R,timeout:j,onDownloadProgress:ee,onUploadProgress:q,responseType:F,headers:te,withCredentials:G="same-origin",fetchOptions:me}=yh(k),Pe=n||fetch;F=F?(F+"").toLowerCase():"text";let ue=Kp([_,R&&R.toAbortSignal()],j),ye=null;const Be=ue&&ue.unsubscribe&&(()=>{ue.unsubscribe()});let W;try{if(q&&m&&Z!=="get"&&Z!=="head"&&(W=await U(te,D))!==0){let Te=new i(P,{method:"POST",body:D,duplex:"half"}),Ee;if(z.isFormData(D)&&(Ee=Te.headers.get("content-type"))&&te.setContentType(Ee),Te.body){const[St,be]=w0(W,yl(y0(q)));D=C0(Te.body,A0,St,be)}}z.isString(G)||(G=G?"include":"omit");const Re=d&&"credentials"in i.prototype,xe={...me,signal:ue,method:Z.toUpperCase(),headers:te.normalize().toJSON(),body:D,duplex:"half",credentials:Re?G:void 0};ye=d&&new i(P,xe);let re=await(d?Pe(ye,me):Pe(P,xe));const ce=v&&(F==="stream"||F==="response");if(v&&(ee||ce&&Be)){const Te={};["status","statusText","headers"].forEach(xn=>{Te[xn]=re[xn]});const Ee=z.toFiniteNumber(re.headers.get("content-length")),[St,be]=ee&&w0(Ee,yl(y0(ee),!0))||[];re=new a(C0(re.body,A0,St,()=>{be&&be(),Be&&Be()}),Te)}F=F||"text";let he=await T[z.findKey(T,F)||"text"](re,k);return!ce&&Be&&Be(),await new Promise((Te,Ee)=>{mh(Te,Ee,{data:he,headers:on.from(re.headers),status:re.status,statusText:re.statusText,config:k,request:ye})})}catch(Re){throw Be&&Be(),Re&&Re.name==="TypeError"&&/Load failed|fetch/i.test(Re.message)?Object.assign(new Ae("Network Error",Ae.ERR_NETWORK,k,ye),{cause:Re.cause||Re}):Ae.from(Re,Re&&Re.code,k,ye)}}},tm=new Map,Eh=e=>{let n=e&&e.env||{};const{fetch:i,Request:a,Response:c}=n,d=[a,c,i];let x=d.length,w=x,y,m,v=tm;for(;w--;)y=d[w],m=v.get(y),m===void 0&&v.set(y,m=w?new Map:em(n)),v=m;return m};Eh();const Lc={http:wp,xhr:Zp,fetch:{get:Eh}};z.forEach(Lc,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const T0=e=>`- ${e}`,nm=e=>z.isFunction(e)||e===null||e===!1;function rm(e,n){e=z.isArray(e)?e:[e];const{length:i}=e;let a,c;const d={};for(let x=0;x<i;x++){a=e[x];let w;if(c=a,!nm(a)&&(c=Lc[(w=String(a)).toLowerCase()],c===void 0))throw new Ae(`Unknown adapter '${w}'`);if(c&&(z.isFunction(c)||(c=c.get(n))))break;d[w||"#"+x]=c}if(!c){const x=Object.entries(d).map(([y,m])=>`adapter ${y} `+(m===!1?"is not supported by the environment":"is not available in the build"));let w=i?x.length>1?`since :
`+x.map(T0).join(`
`):" "+T0(x[0]):"as no adapter specified";throw new Ae("There is no suitable adapter to dispatch the request "+w,"ERR_NOT_SUPPORT")}return c}const Ch={getAdapter:rm,adapters:Lc};function Fa(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new es(null,e)}function N0(e){return Fa(e),e.headers=on.from(e.headers),e.data=La.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ch.getAdapter(e.adapter||io.adapter,e)(e).then(function(a){return Fa(e),a.data=La.call(e,e.transformResponse,a),a.headers=on.from(a.headers),a},function(a){return ph(a)||(Fa(e),a&&a.response&&(a.response.data=La.call(e,e.transformResponse,a.response),a.response.headers=on.from(a.response.headers))),Promise.reject(a)})}const Ah="1.13.2",Hl={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{Hl[e]=function(a){return typeof a===e||"a"+(n<1?"n ":" ")+e}});const _0={};Hl.transitional=function(n,i,a){function c(d,x){return"[Axios v"+Ah+"] Transitional option '"+d+"'"+x+(a?". "+a:"")}return(d,x,w)=>{if(n===!1)throw new Ae(c(x," has been removed"+(i?" in "+i:"")),Ae.ERR_DEPRECATED);return i&&!_0[x]&&(_0[x]=!0,console.warn(c(x," has been deprecated since v"+i+" and will be removed in the near future"))),n?n(d,x,w):!0}};Hl.spelling=function(n){return(i,a)=>(console.warn(`${a} is likely a misspelling of ${n}`),!0)};function im(e,n,i){if(typeof e!="object")throw new Ae("options must be an object",Ae.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let c=a.length;for(;c-- >0;){const d=a[c],x=n[d];if(x){const w=e[d],y=w===void 0||x(w,d,e);if(y!==!0)throw new Ae("option "+d+" must be "+y,Ae.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Ae("Unknown option "+d,Ae.ERR_BAD_OPTION)}}const Zo={assertOptions:im,validators:Hl},Yn=Zo.validators;let ri=class{constructor(n){this.defaults=n||{},this.interceptors={request:new p0,response:new p0}}async request(n,i){try{return await this._request(n,i)}catch(a){if(a instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{a.stack?d&&!String(a.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+d):a.stack=d}catch{}}throw a}}_request(n,i){typeof n=="string"?(i=i||{},i.url=n):i=n||{},i=ui(this.defaults,i);const{transitional:a,paramsSerializer:c,headers:d}=i;a!==void 0&&Zo.assertOptions(a,{silentJSONParsing:Yn.transitional(Yn.boolean),forcedJSONParsing:Yn.transitional(Yn.boolean),clarifyTimeoutError:Yn.transitional(Yn.boolean)},!1),c!=null&&(z.isFunction(c)?i.paramsSerializer={serialize:c}:Zo.assertOptions(c,{encode:Yn.function,serialize:Yn.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),Zo.assertOptions(i,{baseUrl:Yn.spelling("baseURL"),withXsrfToken:Yn.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let x=d&&z.merge(d.common,d[i.method]);d&&z.forEach(["delete","get","head","post","put","patch","common"],k=>{delete d[k]}),i.headers=on.concat(x,d);const w=[];let y=!0;this.interceptors.request.forEach(function(P){typeof P.runWhen=="function"&&P.runWhen(i)===!1||(y=y&&P.synchronous,w.unshift(P.fulfilled,P.rejected))});const m=[];this.interceptors.response.forEach(function(P){m.push(P.fulfilled,P.rejected)});let v,T=0,M;if(!y){const k=[N0.bind(this),void 0];for(k.unshift(...w),k.push(...m),M=k.length,v=Promise.resolve(i);T<M;)v=v.then(k[T++],k[T++]);return v}M=w.length;let U=i;for(;T<M;){const k=w[T++],P=w[T++];try{U=k(U)}catch(Z){P.call(this,Z);break}}try{v=N0.call(this,U)}catch(k){return Promise.reject(k)}for(T=0,M=m.length;T<M;)v=v.then(m[T++],m[T++]);return v}getUri(n){n=ui(this.defaults,n);const i=wh(n.baseURL,n.url,n.allowAbsoluteUrls);return hh(i,n.params,n.paramsSerializer)}};z.forEach(["delete","get","head","options"],function(n){ri.prototype[n]=function(i,a){return this.request(ui(a||{},{method:n,url:i,data:(a||{}).data}))}});z.forEach(["post","put","patch"],function(n){function i(a){return function(d,x,w){return this.request(ui(w||{},{method:n,headers:a?{"Content-Type":"multipart/form-data"}:{},url:d,data:x}))}}ri.prototype[n]=i(),ri.prototype[n+"Form"]=i(!0)});let sm=class Sh{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(d){i=d});const a=this;this.promise.then(c=>{if(!a._listeners)return;let d=a._listeners.length;for(;d-- >0;)a._listeners[d](c);a._listeners=null}),this.promise.then=c=>{let d;const x=new Promise(w=>{a.subscribe(w),d=w}).then(c);return x.cancel=function(){a.unsubscribe(d)},x},n(function(d,x,w){a.reason||(a.reason=new es(d,x,w),i(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const n=new AbortController,i=a=>{n.abort(a)};return this.subscribe(i),n.signal.unsubscribe=()=>this.unsubscribe(i),n.signal}static source(){let n;return{token:new Sh(function(c){n=c}),cancel:n}}};function om(e){return function(i){return e.apply(null,i)}}function lm(e){return z.isObject(e)&&e.isAxiosError===!0}const Lu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Lu).forEach(([e,n])=>{Lu[n]=e});function vh(e){const n=new ri(e),i=th(ri.prototype.request,n);return z.extend(i,ri.prototype,n,{allOwnKeys:!0}),z.extend(i,n,null,{allOwnKeys:!0}),i.create=function(c){return vh(ui(e,c))},i}const ht=vh(io);ht.Axios=ri;ht.CanceledError=es;ht.CancelToken=sm;ht.isCancel=ph;ht.VERSION=Ah;ht.toFormData=zl;ht.AxiosError=Ae;ht.Cancel=ht.CanceledError;ht.all=function(n){return Promise.all(n)};ht.spread=om;ht.isAxiosError=lm;ht.mergeConfig=ui;ht.AxiosHeaders=on;ht.formToJSON=e=>xh(z.isHTMLForm(e)?new FormData(e):e);ht.getAdapter=Ch.getAdapter;ht.HttpStatusCode=Lu;ht.default=ht;const{Axios:rw,AxiosError:iw,CanceledError:sw,isCancel:ow,CancelToken:lw,VERSION:aw,all:uw,Cancel:cw,isAxiosError:fw,spread:dw,toFormData:hw,AxiosHeaders:gw,HttpStatusCode:xw,formToJSON:pw,getAdapter:mw,mergeConfig:ww}=ht,Yr=ht.create({baseURL:"/api",withCredentials:!0}),am=({onLogin:e,loading:n})=>{const[i,a]=Ie.useState("admin"),[c,d]=Ie.useState("admin"),x=w=>{w.preventDefault(),e({username:i,password:c})};return S.jsx("div",{className:"login-container",children:S.jsxs("div",{className:"login-box",children:[S.jsxs("div",{className:"login-logo",children:[S.jsx("div",{className:"logo-icon",children:"W"}),S.jsx("h1",{children:"Warehouse Management"})]}),S.jsxs("form",{onSubmit:x,children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Username"}),S.jsx("input",{type:"text",value:i,onChange:w=>a(w.target.value),placeholder:"Enter username",required:!0})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Password"}),S.jsx("input",{type:"password",value:c,onChange:w=>d(w.target.value),placeholder:"Enter password",required:!0})]}),S.jsx("button",{type:"submit",className:"btn-login",disabled:n,children:n?"Signing In":"Sign In"}),S.jsx("p",{className:"login-hint",children:"Demo credentials: admin / admin"})]})]})})},um=({onToggleTheme:e,isDarkMode:n,onLogout:i,onToggleSidebar:a})=>S.jsxs("nav",{className:"navbar",children:[S.jsxs("div",{className:"navbar-brand",children:[S.jsx("button",{type:"button",className:"navbar-menu-btn","aria-label":"Toggle sidebar",onClick:a,children:""}),S.jsx("div",{className:"logo",children:"W"}),S.jsx("h1",{children:"Warehouse Management System"})]}),S.jsxs("div",{className:"navbar-right",children:[S.jsx("button",{type:"button",className:"theme-toggle",onClick:e,children:n?"~?,?":"dYOT"}),S.jsxs("div",{className:"user-profile",role:"button",tabIndex:0,onClick:i,children:[S.jsx("div",{className:"user-avatar",children:"A"}),S.jsx("span",{children:"Admin"})]})]})]}),cm=[{key:"dashboard",label:"Dashboard",icon:""},{key:"inventory",label:"Inventory",icon:""},{key:"inbound",label:"Inbound",icon:""},{key:"outbound",label:"Outbound",icon:""},{key:"scanner",label:"Scan Items",icon:""},{key:"settings",label:"Settings",icon:""}],fm=({activePage:e,onNavigate:n,isOpen:i})=>S.jsx("aside",{className:`sidebar ${i?"active":""}`,children:S.jsx("ul",{className:"sidebar-menu",children:cm.map(a=>S.jsx("li",{children:S.jsxs("a",{href:"#!",className:e===a.key?"active":"",onClick:c=>{c.preventDefault(),n(a.key)},children:[S.jsx("span",{className:"icon",children:a.icon}),a.label]})},a.key))})}),dm=[{key:"MTR",label:"MTR",icon:"",iconClass:"blue"},{key:"Parasuit",label:"Parasuit",icon:"",iconClass:"orange"},{key:"Dabour",label:"Dabour",icon:"",iconClass:"green"},{key:"ExpiringSoon",label:"Expring soon",icon:"",iconClass:"red"}],hm={Received:"badge-success",Shipped:"badge-success",Alert:"badge-warning",Processing:"badge-warning",Pending:"badge-warning"},gm=({statsByBrand:e,onSelectBrand:n,activities:i})=>S.jsxs("div",{className:"page-content",children:[S.jsxs("div",{className:"page-header",children:[S.jsx("h2",{children:"Dashboard Overview"}),S.jsx("p",{children:"Real-time warehouse analytics and monitoring"})]}),S.jsx("div",{className:"stats-grid",children:dm.map(a=>S.jsxs("div",{className:"stat-card",onClick:()=>n(a.key),role:"button",tabIndex:0,children:[S.jsx("div",{className:`stat-icon ${a.iconClass}`,children:a.icon}),S.jsxs("div",{className:"stat-content",children:[S.jsx("h3",{children:e[a.key]??0}),S.jsx("p",{children:a.label})]})]},a.key||"all"))}),S.jsxs("div",{className:"card",children:[S.jsx("div",{className:"card-header",children:S.jsx("h3",{children:"Recent Activity"})}),S.jsx("div",{className:"table-container",children:S.jsxs("table",{children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Time"}),S.jsx("th",{children:"Activity"}),S.jsx("th",{children:"Item"}),S.jsx("th",{children:"Location"}),S.jsx("th",{children:"Status"})]})}),S.jsx("tbody",{children:i.length===0?S.jsx("tr",{children:S.jsx("td",{colSpan:5,children:"No recent activity found."})}):i.map(a=>{const d=new Date(a.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return S.jsxs("tr",{children:[S.jsx("td",{children:d}),S.jsx("td",{children:a.activity}),S.jsx("td",{children:a.item}),S.jsx("td",{children:a.location}),S.jsx("td",{children:S.jsx("span",{className:`badge ${hm[a.status]??"badge-success"}`,children:a.status})})]},a._id??`${a.item}-${a.timestamp}`)})})]})})]})]}),xm=({items:e,brandFilter:n,onBrandFilterChange:i,searchTerm:a,onSearchChange:c,onEditItem:d,onDeleteItem:x})=>S.jsxs("div",{className:"page-content",children:[S.jsxs("div",{className:"page-header",children:[S.jsx("h2",{children:"Inventory Management"}),S.jsx("p",{children:"Complete overview of warehouse inventory"})]}),S.jsxs("div",{className:"card",children:[S.jsx("div",{className:"card-header",children:S.jsx("h3",{children:"Product Inventory"})}),S.jsxs("div",{className:"filter-bar",children:[S.jsx("input",{type:"text",value:a,placeholder:" Search by name, brand, or rack...",onChange:w=>c(w.target.value)}),S.jsxs("select",{value:n,onChange:w=>i(w.target.value),children:[S.jsx("option",{value:"",children:"All Brands"}),S.jsx("option",{value:"MTR",children:"MTR"}),S.jsx("option",{value:"Parasuit",children:"Parasuit"}),S.jsx("option",{value:"Dabour",children:"Dabour"})]})]}),S.jsx("div",{className:"table-container",children:S.jsxs("table",{children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Item Code"}),S.jsx("th",{children:"Name"}),S.jsx("th",{children:"Weight"}),S.jsx("th",{children:"Brand Name"}),S.jsx("th",{children:"Quantity (Boxes)"}),S.jsx("th",{children:"Location"}),S.jsx("th",{children:"Expiry Date"}),S.jsx("th",{children:"Actions"})]})}),S.jsx("tbody",{children:e.length===0?S.jsx("tr",{children:S.jsx("td",{colSpan:8,children:"No items found."})}):e.map(w=>S.jsxs("tr",{children:[S.jsx("td",{children:w.barcode}),S.jsx("td",{children:w.name}),S.jsx("td",{children:w.weight}),S.jsx("td",{children:w.brand}),S.jsx("td",{children:w.quantity}),S.jsx("td",{children:w.location}),S.jsx("td",{children:w.expiry}),S.jsx("td",{children:S.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[S.jsx("button",{type:"button",className:"btn btn-primary btn-small",onClick:()=>d(w),children:"Edit"}),x?S.jsx("button",{type:"button",className:"btn btn-danger btn-small",onClick:()=>x(w),children:"Delete"}):null]})})]},w._id))})]})})]})]}),pm=[{id:"#IN-2025-001",supplier:"Tech Distributors Inc.",items:150,expectedDate:"Oct 18, 2025",status:"In Transit"},{id:"#IN-2025-002",supplier:"Global Electronics",items:320,expectedDate:"Oct 17, 2025",status:"Received"},{id:"#IN-2025-003",supplier:"Prime Suppliers LLC",items:95,expectedDate:"Oct 20, 2025",status:"Pending"}],mm=e=>e==="Received"?"badge-success":"badge-warning",wm=()=>S.jsxs("div",{className:"page-content",children:[S.jsxs("div",{className:"page-header",children:[S.jsx("h2",{children:"Inbound Shipments"}),S.jsx("p",{children:"Track incoming deliveries and stock receipts"})]}),S.jsxs("div",{className:"card",children:[S.jsx("div",{className:"card-header",children:S.jsx("h3",{children:"Recent Inbound Orders"})}),S.jsx("div",{className:"table-container",children:S.jsxs("table",{children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Order ID"}),S.jsx("th",{children:"Supplier"}),S.jsx("th",{children:"Items"}),S.jsx("th",{children:"Expected Date"}),S.jsx("th",{children:"Status"})]})}),S.jsx("tbody",{children:pm.map(e=>S.jsxs("tr",{children:[S.jsx("td",{children:e.id}),S.jsx("td",{children:e.supplier}),S.jsx("td",{children:e.items}),S.jsx("td",{children:e.expectedDate}),S.jsx("td",{children:S.jsx("span",{className:`badge ${mm(e.status)}`,children:e.status})})]},e.id))})]})})]})]}),ym=[{id:"#OUT-2025-156",customer:"Amazon Fulfillment",items:240,shippingDate:"Oct 17, 2025",status:"Shipped"},{id:"#OUT-2025-157",customer:"Best Buy Distribution",items:185,shippingDate:"Oct 18, 2025",status:"Processing"},{id:"#OUT-2025-158",customer:"Walmart Logistics",items:420,shippingDate:"Oct 19, 2025",status:"Pending"}],Em=e=>e==="Shipped"?"badge-success":"badge-warning",Cm=()=>S.jsxs("div",{className:"page-content",children:[S.jsxs("div",{className:"page-header",children:[S.jsx("h2",{children:"Outbound Shipments"}),S.jsx("p",{children:"Manage orders ready for dispatch"})]}),S.jsxs("div",{className:"card",children:[S.jsx("div",{className:"card-header",children:S.jsx("h3",{children:"Orders Ready to Ship"})}),S.jsx("div",{className:"table-container",children:S.jsxs("table",{children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Order ID"}),S.jsx("th",{children:"Customer"}),S.jsx("th",{children:"Items"}),S.jsx("th",{children:"Shipping Date"}),S.jsx("th",{children:"Status"})]})}),S.jsx("tbody",{children:ym.map(e=>S.jsxs("tr",{children:[S.jsx("td",{children:e.id}),S.jsx("td",{children:e.customer}),S.jsx("td",{children:e.items}),S.jsx("td",{children:e.shippingDate}),S.jsx("td",{children:S.jsx("span",{className:`badge ${Em(e.status)}`,children:e.status})})]},e.id))})]})})]})]});var oe;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(oe||(oe={}));var R0=new Map([[oe.QR_CODE,"QR_CODE"],[oe.AZTEC,"AZTEC"],[oe.CODABAR,"CODABAR"],[oe.CODE_39,"CODE_39"],[oe.CODE_93,"CODE_93"],[oe.CODE_128,"CODE_128"],[oe.DATA_MATRIX,"DATA_MATRIX"],[oe.MAXICODE,"MAXICODE"],[oe.ITF,"ITF"],[oe.EAN_13,"EAN_13"],[oe.EAN_8,"EAN_8"],[oe.PDF_417,"PDF_417"],[oe.RSS_14,"RSS_14"],[oe.RSS_EXPANDED,"RSS_EXPANDED"],[oe.UPC_A,"UPC_A"],[oe.UPC_E,"UPC_E"],[oe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),O0;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(O0||(O0={}));function Am(e){return Object.values(oe).includes(e)}var El;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(El||(El={}));var Sm=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[El.SCAN_TYPE_CAMERA,El.SCAN_TYPE_FILE],e}(),Ih=function(){function e(n,i){this.format=n,this.formatName=i}return e.prototype.toString=function(){return this.formatName},e.create=function(n){if(!R0.has(n))throw"".concat(n," not in html5QrcodeSupportedFormatsTextMap");return new e(n,R0.get(n))},e}(),b0=function(){function e(){}return e.createFromText=function(n){var i={text:n};return{decodedText:n,result:i}},e.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},e}(),Fu;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Fu||(Fu={}));var vm=function(){function e(){}return e.createFrom=function(n){return{errorMessage:n,type:Fu.UNKWOWN_ERROR}},e}(),Im=function(){function e(n){this.verbose=n}return e.prototype.log=function(n){this.verbose&&console.log(n)},e.prototype.warn=function(n){this.verbose&&console.warn(n)},e.prototype.logError=function(n,i){(this.verbose||i===!0)&&console.error(n)},e.prototype.logErrors=function(n){if(n.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},e}();function Jn(e){return typeof e>"u"||e===null}var Bi=function(){function e(){}return e.codeParseError=function(n){return"QR code parse error, error = ".concat(n)},e.errorGettingUserMedia=function(n){return"Error getting userMedia, error = ".concat(n)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Th=function(){function e(){}return e.isMediaStreamConstraintsValid=function(n,i){if(typeof n!="object"){var a=typeof n;return i.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var c=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],d=new Set(c),x=Object.keys(n),w=0,y=x;w<y.length;w++){var m=y[w];if(d.has(m))return i.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},e}(),Uu={exports:{}};(function(e,n){(function(i,a){a(n)})(cs,function(i){function a(E){return E==null}var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,t){E.__proto__=t}||function(E,t){for(var r in t)t.hasOwnProperty(r)&&(E[r]=t[r])};function d(E,t){c(E,t);function r(){this.constructor=E}E.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function x(E,t){var r=Object.setPrototypeOf;r?r(E,t):E.__proto__=t}function w(E,t){t===void 0&&(t=E.constructor);var r=Error.captureStackTrace;r&&r(E,t)}var y=function(E){d(t,E);function t(r){var s=this.constructor,o=E.call(this,r)||this;return Object.defineProperty(o,"name",{value:s.name,enumerable:!1}),x(o,s.prototype),w(o),o}return t}(Error);class m extends y{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}m.kind="Exception";class v extends m{}v.kind="ArgumentException";class T extends m{}T.kind="IllegalArgumentException";class M{constructor(t){if(this.binarizer=t,t===null)throw new T("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,r){return this.binarizer.getBlackRow(t,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,r,s,o){const l=this.binarizer.getLuminanceSource().crop(t,r,s,o);return new M(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new M(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new M(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class U extends m{static getChecksumInstance(){return new U}}U.kind="ChecksumException";class k{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class P{static arraycopy(t,r,s,o,l){for(;l--;)s[o++]=t[r++]}static currentTimeMillis(){return Date.now()}}class Z extends m{}Z.kind="IndexOutOfBoundsException";class D extends Z{constructor(t=void 0,r=void 0){super(r),this.index=t,this.message=r}}D.kind="ArrayIndexOutOfBoundsException";class _{static fill(t,r){for(let s=0,o=t.length;s<o;s++)t[s]=r}static fillWithin(t,r,s,o){_.rangeCheck(t.length,r,s);for(let l=r;l<s;l++)t[l]=o}static rangeCheck(t,r,s){if(r>s)throw new T("fromIndex("+r+") > toIndex("+s+")");if(r<0)throw new D(r);if(s>t)throw new D(s)}static asList(...t){return t}static create(t,r,s){return Array.from({length:t}).map(l=>Array.from({length:r}).fill(s))}static createInt32Array(t,r,s){return Array.from({length:t}).map(l=>Int32Array.from({length:r}).fill(s))}static equals(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(let s=0,o=t.length;s<o;s++)if(t[s]!==r[s])return!1;return!0}static hashCode(t){if(t===null)return 0;let r=1;for(const s of t)r=31*r+s;return r}static fillUint8Array(t,r){for(let s=0;s!==t.length;s++)t[s]=r}static copyOf(t,r){return t.slice(0,r)}static copyOfUint8Array(t,r){if(t.length<=r){const s=new Uint8Array(r);return s.set(t),s}return t.slice(0,r)}static copyOfRange(t,r,s){const o=s-r,l=new Int32Array(o);return P.arraycopy(t,r,l,0,o),l}static binarySearch(t,r,s){s===void 0&&(s=_.numberComparator);let o=0,l=t.length-1;for(;o<=l;){const u=l+o>>1,f=s(r,t[u]);if(f>0)o=u+1;else if(f<0)l=u-1;else return u}return-o-1}static numberComparator(t,r){return t-r}}class R{static numberOfTrailingZeros(t){let r;if(t===0)return 32;let s=31;return r=t<<16,r!==0&&(s-=16,t=r),r=t<<8,r!==0&&(s-=8,t=r),r=t<<4,r!==0&&(s-=4,t=r),r=t<<2,r!==0&&(s-=2,t=r),s-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,r){return Math.trunc(t/r)}static parseInt(t,r=void 0){return parseInt(t,r)}}R.MIN_VALUE_32_BITS=-2147483648,R.MAX_VALUE=Number.MAX_SAFE_INTEGER;class j{constructor(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=j.makeArray(t):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const r=j.makeArray(t);P.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const r=this.size;if(t>=r)return r;const s=this.bits;let o=Math.floor(t/32),l=s[o];l&=~((1<<(t&31))-1);const u=s.length;for(;l===0;){if(++o===u)return r;l=s[o]}const f=o*32+R.numberOfTrailingZeros(l);return f>r?r:f}getNextUnset(t){const r=this.size;if(t>=r)return r;const s=this.bits;let o=Math.floor(t/32),l=~s[o];l&=~((1<<(t&31))-1);const u=s.length;for(;l===0;){if(++o===u)return r;l=~s[o]}const f=o*32+R.numberOfTrailingZeros(l);return f>r?r:f}setBulk(t,r){this.bits[Math.floor(t/32)]=r}setRange(t,r){if(r<t||t<0||r>this.size)throw new T;if(r===t)return;r--;const s=Math.floor(t/32),o=Math.floor(r/32),l=this.bits;for(let u=s;u<=o;u++){const f=u>s?0:t&31,g=(2<<(u<o?31:r&31))-(1<<f);l[u]|=g}}clear(){const t=this.bits.length,r=this.bits;for(let s=0;s<t;s++)r[s]=0}isRange(t,r,s){if(r<t||t<0||r>this.size)throw new T;if(r===t)return!0;r--;const o=Math.floor(t/32),l=Math.floor(r/32),u=this.bits;for(let f=o;f<=l;f++){const h=f>o?0:t&31,p=(2<<(f<l?31:r&31))-(1<<h)&4294967295;if((u[f]&p)!==(s?p:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,r){if(r<0||r>32)throw new T("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let s=r;s>0;s--)this.appendBit((t>>s-1&1)===1)}appendBitArray(t){const r=t.size;this.ensureCapacity(this.size+r);for(let s=0;s<r;s++)this.appendBit(t.get(s))}xor(t){if(this.size!==t.size)throw new T("Sizes don't match");const r=this.bits;for(let s=0,o=r.length;s<o;s++)r[s]^=t.bits[s]}toBytes(t,r,s,o){for(let l=0;l<o;l++){let u=0;for(let f=0;f<8;f++)this.get(t)&&(u|=1<<7-f),t++;r[s+l]=u}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),s=r+1,o=this.bits;for(let l=0;l<s;l++){let u=o[l];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,t[r-l]=u}if(this.size!==s*32){const l=s*32-this.size;let u=t[0]>>>l;for(let f=1;f<s;f++){const h=t[f];u|=h<<32-l,t[f-1]=u,u=h>>>l}t[s-1]=u}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof j))return!1;const r=t;return this.size===r.size&&_.equals(this.bits,r.bits)}hashCode(){return 31*this.size+_.hashCode(this.bits)}toString(){let t="";for(let r=0,s=this.size;r<s;r++)r&7||(t+=" "),t+=this.get(r)?"X":".";return t}clone(){return new j(this.size,this.bits.slice())}}var ee;(function(E){E[E.OTHER=0]="OTHER",E[E.PURE_BARCODE=1]="PURE_BARCODE",E[E.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",E[E.TRY_HARDER=3]="TRY_HARDER",E[E.CHARACTER_SET=4]="CHARACTER_SET",E[E.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",E[E.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",E[E.ASSUME_GS1=7]="ASSUME_GS1",E[E.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",E[E.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",E[E.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ee||(ee={}));var q=ee;class F extends m{static getFormatInstance(){return new F}}F.kind="FormatException";var te;(function(E){E[E.Cp437=0]="Cp437",E[E.ISO8859_1=1]="ISO8859_1",E[E.ISO8859_2=2]="ISO8859_2",E[E.ISO8859_3=3]="ISO8859_3",E[E.ISO8859_4=4]="ISO8859_4",E[E.ISO8859_5=5]="ISO8859_5",E[E.ISO8859_6=6]="ISO8859_6",E[E.ISO8859_7=7]="ISO8859_7",E[E.ISO8859_8=8]="ISO8859_8",E[E.ISO8859_9=9]="ISO8859_9",E[E.ISO8859_10=10]="ISO8859_10",E[E.ISO8859_11=11]="ISO8859_11",E[E.ISO8859_13=12]="ISO8859_13",E[E.ISO8859_14=13]="ISO8859_14",E[E.ISO8859_15=14]="ISO8859_15",E[E.ISO8859_16=15]="ISO8859_16",E[E.SJIS=16]="SJIS",E[E.Cp1250=17]="Cp1250",E[E.Cp1251=18]="Cp1251",E[E.Cp1252=19]="Cp1252",E[E.Cp1256=20]="Cp1256",E[E.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",E[E.UTF8=22]="UTF8",E[E.ASCII=23]="ASCII",E[E.Big5=24]="Big5",E[E.GB18030=25]="GB18030",E[E.EUC_KR=26]="EUC_KR"})(te||(te={}));class G{constructor(t,r,s,...o){this.valueIdentifier=t,this.name=s,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,G.VALUE_IDENTIFIER_TO_ECI.set(t,this),G.NAME_TO_ECI.set(s,this);const l=this.values;for(let u=0,f=l.length;u!==f;u++){const h=l[u];G.VALUES_TO_ECI.set(h,this)}for(const u of o)G.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new F("incorect value");const r=G.VALUES_TO_ECI.get(t);if(r===void 0)throw new F("incorect value");return r}static getCharacterSetECIByName(t){const r=G.NAME_TO_ECI.get(t);if(r===void 0)throw new F("incorect value");return r}equals(t){if(!(t instanceof G))return!1;const r=t;return this.getName()===r.getName()}}G.VALUE_IDENTIFIER_TO_ECI=new Map,G.VALUES_TO_ECI=new Map,G.NAME_TO_ECI=new Map,G.Cp437=new G(te.Cp437,Int32Array.from([0,2]),"Cp437"),G.ISO8859_1=new G(te.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),G.ISO8859_2=new G(te.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),G.ISO8859_3=new G(te.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),G.ISO8859_4=new G(te.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),G.ISO8859_5=new G(te.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),G.ISO8859_6=new G(te.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),G.ISO8859_7=new G(te.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),G.ISO8859_8=new G(te.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),G.ISO8859_9=new G(te.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),G.ISO8859_10=new G(te.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),G.ISO8859_11=new G(te.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),G.ISO8859_13=new G(te.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),G.ISO8859_14=new G(te.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),G.ISO8859_15=new G(te.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),G.ISO8859_16=new G(te.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),G.SJIS=new G(te.SJIS,20,"SJIS","Shift_JIS"),G.Cp1250=new G(te.Cp1250,21,"Cp1250","windows-1250"),G.Cp1251=new G(te.Cp1251,22,"Cp1251","windows-1251"),G.Cp1252=new G(te.Cp1252,23,"Cp1252","windows-1252"),G.Cp1256=new G(te.Cp1256,24,"Cp1256","windows-1256"),G.UnicodeBigUnmarked=new G(te.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),G.UTF8=new G(te.UTF8,26,"UTF8","UTF-8"),G.ASCII=new G(te.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),G.Big5=new G(te.Big5,28,"Big5"),G.GB18030=new G(te.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),G.EUC_KR=new G(te.EUC_KR,30,"EUC_KR","EUC-KR");class me extends m{}me.kind="UnsupportedOperationException";class Pe{static decode(t,r){const s=this.encodingName(r);return this.customDecoder?this.customDecoder(t,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(t,s):new TextDecoder(s).decode(t)}static shouldDecodeOnFallback(t){return!Pe.isBrowser()&&t==="ISO-8859-1"}static encode(t,r){const s=this.encodingName(r);return this.customEncoder?this.customEncoder(t,s):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof G?t:G.getCharacterSetECIByName(t)}static decodeFallback(t,r){const s=this.encodingCharacterSet(r);if(Pe.isDecodeFallbackSupported(s)){let o="";for(let l=0,u=t.length;l<u;l++){let f=t[l].toString(16);f.length<2&&(f="0"+f),o+="%"+f}return decodeURIComponent(o)}if(s.equals(G.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new me(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(G.UTF8)||t.equals(G.ISO8859_1)||t.equals(G.ASCII)}static encodeFallback(t){const s=btoa(unescape(encodeURIComponent(t))).split(""),o=[];for(let l=0;l<s.length;l++)o.push(s[l].charCodeAt(0));return new Uint8Array(o)}}class ue{static castAsNonUtf8Char(t,r=null){const s=r?r.getName():this.ISO88591;return Pe.decode(new Uint8Array([t]),s)}static guessEncoding(t,r){if(r!=null&&r.get(q.CHARACTER_SET)!==void 0)return r.get(q.CHARACTER_SET).toString();const s=t.length;let o=!0,l=!0,u=!0,f=0,h=0,g=0,p=0,C=0,A=0,N=0,O=0,b=0,B=0,H=0;const J=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let $=0;$<s&&(o||l||u);$++){const K=t[$]&255;u&&(f>0?K&128?f--:u=!1:K&128&&(K&64?(f++,K&32?(f++,K&16?(f++,K&8?u=!1:p++):g++):h++):u=!1)),o&&(K>127&&K<160?o=!1:K>159&&(K<192||K===215||K===247)&&H++),l&&(C>0?K<64||K===127||K>252?l=!1:C--:K===128||K===160||K>239?l=!1:K>160&&K<224?(A++,O=0,N++,N>b&&(b=N)):K>127?(C++,N=0,O++,O>B&&(B=O)):(N=0,O=0))}return u&&f>0&&(u=!1),l&&C>0&&(l=!1),u&&(J||h+g+p>0)?ue.UTF8:l&&(ue.ASSUME_SHIFT_JIS||b>=3||B>=3)?ue.SHIFT_JIS:o&&l?b===2&&A===2||H*10>=s?ue.SHIFT_JIS:ue.ISO88591:o?ue.ISO88591:l?ue.SHIFT_JIS:u?ue.UTF8:ue.PLATFORM_DEFAULT_ENCODING}static format(t,...r){let s=-1;function o(u,f,h,g,p,C){if(u==="%%")return"%";if(r[++s]===void 0)return;u=g?parseInt(g.substr(1)):void 0;let A=p?parseInt(p.substr(1)):void 0,N;switch(C){case"s":N=r[s];break;case"c":N=r[s][0];break;case"f":N=parseFloat(r[s]).toFixed(u);break;case"p":N=parseFloat(r[s]).toPrecision(u);break;case"e":N=parseFloat(r[s]).toExponential(u);break;case"x":N=parseInt(r[s]).toString(A||16);break;case"d":N=parseFloat(parseInt(r[s],A||10).toPrecision(u)).toFixed(0);break}N=typeof N=="object"?JSON.stringify(N):(+N).toString(A);let O=parseInt(h),b=h&&h[0]+""=="0"?"0":" ";for(;N.length<O;)N=f!==void 0?N+b:b+N;return N}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,o)}static getBytes(t,r){return Pe.encode(t,r)}static getCharCode(t,r=0){return t.charCodeAt(r)}static getCharAt(t){return String.fromCharCode(t)}}ue.SHIFT_JIS=G.SJIS.getName(),ue.GB2312="GB2312",ue.ISO88591=G.ISO8859_1.getName(),ue.EUC_JP="EUC_JP",ue.UTF8=G.UTF8.getName(),ue.PLATFORM_DEFAULT_ENCODING=ue.UTF8,ue.ASSUME_SHIFT_JIS=!1;class ye{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=ue.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,r,s){for(let o=r;r<r+s;o++)this.append(t[o]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)}substring(t,r){return this.value.substring(t,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+r.length)}}class Be{constructor(t,r,s,o){if(this.width=t,this.height=r,this.rowSize=s,this.bits=o,r==null&&(r=t),this.height=r,t<1||r<1)throw new T("Both dimensions must be greater than 0");s==null&&(s=Math.floor((t+31)/32)),this.rowSize=s,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const r=t.length,s=t[0].length,o=new Be(s,r);for(let l=0;l<r;l++){const u=t[l];for(let f=0;f<s;f++)u[f]&&o.set(f,l)}return o}static parseFromString(t,r,s){if(t===null)throw new T("stringRepresentation cannot be null");const o=new Array(t.length);let l=0,u=0,f=-1,h=0,g=0;for(;g<t.length;)if(t.charAt(g)===`
`||t.charAt(g)==="\r"){if(l>u){if(f===-1)f=l-u;else if(l-u!==f)throw new T("row lengths do not match");u=l,h++}g++}else if(t.substring(g,g+r.length)===r)g+=r.length,o[l]=!0,l++;else if(t.substring(g,g+s.length)===s)g+=s.length,o[l]=!1,l++;else throw new T("illegal character encountered: "+t.substring(g));if(l>u){if(f===-1)f=l-u;else if(l-u!==f)throw new T("row lengths do not match");h++}const p=new Be(f,h);for(let C=0;C<l;C++)o[C]&&p.set(Math.floor(C%f),Math.floor(C/f));return p}get(t,r){const s=r*this.rowSize+Math.floor(t/32);return(this.bits[s]>>>(t&31)&1)!==0}set(t,r){const s=r*this.rowSize+Math.floor(t/32);this.bits[s]|=1<<(t&31)&4294967295}unset(t,r){const s=r*this.rowSize+Math.floor(t/32);this.bits[s]&=~(1<<(t&31)&4294967295)}flip(t,r){const s=r*this.rowSize+Math.floor(t/32);this.bits[s]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new T("input matrix dimensions do not match");const r=new j(Math.floor(this.width/32)+1),s=this.rowSize,o=this.bits;for(let l=0,u=this.height;l<u;l++){const f=l*s,h=t.getRow(l,r).getBitArray();for(let g=0;g<s;g++)o[f+g]^=h[g]}}clear(){const t=this.bits,r=t.length;for(let s=0;s<r;s++)t[s]=0}setRegion(t,r,s,o){if(r<0||t<0)throw new T("Left and top must be nonnegative");if(o<1||s<1)throw new T("Height and width must be at least 1");const l=t+s,u=r+o;if(u>this.height||l>this.width)throw new T("The region must fit inside the matrix");const f=this.rowSize,h=this.bits;for(let g=r;g<u;g++){const p=g*f;for(let C=t;C<l;C++)h[p+Math.floor(C/32)]|=1<<(C&31)&4294967295}}getRow(t,r){r==null||r.getSize()<this.width?r=new j(this.width):r.clear();const s=this.rowSize,o=this.bits,l=t*s;for(let u=0;u<s;u++)r.setBulk(u*32,o[l+u]);return r}setRow(t,r){P.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),r=this.getHeight();let s=new j(t),o=new j(t);for(let l=0,u=Math.floor((r+1)/2);l<u;l++)s=this.getRow(l,s),o=this.getRow(r-1-l,o),s.reverse(),o.reverse(),this.setRow(l,o),this.setRow(r-1-l,s)}getEnclosingRectangle(){const t=this.width,r=this.height,s=this.rowSize,o=this.bits;let l=t,u=r,f=-1,h=-1;for(let g=0;g<r;g++)for(let p=0;p<s;p++){const C=o[g*s+p];if(C!==0){if(g<u&&(u=g),g>h&&(h=g),p*32<l){let A=0;for(;!(C<<31-A&4294967295);)A++;p*32+A<l&&(l=p*32+A)}if(p*32+31>f){let A=31;for(;!(C>>>A);)A--;p*32+A>f&&(f=p*32+A)}}}return f<l||h<u?null:Int32Array.from([l,u,f-l+1,h-u+1])}getTopLeftOnBit(){const t=this.rowSize,r=this.bits;let s=0;for(;s<r.length&&r[s]===0;)s++;if(s===r.length)return null;const o=s/t;let l=s%t*32;const u=r[s];let f=0;for(;!(u<<31-f&4294967295);)f++;return l+=f,Int32Array.from([l,o])}getBottomRightOnBit(){const t=this.rowSize,r=this.bits;let s=r.length-1;for(;s>=0&&r[s]===0;)s--;if(s<0)return null;const o=Math.floor(s/t);let l=Math.floor(s%t)*32;const u=r[s];let f=31;for(;!(u>>>f);)f--;return l+=f,Int32Array.from([l,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof Be))return!1;const r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&_.equals(this.bits,r.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+_.hashCode(this.bits),t}toString(t="X ",r="  ",s=`
`){return this.buildToString(t,r,s)}buildToString(t,r,s){let o=new ye;for(let l=0,u=this.height;l<u;l++){for(let f=0,h=this.width;f<h;f++)o.append(this.get(f,l)?t:r);o.append(s)}return o.toString()}clone(){return new Be(this.width,this.height,this.rowSize,this.bits.slice())}}class W extends m{static getNotFoundInstance(){return new W}}W.kind="NotFoundException";class Re extends k{constructor(t){super(t),this.luminances=Re.EMPTY,this.buckets=new Int32Array(Re.LUMINANCE_BUCKETS)}getBlackRow(t,r){const s=this.getLuminanceSource(),o=s.getWidth();r==null||r.getSize()<o?r=new j(o):r.clear(),this.initArrays(o);const l=s.getRow(t,this.luminances),u=this.buckets;for(let h=0;h<o;h++)u[(l[h]&255)>>Re.LUMINANCE_SHIFT]++;const f=Re.estimateBlackPoint(u);if(o<3)for(let h=0;h<o;h++)(l[h]&255)<f&&r.set(h);else{let h=l[0]&255,g=l[1]&255;for(let p=1;p<o-1;p++){const C=l[p+1]&255;(g*4-h-C)/2<f&&r.set(p),h=g,g=C}}return r}getBlackMatrix(){const t=this.getLuminanceSource(),r=t.getWidth(),s=t.getHeight(),o=new Be(r,s);this.initArrays(r);const l=this.buckets;for(let h=1;h<5;h++){const g=Math.floor(s*h/5),p=t.getRow(g,this.luminances),C=Math.floor(r*4/5);for(let A=Math.floor(r/5);A<C;A++){const N=p[A]&255;l[N>>Re.LUMINANCE_SHIFT]++}}const u=Re.estimateBlackPoint(l),f=t.getMatrix();for(let h=0;h<s;h++){const g=h*r;for(let p=0;p<r;p++)(f[g+p]&255)<u&&o.set(p,h)}return o}createBinarizer(t){return new Re(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const r=this.buckets;for(let s=0;s<Re.LUMINANCE_BUCKETS;s++)r[s]=0}static estimateBlackPoint(t){const r=t.length;let s=0,o=0,l=0;for(let p=0;p<r;p++)t[p]>l&&(o=p,l=t[p]),t[p]>s&&(s=t[p]);let u=0,f=0;for(let p=0;p<r;p++){const C=p-o,A=t[p]*C*C;A>f&&(u=p,f=A)}if(o>u){const p=o;o=u,u=p}if(u-o<=r/16)throw new W;let h=u-1,g=-1;for(let p=u-1;p>o;p--){const C=p-o,A=C*C*(u-p)*(s-t[p]);A>g&&(h=p,g=A)}return h<<Re.LUMINANCE_SHIFT}}Re.LUMINANCE_BITS=5,Re.LUMINANCE_SHIFT=8-Re.LUMINANCE_BITS,Re.LUMINANCE_BUCKETS=1<<Re.LUMINANCE_BITS,Re.EMPTY=Uint8ClampedArray.from([0]);class xe extends Re{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),r=t.getWidth(),s=t.getHeight();if(r>=xe.MINIMUM_DIMENSION&&s>=xe.MINIMUM_DIMENSION){const o=t.getMatrix();let l=r>>xe.BLOCK_SIZE_POWER;r&xe.BLOCK_SIZE_MASK&&l++;let u=s>>xe.BLOCK_SIZE_POWER;s&xe.BLOCK_SIZE_MASK&&u++;const f=xe.calculateBlackPoints(o,l,u,r,s),h=new Be(r,s);xe.calculateThresholdForBlock(o,l,u,r,s,f,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new xe(t)}static calculateThresholdForBlock(t,r,s,o,l,u,f){const h=l-xe.BLOCK_SIZE,g=o-xe.BLOCK_SIZE;for(let p=0;p<s;p++){let C=p<<xe.BLOCK_SIZE_POWER;C>h&&(C=h);const A=xe.cap(p,2,s-3);for(let N=0;N<r;N++){let O=N<<xe.BLOCK_SIZE_POWER;O>g&&(O=g);const b=xe.cap(N,2,r-3);let B=0;for(let J=-2;J<=2;J++){const $=u[A+J];B+=$[b-2]+$[b-1]+$[b]+$[b+1]+$[b+2]}const H=B/25;xe.thresholdBlock(t,O,C,H,o,f)}}}static cap(t,r,s){return t<r?r:t>s?s:t}static thresholdBlock(t,r,s,o,l,u){for(let f=0,h=s*l+r;f<xe.BLOCK_SIZE;f++,h+=l)for(let g=0;g<xe.BLOCK_SIZE;g++)(t[h+g]&255)<=o&&u.set(r+g,s+f)}static calculateBlackPoints(t,r,s,o,l){const u=l-xe.BLOCK_SIZE,f=o-xe.BLOCK_SIZE,h=new Array(s);for(let g=0;g<s;g++){h[g]=new Int32Array(r);let p=g<<xe.BLOCK_SIZE_POWER;p>u&&(p=u);for(let C=0;C<r;C++){let A=C<<xe.BLOCK_SIZE_POWER;A>f&&(A=f);let N=0,O=255,b=0;for(let H=0,J=p*o+A;H<xe.BLOCK_SIZE;H++,J+=o){for(let $=0;$<xe.BLOCK_SIZE;$++){const K=t[J+$]&255;N+=K,K<O&&(O=K),K>b&&(b=K)}if(b-O>xe.MIN_DYNAMIC_RANGE)for(H++,J+=o;H<xe.BLOCK_SIZE;H++,J+=o)for(let $=0;$<xe.BLOCK_SIZE;$++)N+=t[J+$]&255}let B=N>>xe.BLOCK_SIZE_POWER*2;if(b-O<=xe.MIN_DYNAMIC_RANGE&&(B=O/2,g>0&&C>0)){const H=(h[g-1][C]+2*h[g][C-1]+h[g-1][C-1])/4;O<H&&(B=H)}h[g][C]=B}}return h}}xe.BLOCK_SIZE_POWER=3,xe.BLOCK_SIZE=1<<xe.BLOCK_SIZE_POWER,xe.BLOCK_SIZE_MASK=xe.BLOCK_SIZE-1,xe.MINIMUM_DIMENSION=xe.BLOCK_SIZE*5,xe.MIN_DYNAMIC_RANGE=24;class re{constructor(t,r){this.width=t,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,r,s,o){throw new me("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new me("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new me("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let r=new ye;for(let s=0;s<this.height;s++){const o=this.getRow(s,t);for(let l=0;l<this.width;l++){const u=o[l]&255;let f;u<64?f="#":u<128?f="+":u<192?f=".":f=" ",r.append(f)}r.append(`
`)}return r.toString()}}class ce extends re{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,r){const s=this.delegate.getRow(t,r),o=this.getWidth();for(let l=0;l<o;l++)s[l]=255-(s[l]&255);return s}getMatrix(){const t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(r);for(let o=0;o<r;o++)s[o]=255-(t[o]&255);return s}isCropSupported(){return this.delegate.isCropSupported()}crop(t,r,s,o){return new ce(this.delegate.crop(t,r,s,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ce(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ce(this.delegate.rotateCounterClockwise45())}}class he extends re{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=he.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const r=t.getContext("2d").getImageData(0,0,t.width,t.height);return he.toGrayscaleBuffer(r.data,t.width,t.height)}static toGrayscaleBuffer(t,r,s){const o=new Uint8ClampedArray(r*s);for(let l=0,u=0,f=t.length;l<f;l+=4,u++){let h;if(t[l+3]===0)h=255;else{const p=t[l],C=t[l+1],A=t[l+2];h=306*p+601*C+117*A+512>>10}o[u]=h}return o}getRow(t,r){if(t<0||t>=this.getHeight())throw new T("Requested row is outside the image: "+t);const s=this.getWidth(),o=t*s;return r===null?r=this.buffer.slice(o,o+s):(r.length<s&&(r=new Uint8ClampedArray(s)),r.set(this.buffer.slice(o,o+s))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,r,s,o){return super.crop(t,r,s,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const r=this.getTempCanvasElement(),s=r.getContext("2d"),o=t*he.DEGREE_TO_RADIANS,l=this.canvas.width,u=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(o))*l+Math.abs(Math.sin(o))*u),h=Math.ceil(Math.abs(Math.sin(o))*l+Math.abs(Math.cos(o))*u);return r.width=f,r.height=h,s.translate(f/2,h/2),s.rotate(o),s.drawImage(this.canvas,l/-2,u/-2),this.buffer=he.makeBufferFromCanvasImageData(r),this}invert(){return new ce(this)}}he.DEGREE_TO_RADIANS=Math.PI/180;class Te{constructor(t,r,s){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=s||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ee=(globalThis||cs||self||window||void 0)&&(globalThis||cs||self||window||void 0).__awaiter||function(E,t,r,s){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function f(p){try{g(s.next(p))}catch(C){u(C)}}function h(p){try{g(s.throw(p))}catch(C){u(C)}}function g(p){p.done?l(p.value):o(p.value).then(f,h)}g((s=s.apply(E,t||[])).next())})};class St{constructor(t,r=500,s){this.reader=t,this.timeBetweenScansMillis=r,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return Ee(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const s of t){const o=s.kind==="video"?"videoinput":s.kind;if(o!=="videoinput")continue;const l=s.deviceId||s.id,u=s.label||`Video device ${r.length+1}`,f=s.groupId,h={deviceId:l,label:u,kind:o,groupId:f};r.push(h)}return r})}getVideoInputDevices(){return Ee(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new Te(r.deviceId,r.label))})}findDeviceById(t){return Ee(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(s=>s.deviceId===t):null})}decodeFromInputVideoDevice(t,r){return Ee(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,r)})}decodeOnceFromVideoDevice(t,r){return Ee(this,void 0,void 0,function*(){this.reset();let s;t?s={deviceId:{exact:t}}:s={facingMode:"environment"};const o={video:s};return yield this.decodeOnceFromConstraints(o,r)})}decodeOnceFromConstraints(t,r){return Ee(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(s,r)})}decodeOnceFromStream(t,r){return Ee(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(t,r);return yield this.decodeOnce(s)})}decodeFromInputVideoDeviceContinuously(t,r,s){return Ee(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,r,s)})}decodeFromVideoDevice(t,r,s){return Ee(this,void 0,void 0,function*(){let o;t?o={deviceId:{exact:t}}:o={facingMode:"environment"};const l={video:o};return yield this.decodeFromConstraints(l,r,s)})}decodeFromConstraints(t,r,s){return Ee(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(o,r,s)})}decodeFromStream(t,r,s){return Ee(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(t,r);return yield this.decodeContinuously(o,s)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,r){return Ee(this,void 0,void 0,function*(){const s=this.prepareVideoElement(r);return this.addVideoSource(s,t),this.videoElement=s,this.stream=t,yield this.playVideoOnLoadAsync(s),s})}playVideoOnLoadAsync(t){return new Promise((r,s)=>this.playVideoOnLoad(t,()=>r()))}playVideoOnLoad(t,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return Ee(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,r){const s=document.getElementById(t);if(!s)throw new v(`element with id '${t}' not found`);if(s.nodeName.toLowerCase()!==r.toLowerCase())throw new v(`element with id '${t}' must be an ${r} element`);return s}decodeFromImage(t,r){if(!t&&!r)throw new v("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)}decodeFromVideo(t,r){if(!t&&!r)throw new v("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,r,s){if(t===void 0&&r===void 0)throw new v("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,s):this.decodeFromVideoElementContinuously(t,s)}decodeFromImageElement(t){if(!t)throw new v("An image element must be provided.");this.reset();const r=this.prepareImageElement(t);this.imageElement=r;let s;return this.isImageLoaded(r)?s=this.decodeOnce(r,!1,!0):s=this._decodeOnLoadImage(r),s}decodeFromVideoElement(t){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(t,r){const s=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(s,r)}_decodeFromVideoElementSetup(t){if(!t)throw new v("A video element must be provided.");this.reset();const r=this.prepareVideoElement(t);return this.videoElement=r,r}decodeFromImageUrl(t){if(!t)throw new v("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const s=this._decodeOnLoadImage(r);return r.src=t,s}decodeFromVideoUrl(t){if(!t)throw new v("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),s=this.decodeFromVideoElement(r);return r.src=t,s}decodeFromVideoUrlContinuously(t,r){if(!t)throw new v("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(s,r);return s.src=t,o}_decodeOnLoadImage(t){return new Promise((r,s)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(r,s),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return Ee(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,r){return Ee(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,r)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r}prepareVideoElement(t){let r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(t,r=!0,s=!0){this._stopAsyncDecode=!1;const o=(l,u)=>{if(this._stopAsyncDecode){u(new W("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(t);l(f)}catch(f){const h=r&&f instanceof W,p=(f instanceof U||f instanceof F)&&s;if(h||p)return setTimeout(o,this._timeBetweenDecodingAttempts,l,u);u(f)}};return new Promise((l,u)=>o(l,u))}decodeContinuously(t,r){this._stopContinuousDecode=!1;const s=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(t);r(o,null),setTimeout(s,this.timeBetweenScansMillis)}catch(o){r(null,o);const l=o instanceof U||o instanceof F,u=o instanceof W;(l||u)&&setTimeout(s,this._timeBetweenDecodingAttempts)}};s()}decode(t){const r=this.createBinaryBitmap(t);return this.decodeBitmap(r)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,r,s){r||(r={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),s||(s=this.captureCanvasContext),s.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(t,r,s=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),s||(s=this.captureCanvasContext),s.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const r=this.getCaptureCanvas(t),s=new he(r),o=new xe(s);return new M(o)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const s=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=s}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let s,o;return typeof t<"u"&&(t instanceof HTMLVideoElement?(s=t.videoWidth,o=t.videoHeight):t instanceof HTMLImageElement&&(s=t.naturalWidth||t.width,o=t.naturalHeight||t.height)),r.style.width=s+"px",r.style.height=o+"px",r.width=s,r.height=o,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class be{constructor(t,r,s=r==null?0:8*r.length,o,l,u=P.currentTimeMillis()){this.text=t,this.rawBytes=r,this.numBits=s,this.resultPoints=o,this.format=l,this.timestamp=u,this.text=t,this.rawBytes=r,s==null?this.numBits=r==null?0:8*r.length:this.numBits=s,this.resultPoints=o,this.format=l,this.resultMetadata=null,u==null?this.timestamp=P.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){const s=new Array(r.length+t.length);P.arraycopy(r,0,s,0,r.length),P.arraycopy(t,0,s,r.length,t.length),this.resultPoints=s}}getTimestamp(){return this.timestamp}toString(){return this.text}}var xn;(function(E){E[E.AZTEC=0]="AZTEC",E[E.CODABAR=1]="CODABAR",E[E.CODE_39=2]="CODE_39",E[E.CODE_93=3]="CODE_93",E[E.CODE_128=4]="CODE_128",E[E.DATA_MATRIX=5]="DATA_MATRIX",E[E.EAN_8=6]="EAN_8",E[E.EAN_13=7]="EAN_13",E[E.ITF=8]="ITF",E[E.MAXICODE=9]="MAXICODE",E[E.PDF_417=10]="PDF_417",E[E.QR_CODE=11]="QR_CODE",E[E.RSS_14=12]="RSS_14",E[E.RSS_EXPANDED=13]="RSS_EXPANDED",E[E.UPC_A=14]="UPC_A",E[E.UPC_E=15]="UPC_E",E[E.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(xn||(xn={}));var ae=xn,Un;(function(E){E[E.OTHER=0]="OTHER",E[E.ORIENTATION=1]="ORIENTATION",E[E.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",E[E.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",E[E.ISSUE_NUMBER=4]="ISSUE_NUMBER",E[E.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",E[E.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",E[E.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",E[E.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",E[E.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",E[E.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Un||(Un={}));var gt=Un;class Fr{constructor(t,r,s,o,l=-1,u=-1){this.rawBytes=t,this.text=r,this.byteSegments=s,this.ecLevel=o,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=u,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ur{exp(t){return this.expTable[t]}log(t){if(t===0)throw new T;return this.logTable[t]}static addOrSubtract(t,r){return t^r}}class kt{constructor(t,r){if(r.length===0)throw new T;this.field=t;const s=r.length;if(s>1&&r[0]===0){let o=1;for(;o<s&&r[o]===0;)o++;o===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-o),P.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const r=this.coefficients;let s;if(t===1){s=0;for(let u=0,f=r.length;u!==f;u++){const h=r[u];s=Ur.addOrSubtract(s,h)}return s}s=r[0];const o=r.length,l=this.field;for(let u=1;u<o;u++)s=Ur.addOrSubtract(l.multiply(t,s),r[u]);return s}addOrSubtract(t){if(!this.field.equals(t.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,s=t.coefficients;if(r.length>s.length){const u=r;r=s,s=u}let o=new Int32Array(s.length);const l=s.length-r.length;P.arraycopy(s,0,o,0,l);for(let u=l;u<s.length;u++)o[u]=Ur.addOrSubtract(r[u-l],s[u]);return new kt(this.field,o)}multiply(t){if(!this.field.equals(t.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const r=this.coefficients,s=r.length,o=t.coefficients,l=o.length,u=new Int32Array(s+l-1),f=this.field;for(let h=0;h<s;h++){const g=r[h];for(let p=0;p<l;p++)u[h+p]=Ur.addOrSubtract(u[h+p],f.multiply(g,o[p]))}return new kt(f,u)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const r=this.coefficients.length,s=this.field,o=new Int32Array(r),l=this.coefficients;for(let u=0;u<r;u++)o[u]=s.multiply(l[u],t);return new kt(s,o)}multiplyByMonomial(t,r){if(t<0)throw new T;if(r===0)return this.field.getZero();const s=this.coefficients,o=s.length,l=new Int32Array(o+t),u=this.field;for(let f=0;f<o;f++)l[f]=u.multiply(s[f],r);return new kt(u,l)}divide(t){if(!this.field.equals(t.field))throw new T("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new T("Divide by 0");const r=this.field;let s=r.getZero(),o=this;const l=t.getCoefficient(t.getDegree()),u=r.inverse(l);for(;o.getDegree()>=t.getDegree()&&!o.isZero();){const f=o.getDegree()-t.getDegree(),h=r.multiply(o.getCoefficient(o.getDegree()),u),g=t.multiplyByMonomial(f,h),p=r.buildMonomial(f,h);s=s.addOrSubtract(p),o=o.addOrSubtract(g)}return[s,o]}toString(){let t="";for(let r=this.getDegree();r>=0;r--){let s=this.getCoefficient(r);if(s!==0){if(s<0?(t+=" - ",s=-s):t.length>0&&(t+=" + "),r===0||s!==1){const o=this.field.log(s);o===0?t+="1":o===1?t+="a":(t+="a^",t+=o)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t}}class jr extends m{}jr.kind="ArithmeticException";class De extends Ur{constructor(t,r,s){super(),this.primitive=t,this.size=r,this.generatorBase=s;const o=new Int32Array(r);let l=1;for(let f=0;f<r;f++)o[f]=l,l*=2,l>=r&&(l^=t,l&=r-1);this.expTable=o;const u=new Int32Array(r);for(let f=0;f<r-1;f++)u[o[f]]=f;this.logTable=u,this.zero=new kt(this,Int32Array.from([0])),this.one=new kt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new T;if(r===0)return this.zero;const s=new Int32Array(t+1);return s[0]=r,new kt(this,s)}inverse(t){if(t===0)throw new jr;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+R.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}De.AZTEC_DATA_12=new De(4201,4096,1),De.AZTEC_DATA_10=new De(1033,1024,1),De.AZTEC_DATA_6=new De(67,64,1),De.AZTEC_PARAM=new De(19,16,1),De.QR_CODE_FIELD_256=new De(285,256,0),De.DATA_MATRIX_FIELD_256=new De(301,256,1),De.AZTEC_DATA_8=De.DATA_MATRIX_FIELD_256,De.MAXICODE_FIELD_64=De.AZTEC_DATA_6;class ur extends m{}ur.kind="ReedSolomonException";class He extends m{}He.kind="IllegalStateException";class cr{constructor(t){this.field=t}decode(t,r){const s=this.field,o=new kt(s,t),l=new Int32Array(r);let u=!0;for(let N=0;N<r;N++){const O=o.evaluateAt(s.exp(N+s.getGeneratorBase()));l[l.length-1-N]=O,O!==0&&(u=!1)}if(u)return;const f=new kt(s,l),h=this.runEuclideanAlgorithm(s.buildMonomial(r,1),f,r),g=h[0],p=h[1],C=this.findErrorLocations(g),A=this.findErrorMagnitudes(p,C);for(let N=0;N<C.length;N++){const O=t.length-1-s.log(C[N]);if(O<0)throw new ur("Bad error location");t[O]=De.addOrSubtract(t[O],A[N])}}runEuclideanAlgorithm(t,r,s){if(t.getDegree()<r.getDegree()){const N=t;t=r,r=N}const o=this.field;let l=t,u=r,f=o.getZero(),h=o.getOne();for(;u.getDegree()>=(s/2|0);){let N=l,O=f;if(l=u,f=h,l.isZero())throw new ur("r_{i-1} was zero");u=N;let b=o.getZero();const B=l.getCoefficient(l.getDegree()),H=o.inverse(B);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){const J=u.getDegree()-l.getDegree(),$=o.multiply(u.getCoefficient(u.getDegree()),H);b=b.addOrSubtract(o.buildMonomial(J,$)),u=u.addOrSubtract(l.multiplyByMonomial(J,$))}if(h=b.multiply(f).addOrSubtract(O),u.getDegree()>=l.getDegree())throw new He("Division algorithm failed to reduce polynomial?")}const g=h.getCoefficient(0);if(g===0)throw new ur("sigmaTilde(0) was zero");const p=o.inverse(g),C=h.multiplyScalar(p),A=u.multiplyScalar(p);return[C,A]}findErrorLocations(t){const r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);const s=new Int32Array(r);let o=0;const l=this.field;for(let u=1;u<l.getSize()&&o<r;u++)t.evaluateAt(u)===0&&(s[o]=l.inverse(u),o++);if(o!==r)throw new ur("Error locator degree does not match number of roots");return s}findErrorMagnitudes(t,r){const s=r.length,o=new Int32Array(s),l=this.field;for(let u=0;u<s;u++){const f=l.inverse(r[u]);let h=1;for(let g=0;g<s;g++)if(u!==g){const p=l.multiply(r[g],f),C=p&1?p&-2:p|1;h=l.multiply(h,C)}o[u]=l.multiply(t.evaluateAt(f),l.inverse(h)),l.getGeneratorBase()!==0&&(o[u]=l.multiply(o[u],f))}return o}}var mt;(function(E){E[E.UPPER=0]="UPPER",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.DIGIT=3]="DIGIT",E[E.PUNCT=4]="PUNCT",E[E.BINARY=5]="BINARY"})(mt||(mt={}));class je{decode(t){this.ddata=t;let r=t.getBits(),s=this.extractBits(r),o=this.correctBits(s),l=je.convertBoolArrayToByteArray(o),u=je.getEncodedData(o),f=new Fr(l,u,null,null);return f.setNumBits(o.length),f}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let r=t.length,s=mt.UPPER,o=mt.UPPER,l="",u=0;for(;u<r;)if(o===mt.BINARY){if(r-u<5)break;let f=je.readCode(t,u,5);if(u+=5,f===0){if(r-u<11)break;f=je.readCode(t,u,11)+31,u+=11}for(let h=0;h<f;h++){if(r-u<8){u=r;break}const g=je.readCode(t,u,8);l+=ue.castAsNonUtf8Char(g),u+=8}o=s}else{let f=o===mt.DIGIT?4:5;if(r-u<f)break;let h=je.readCode(t,u,f);u+=f;let g=je.getCharacter(o,h);g.startsWith("CTRL_")?(s=o,o=je.getTable(g.charAt(5)),g.charAt(6)==="L"&&(s=o)):(l+=g,o=s)}return l}static getTable(t){switch(t){case"L":return mt.LOWER;case"P":return mt.PUNCT;case"M":return mt.MIXED;case"D":return mt.DIGIT;case"B":return mt.BINARY;case"U":default:return mt.UPPER}}static getCharacter(t,r){switch(t){case mt.UPPER:return je.UPPER_TABLE[r];case mt.LOWER:return je.LOWER_TABLE[r];case mt.MIXED:return je.MIXED_TABLE[r];case mt.PUNCT:return je.PUNCT_TABLE[r];case mt.DIGIT:return je.DIGIT_TABLE[r];default:throw new He("Bad table")}}correctBits(t){let r,s;this.ddata.getNbLayers()<=2?(s=6,r=De.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(s=8,r=De.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(s=10,r=De.AZTEC_DATA_10):(s=12,r=De.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),l=t.length/s;if(l<o)throw new F;let u=t.length%s,f=new Int32Array(l);for(let A=0;A<l;A++,u+=s)f[A]=je.readCode(t,u,s);try{new cr(r).decode(f,l-o)}catch(A){throw new F(A)}let h=(1<<s)-1,g=0;for(let A=0;A<o;A++){let N=f[A];if(N===0||N===h)throw new F;(N===1||N===h-1)&&g++}let p=new Array(o*s-g),C=0;for(let A=0;A<o;A++){let N=f[A];if(N===1||N===h-1)p.fill(N>1,C,C+s-1),C+=s-1;else for(let O=s-1;O>=0;--O)p[C++]=(N&1<<O)!==0}return p}extractBits(t){let r=this.ddata.isCompact(),s=this.ddata.getNbLayers(),o=(r?11:14)+s*4,l=new Int32Array(o),u=new Array(this.totalBitsInLayer(s,r));if(r)for(let f=0;f<l.length;f++)l[f]=f;else{let f=o+1+2*R.truncDivision(R.truncDivision(o,2)-1,15),h=o/2,g=R.truncDivision(f,2);for(let p=0;p<h;p++){let C=p+R.truncDivision(p,15);l[h-p-1]=g-C-1,l[h+p]=g+C+1}}for(let f=0,h=0;f<s;f++){let g=(s-f)*4+(r?9:12),p=f*2,C=o-1-p;for(let A=0;A<g;A++){let N=A*2;for(let O=0;O<2;O++)u[h+N+O]=t.get(l[p+O],l[p+A]),u[h+2*g+N+O]=t.get(l[p+A],l[C-O]),u[h+4*g+N+O]=t.get(l[C-O],l[C-A]),u[h+6*g+N+O]=t.get(l[C-A],l[p+O])}h+=g*8}return u}static readCode(t,r,s){let o=0;for(let l=r;l<r+s;l++)o<<=1,t[l]&&(o|=1);return o}static readByte(t,r){let s=t.length-r;return s>=8?je.readCode(t,r,8):je.readCode(t,r,s)<<8-s}static convertBoolArrayToByteArray(t){let r=new Uint8Array((t.length+7)/8);for(let s=0;s<r.length;s++)r[s]=je.readByte(t,8*s);return r}totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}je.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],je.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],je.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],je.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],je.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Y{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,r,s,o){const l=t-s,u=r-o;return Math.sqrt(l*l+u*u)}static sum(t){let r=0;for(let s=0,o=t.length;s!==o;s++){const l=t[s];r+=l}return r}}class we{static floatToIntBits(t){return t}}we.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ne{constructor(t,r){this.x=t,this.y=r}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof ne){const r=t;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*we.floatToIntBits(this.x)+we.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const r=this.distance(t[0],t[1]),s=this.distance(t[1],t[2]),o=this.distance(t[0],t[2]);let l,u,f;if(s>=r&&s>=o?(u=t[0],l=t[1],f=t[2]):o>=s&&o>=r?(u=t[1],l=t[0],f=t[2]):(u=t[2],l=t[0],f=t[1]),this.crossProductZ(l,u,f)<0){const h=l;l=f,f=h}t[0]=l,t[1]=u,t[2]=f}static distance(t,r){return Y.distance(t.x,t.y,r.x,r.y)}static crossProductZ(t,r,s){const o=r.x,l=r.y;return(s.x-o)*(t.y-l)-(s.y-l)*(t.x-o)}}class $e{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class pn extends $e{constructor(t,r,s,o,l){super(t,r),this.compact=s,this.nbDatablocks=o,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Nn{constructor(t,r,s,o){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=Nn.INIT_SIZE),s==null&&(s=t.getWidth()/2|0),o==null&&(o=t.getHeight()/2|0);const l=r/2|0;if(this.leftInit=s-l,this.rightInit=s+l,this.upInit=o-l,this.downInit=o+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new W}detect(){let t=this.leftInit,r=this.rightInit,s=this.upInit,o=this.downInit,l=!1,u=!0,f=!1,h=!1,g=!1,p=!1,C=!1;const A=this.width,N=this.height;for(;u;){u=!1;let O=!0;for(;(O||!h)&&r<A;)O=this.containsBlackPoint(s,o,r,!1),O?(r++,u=!0,h=!0):h||r++;if(r>=A){l=!0;break}let b=!0;for(;(b||!g)&&o<N;)b=this.containsBlackPoint(t,r,o,!0),b?(o++,u=!0,g=!0):g||o++;if(o>=N){l=!0;break}let B=!0;for(;(B||!p)&&t>=0;)B=this.containsBlackPoint(s,o,t,!1),B?(t--,u=!0,p=!0):p||t--;if(t<0){l=!0;break}let H=!0;for(;(H||!C)&&s>=0;)H=this.containsBlackPoint(t,r,s,!0),H?(s--,u=!0,C=!0):C||s--;if(s<0){l=!0;break}u&&(f=!0)}if(!l&&f){const O=r-t;let b=null;for(let $=1;b===null&&$<O;$++)b=this.getBlackPointOnSegment(t,o-$,t+$,o);if(b==null)throw new W;let B=null;for(let $=1;B===null&&$<O;$++)B=this.getBlackPointOnSegment(t,s+$,t+$,s);if(B==null)throw new W;let H=null;for(let $=1;H===null&&$<O;$++)H=this.getBlackPointOnSegment(r,s+$,r-$,s);if(H==null)throw new W;let J=null;for(let $=1;J===null&&$<O;$++)J=this.getBlackPointOnSegment(r,o-$,r-$,o);if(J==null)throw new W;return this.centerEdges(J,b,H,B)}else throw new W}getBlackPointOnSegment(t,r,s,o){const l=Y.round(Y.distance(t,r,s,o)),u=(s-t)/l,f=(o-r)/l,h=this.image;for(let g=0;g<l;g++){const p=Y.round(t+g*u),C=Y.round(r+g*f);if(h.get(p,C))return new ne(p,C)}return null}centerEdges(t,r,s,o){const l=t.getX(),u=t.getY(),f=r.getX(),h=r.getY(),g=s.getX(),p=s.getY(),C=o.getX(),A=o.getY(),N=Nn.CORR;return l<this.width/2?[new ne(C-N,A+N),new ne(f+N,h+N),new ne(g-N,p-N),new ne(l+N,u-N)]:[new ne(C+N,A+N),new ne(f+N,h-N),new ne(g-N,p+N),new ne(l-N,u-N)]}containsBlackPoint(t,r,s,o){const l=this.image;if(o){for(let u=t;u<=r;u++)if(l.get(u,s))return!0}else for(let u=t;u<=r;u++)if(l.get(s,u))return!0;return!1}}Nn.INIT_SIZE=10,Nn.CORR=1;class Wl{static checkAndNudgePoints(t,r){const s=t.getWidth(),o=t.getHeight();let l=!0;for(let u=0;u<r.length&&l;u+=2){const f=Math.floor(r[u]),h=Math.floor(r[u+1]);if(f<-1||f>s||h<-1||h>o)throw new W;l=!1,f===-1?(r[u]=0,l=!0):f===s&&(r[u]=s-1,l=!0),h===-1?(r[u+1]=0,l=!0):h===o&&(r[u+1]=o-1,l=!0)}l=!0;for(let u=r.length-2;u>=0&&l;u-=2){const f=Math.floor(r[u]),h=Math.floor(r[u+1]);if(f<-1||f>s||h<-1||h>o)throw new W;l=!1,f===-1?(r[u]=0,l=!0):f===s&&(r[u]=s-1,l=!0),h===-1?(r[u+1]=0,l=!0):h===o&&(r[u+1]=o-1,l=!0)}}}class _n{constructor(t,r,s,o,l,u,f,h,g){this.a11=t,this.a21=r,this.a31=s,this.a12=o,this.a22=l,this.a32=u,this.a13=f,this.a23=h,this.a33=g}static quadrilateralToQuadrilateral(t,r,s,o,l,u,f,h,g,p,C,A,N,O,b,B){const H=_n.quadrilateralToSquare(t,r,s,o,l,u,f,h);return _n.squareToQuadrilateral(g,p,C,A,N,O,b,B).times(H)}transformPoints(t){const r=t.length,s=this.a11,o=this.a12,l=this.a13,u=this.a21,f=this.a22,h=this.a23,g=this.a31,p=this.a32,C=this.a33;for(let A=0;A<r;A+=2){const N=t[A],O=t[A+1],b=l*N+h*O+C;t[A]=(s*N+u*O+g)/b,t[A+1]=(o*N+f*O+p)/b}}transformPointsWithValues(t,r){const s=this.a11,o=this.a12,l=this.a13,u=this.a21,f=this.a22,h=this.a23,g=this.a31,p=this.a32,C=this.a33,A=t.length;for(let N=0;N<A;N++){const O=t[N],b=r[N],B=l*O+h*b+C;t[N]=(s*O+u*b+g)/B,r[N]=(o*O+f*b+p)/B}}static squareToQuadrilateral(t,r,s,o,l,u,f,h){const g=t-s+l-f,p=r-o+u-h;if(g===0&&p===0)return new _n(s-t,l-s,t,o-r,u-o,r,0,0,1);{const C=s-l,A=f-l,N=o-u,O=h-u,b=C*O-A*N,B=(g*O-A*p)/b,H=(C*p-g*N)/b;return new _n(s-t+B*s,f-t+H*f,t,o-r+B*o,h-r+H*h,r,B,H,1)}}static quadrilateralToSquare(t,r,s,o,l,u,f,h){return _n.squareToQuadrilateral(t,r,s,o,l,u,f,h).buildAdjoint()}buildAdjoint(){return new _n(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new _n(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class Uc extends Wl{sampleGrid(t,r,s,o,l,u,f,h,g,p,C,A,N,O,b,B,H,J,$){const K=_n.quadrilateralToQuadrilateral(o,l,u,f,h,g,p,C,A,N,O,b,B,H,J,$);return this.sampleGridWithTransform(t,r,s,K)}sampleGridWithTransform(t,r,s,o){if(r<=0||s<=0)throw new W;const l=new Be(r,s),u=new Float32Array(2*r);for(let f=0;f<s;f++){const h=u.length,g=f+.5;for(let p=0;p<h;p+=2)u[p]=p/2+.5,u[p+1]=g;o.transformPoints(u),Wl.checkAndNudgePoints(t,u);try{for(let p=0;p<h;p+=2)t.get(Math.floor(u[p]),Math.floor(u[p+1]))&&l.set(p/2,f)}catch{throw new W}}return l}}class fr{static setGridSampler(t){fr.gridSampler=t}static getInstance(){return fr.gridSampler}}fr.gridSampler=new Uc;class zt{constructor(t,r){this.x=t,this.y=r}toResultPoint(){return new ne(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class jc{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let r=this.getMatrixCenter(),s=this.getBullsEyeCorners(r);if(t){let u=s[0];s[0]=s[2],s[2]=u}this.extractParameters(s);let o=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),l=this.getMatrixCornerPoints(s);return new pn(o,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new W;let r=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(s,r);let o=0;for(let u=0;u<4;u++){let f=s[(this.shift+u)%4];this.compact?(o<<=7,o+=f>>1&127):(o<<=10,o+=(f>>2&992)+(f>>1&31))}let l=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(t,r){let s=0;t.forEach((o,l,u)=>{let f=(o>>r-2<<1)+(o&1);s=(s<<3)+f}),s=((s&1)<<11)+(s>>1);for(let o=0;o<4;o++)if(R.bitCount(s^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new W}getCorrectedParameterData(t,r){let s,o;r?(s=7,o=2):(s=10,o=4);let l=s-o,u=new Int32Array(s);for(let h=s-1;h>=0;--h)u[h]=t&15,t>>=4;try{new cr(De.AZTEC_PARAM).decode(u,l)}catch{throw new W}let f=0;for(let h=0;h<o;h++)f=(f<<4)+u[h];return f}getBullsEyeCorners(t){let r=t,s=t,o=t,l=t,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let C=this.getFirstDifferent(r,u,1,-1),A=this.getFirstDifferent(s,u,1,1),N=this.getFirstDifferent(o,u,-1,1),O=this.getFirstDifferent(l,u,-1,-1);if(this.nbCenterLayers>2){let b=this.distancePoint(O,C)*this.nbCenterLayers/(this.distancePoint(l,r)*(this.nbCenterLayers+2));if(b<.75||b>1.25||!this.isWhiteOrBlackRectangle(C,A,N,O))break}r=C,s=A,o=N,l=O,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new W;this.compact=this.nbCenterLayers===5;let f=new ne(r.getX()+.5,r.getY()-.5),h=new ne(s.getX()+.5,s.getY()+.5),g=new ne(o.getX()-.5,o.getY()+.5),p=new ne(l.getX()-.5,l.getY()-.5);return this.expandSquare([f,h,g,p],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,r,s,o;try{let f=new Nn(this.image).detect();t=f[0],r=f[1],s=f[2],o=f[3]}catch{let h=this.image.getWidth()/2,g=this.image.getHeight()/2;t=this.getFirstDifferent(new zt(h+7,g-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new zt(h+7,g+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new zt(h-7,g+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new zt(h-7,g-7),!1,-1,-1).toResultPoint()}let l=Y.round((t.getX()+o.getX()+r.getX()+s.getX())/4),u=Y.round((t.getY()+o.getY()+r.getY()+s.getY())/4);try{let f=new Nn(this.image,15,l,u).detect();t=f[0],r=f[1],s=f[2],o=f[3]}catch{t=this.getFirstDifferent(new zt(l+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new zt(l+7,u+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new zt(l-7,u+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new zt(l-7,u-7),!1,-1,-1).toResultPoint()}return l=Y.round((t.getX()+o.getX()+r.getX()+s.getX())/4),u=Y.round((t.getY()+o.getY()+r.getY()+s.getY())/4),new zt(l,u)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,r,s,o,l){let u=fr.getInstance(),f=this.getDimension(),h=f/2-this.nbCenterLayers,g=f/2+this.nbCenterLayers;return u.sampleGrid(t,f,f,h,h,g,h,g,g,h,g,r.getX(),r.getY(),s.getX(),s.getY(),o.getX(),o.getY(),l.getX(),l.getY())}sampleLine(t,r,s){let o=0,l=this.distanceResultPoint(t,r),u=l/s,f=t.getX(),h=t.getY(),g=u*(r.getX()-t.getX())/l,p=u*(r.getY()-t.getY())/l;for(let C=0;C<s;C++)this.image.get(Y.round(f+C*g),Y.round(h+C*p))&&(o|=1<<s-C-1);return o}isWhiteOrBlackRectangle(t,r,s,o){let l=3;t=new zt(t.getX()-l,t.getY()+l),r=new zt(r.getX()-l,r.getY()-l),s=new zt(s.getX()+l,s.getY()-l),o=new zt(o.getX()+l,o.getY()+l);let u=this.getColor(o,t);if(u===0)return!1;let f=this.getColor(t,r);return f!==u||(f=this.getColor(r,s),f!==u)?!1:(f=this.getColor(s,o),f===u)}getColor(t,r){let s=this.distancePoint(t,r),o=(r.getX()-t.getX())/s,l=(r.getY()-t.getY())/s,u=0,f=t.getX(),h=t.getY(),g=this.image.get(t.getX(),t.getY()),p=Math.ceil(s);for(let A=0;A<p;A++)f+=o,h+=l,this.image.get(Y.round(f),Y.round(h))!==g&&u++;let C=u/s;return C>.1&&C<.9?0:C<=.1===g?1:-1}getFirstDifferent(t,r,s,o){let l=t.getX()+s,u=t.getY()+o;for(;this.isValid(l,u)&&this.image.get(l,u)===r;)l+=s,u+=o;for(l-=s,u-=o;this.isValid(l,u)&&this.image.get(l,u)===r;)l+=s;for(l-=s;this.isValid(l,u)&&this.image.get(l,u)===r;)u+=o;return u-=o,new zt(l,u)}expandSquare(t,r,s){let o=s/(2*r),l=t[0].getX()-t[2].getX(),u=t[0].getY()-t[2].getY(),f=(t[0].getX()+t[2].getX())/2,h=(t[0].getY()+t[2].getY())/2,g=new ne(f+o*l,h+o*u),p=new ne(f-o*l,h-o*u);l=t[1].getX()-t[3].getX(),u=t[1].getY()-t[3].getY(),f=(t[1].getX()+t[3].getX())/2,h=(t[1].getY()+t[3].getY())/2;let C=new ne(f+o*l,h+o*u),A=new ne(f-o*l,h-o*u);return[g,C,p,A]}isValid(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(t){let r=Y.round(t.getX()),s=Y.round(t.getY());return this.isValid(r,s)}distancePoint(t,r){return Y.distance(t.getX(),t.getY(),r.getX(),r.getY())}distanceResultPoint(t,r){return Y.distance(t.getX(),t.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(R.truncDivision(this.nbLayers-4,8)+1)+15}}class so{decode(t,r=null){let s=null,o=new jc(t.getBlackMatrix()),l=null,u=null;try{let p=o.detectMirror(!1);l=p.getPoints(),this.reportFoundResultPoints(r,l),u=new je().decode(p)}catch(p){s=p}if(u==null)try{let p=o.detectMirror(!0);l=p.getPoints(),this.reportFoundResultPoints(r,l),u=new je().decode(p)}catch(p){throw s??p}let f=new be(u.getText(),u.getRawBytes(),u.getNumBits(),l,ae.AZTEC,P.currentTimeMillis()),h=u.getByteSegments();h!=null&&f.putMetadata(gt.BYTE_SEGMENTS,h);let g=u.getECLevel();return g!=null&&f.putMetadata(gt.ERROR_CORRECTION_LEVEL,g),f}reportFoundResultPoints(t,r){if(t!=null){let s=t.get(q.NEED_RESULT_POINT_CALLBACK);s!=null&&r.forEach((o,l,u)=>{s.foundPossibleResultPoint(o)})}}reset(){}}class _h extends St{constructor(t=500){super(new so,t)}}class xt{decode(t,r){try{return this.doDecode(t,r)}catch{if(r&&r.get(q.TRY_HARDER)===!0&&t.isRotateSupported()){const l=t.rotateCounterClockwise(),u=this.doDecode(l,r),f=u.getResultMetadata();let h=270;f!==null&&f.get(gt.ORIENTATION)===!0&&(h=h+f.get(gt.ORIENTATION)%360),u.putMetadata(gt.ORIENTATION,h);const g=u.getResultPoints();if(g!==null){const p=l.getHeight();for(let C=0;C<g.length;C++)g[C]=new ne(p-g[C].getY()-1,g[C].getX())}return u}else throw new W}}reset(){}doDecode(t,r){const s=t.getWidth(),o=t.getHeight();let l=new j(s);const u=r&&r.get(q.TRY_HARDER)===!0,f=Math.max(1,o>>(u?8:5));let h;u?h=o:h=15;const g=Math.trunc(o/2);for(let p=0;p<h;p++){const C=Math.trunc((p+1)/2),A=(p&1)===0,N=g+f*(A?C:-C);if(N<0||N>=o)break;try{l=t.getBlackRow(N,l)}catch{continue}for(let O=0;O<2;O++){if(O===1&&(l.reverse(),r&&r.get(q.NEED_RESULT_POINT_CALLBACK)===!0)){const b=new Map;r.forEach((B,H)=>b.set(H,B)),b.delete(q.NEED_RESULT_POINT_CALLBACK),r=b}try{const b=this.decodeRow(N,l,r);if(O===1){b.putMetadata(gt.ORIENTATION,180);const B=b.getResultPoints();B!==null&&(B[0]=new ne(s-B[0].getX()-1,B[0].getY()),B[1]=new ne(s-B[1].getX()-1,B[1].getY()))}return b}catch{}}}throw new W}static recordPattern(t,r,s){const o=s.length;for(let g=0;g<o;g++)s[g]=0;const l=t.getSize();if(r>=l)throw new W;let u=!t.get(r),f=0,h=r;for(;h<l;){if(t.get(h)!==u)s[f]++;else{if(++f===o)break;s[f]=1,u=!u}h++}if(!(f===o||f===o-1&&h===l))throw new W}static recordPatternInReverse(t,r,s){let o=s.length,l=t.get(r);for(;r>0&&o>=0;)t.get(--r)!==l&&(o--,l=!l);if(o>=0)throw new W;xt.recordPattern(t,r+1,s)}static patternMatchVariance(t,r,s){const o=t.length;let l=0,u=0;for(let g=0;g<o;g++)l+=t[g],u+=r[g];if(l<u)return Number.POSITIVE_INFINITY;const f=l/u;s*=f;let h=0;for(let g=0;g<o;g++){const p=t[g],C=r[g]*f,A=p>C?p-C:C-p;if(A>s)return Number.POSITIVE_INFINITY;h+=A}return h/l}}class ie extends xt{static findStartPattern(t){const r=t.getSize(),s=t.getNextSet(0);let o=0,l=Int32Array.from([0,0,0,0,0,0]),u=s,f=!1;const h=6;for(let g=s;g<r;g++)if(t.get(g)!==f)l[o]++;else{if(o===h-1){let p=ie.MAX_AVG_VARIANCE,C=-1;for(let A=ie.CODE_START_A;A<=ie.CODE_START_C;A++){const N=xt.patternMatchVariance(l,ie.CODE_PATTERNS[A],ie.MAX_INDIVIDUAL_VARIANCE);N<p&&(p=N,C=A)}if(C>=0&&t.isRange(Math.max(0,u-(g-u)/2),u,!1))return Int32Array.from([u,g,C]);u+=l[0]+l[1],l=l.slice(2,l.length-1),l[o-1]=0,l[o]=0,o--}else o++;l[o]=1,f=!f}throw new W}static decodeCode(t,r,s){xt.recordPattern(t,s,r);let o=ie.MAX_AVG_VARIANCE,l=-1;for(let u=0;u<ie.CODE_PATTERNS.length;u++){const f=ie.CODE_PATTERNS[u],h=this.patternMatchVariance(r,f,ie.MAX_INDIVIDUAL_VARIANCE);h<o&&(o=h,l=u)}if(l>=0)return l;throw new W}decodeRow(t,r,s){const o=s&&s.get(q.ASSUME_GS1)===!0,l=ie.findStartPattern(r),u=l[2];let f=0;const h=new Uint8Array(20);h[f++]=u;let g;switch(u){case ie.CODE_START_A:g=ie.CODE_CODE_A;break;case ie.CODE_START_B:g=ie.CODE_CODE_B;break;case ie.CODE_START_C:g=ie.CODE_CODE_C;break;default:throw new F}let p=!1,C=!1,A="",N=l[0],O=l[1];const b=Int32Array.from([0,0,0,0,0,0]);let B=0,H=0,J=u,$=0,K=!0,_e=!1,Ce=!1;for(;!p;){const Ei=C;switch(C=!1,B=H,H=ie.decodeCode(r,b,O),h[f++]=H,H!==ie.CODE_STOP&&(K=!0),H!==ie.CODE_STOP&&($++,J+=$*H),N=O,O+=b.reduce((r2,i2)=>r2+i2,0),H){case ie.CODE_START_A:case ie.CODE_START_B:case ie.CODE_START_C:throw new F}switch(g){case ie.CODE_CODE_A:if(H<64)Ce===_e?A+=String.fromCharCode(32+H):A+=String.fromCharCode(32+H+128),Ce=!1;else if(H<96)Ce===_e?A+=String.fromCharCode(H-64):A+=String.fromCharCode(H+64),Ce=!1;else switch(H!==ie.CODE_STOP&&(K=!1),H){case ie.CODE_FNC_1:o&&(A.length===0?A+="]C1":A+="");break;case ie.CODE_FNC_2:case ie.CODE_FNC_3:break;case ie.CODE_FNC_4_A:!_e&&Ce?(_e=!0,Ce=!1):_e&&Ce?(_e=!1,Ce=!1):Ce=!0;break;case ie.CODE_SHIFT:C=!0,g=ie.CODE_CODE_B;break;case ie.CODE_CODE_B:g=ie.CODE_CODE_B;break;case ie.CODE_CODE_C:g=ie.CODE_CODE_C;break;case ie.CODE_STOP:p=!0;break}break;case ie.CODE_CODE_B:if(H<96)Ce===_e?A+=String.fromCharCode(32+H):A+=String.fromCharCode(32+H+128),Ce=!1;else switch(H!==ie.CODE_STOP&&(K=!1),H){case ie.CODE_FNC_1:o&&(A.length===0?A+="]C1":A+="");break;case ie.CODE_FNC_2:case ie.CODE_FNC_3:break;case ie.CODE_FNC_4_B:!_e&&Ce?(_e=!0,Ce=!1):_e&&Ce?(_e=!1,Ce=!1):Ce=!0;break;case ie.CODE_SHIFT:C=!0,g=ie.CODE_CODE_A;break;case ie.CODE_CODE_A:g=ie.CODE_CODE_A;break;case ie.CODE_CODE_C:g=ie.CODE_CODE_C;break;case ie.CODE_STOP:p=!0;break}break;case ie.CODE_CODE_C:if(H<100)H<10&&(A+="0"),A+=H;else switch(H!==ie.CODE_STOP&&(K=!1),H){case ie.CODE_FNC_1:o&&(A.length===0?A+="]C1":A+="");break;case ie.CODE_CODE_A:g=ie.CODE_CODE_A;break;case ie.CODE_CODE_B:g=ie.CODE_CODE_B;break;case ie.CODE_STOP:p=!0;break}break}Ei&&(g=g===ie.CODE_CODE_A?ie.CODE_CODE_B:ie.CODE_CODE_A)}const Qt=O-N;if(O=r.getNextUnset(O),!r.isRange(O,Math.min(r.getSize(),O+(O-N)/2),!1))throw new W;if(J-=$*B,J%103!==B)throw new U;const On=A.length;if(On===0)throw new W;On>0&&K&&(g===ie.CODE_CODE_C?A=A.substring(0,On-2):A=A.substring(0,On-1));const Jt=(l[1]+l[0])/2,Xe=N+Qt/2,Ot=h.length,ln=new Uint8Array(Ot);for(let Ei=0;Ei<Ot;Ei++)ln[Ei]=h[Ei];const yi=[new ne(Jt,t),new ne(Xe,t)];return new be(A,ln,0,yi,ae.CODE_128,new Date().getTime())}}ie.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ie.MAX_AVG_VARIANCE=.25,ie.MAX_INDIVIDUAL_VARIANCE=.7,ie.CODE_SHIFT=98,ie.CODE_CODE_C=99,ie.CODE_CODE_B=100,ie.CODE_CODE_A=101,ie.CODE_FNC_1=102,ie.CODE_FNC_2=97,ie.CODE_FNC_3=96,ie.CODE_FNC_4_A=101,ie.CODE_FNC_4_B=100,ie.CODE_START_A=103,ie.CODE_START_B=104,ie.CODE_START_C=105,ie.CODE_STOP=106;class wt extends xt{constructor(t=!1,r=!1){super(),this.usingCheckDigit=t,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,r,s){let o=this.counters;o.fill(0),this.decodeRowResult="";let l=wt.findAsteriskPattern(r,o),u=r.getNextSet(l[1]),f=r.getSize(),h,g;do{wt.recordPattern(r,u,o);let b=wt.toNarrowWidePattern(o);if(b<0)throw new W;h=wt.patternToChar(b),this.decodeRowResult+=h,g=u;for(let B of o)u+=B;u=r.getNextSet(u)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let p=0;for(let b of o)p+=b;let C=u-g-p;if(u!==f&&C*2<p)throw new W;if(this.usingCheckDigit){let b=this.decodeRowResult.length-1,B=0;for(let H=0;H<b;H++)B+=wt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(H));if(this.decodeRowResult.charAt(b)!==wt.ALPHABET_STRING.charAt(B%43))throw new U;this.decodeRowResult=this.decodeRowResult.substring(0,b)}if(this.decodeRowResult.length===0)throw new W;let A;this.extendedMode?A=wt.decodeExtended(this.decodeRowResult):A=this.decodeRowResult;let N=(l[1]+l[0])/2,O=g+p/2;return new be(A,null,0,[new ne(N,t),new ne(O,t)],ae.CODE_39,new Date().getTime())}static findAsteriskPattern(t,r){let s=t.getSize(),o=t.getNextSet(0),l=0,u=o,f=!1,h=r.length;for(let g=o;g<s;g++)if(t.get(g)!==f)r[l]++;else{if(l===h-1){if(this.toNarrowWidePattern(r)===wt.ASTERISK_ENCODING&&t.isRange(Math.max(0,u-Math.floor((g-u)/2)),u,!1))return[u,g];u+=r[0]+r[1],r.copyWithin(0,2,2+l-1),r[l-1]=0,r[l]=0,l--}else l++;r[l]=1,f=!f}throw new W}static toNarrowWidePattern(t){let r=t.length,s=0,o;do{let l=2147483647;for(let h of t)h<l&&h>s&&(l=h);s=l,o=0;let u=0,f=0;for(let h=0;h<r;h++){let g=t[h];g>s&&(f|=1<<r-1-h,o++,u+=g)}if(o===3){for(let h=0;h<r&&o>0;h++){let g=t[h];if(g>s&&(o--,g*2>=u))return-1}return f}}while(o>3);return-1}static patternToChar(t){for(let r=0;r<wt.CHARACTER_ENCODINGS.length;r++)if(wt.CHARACTER_ENCODINGS[r]===t)return wt.ALPHABET_STRING.charAt(r);if(t===wt.ASTERISK_ENCODING)return"*";throw new W}static decodeExtended(t){let r=t.length,s="";for(let o=0;o<r;o++){let l=t.charAt(o);if(l==="+"||l==="$"||l==="%"||l==="/"){let u=t.charAt(o+1),f="\0";switch(l){case"+":if(u>="A"&&u<="Z")f=String.fromCharCode(u.charCodeAt(0)+32);else throw new F;break;case"$":if(u>="A"&&u<="Z")f=String.fromCharCode(u.charCodeAt(0)-64);else throw new F;break;case"%":if(u>="A"&&u<="E")f=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")f=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")f=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")f=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")f="\0";else if(u==="V")f="@";else if(u==="W")f="`";else if(u==="X"||u==="Y"||u==="Z")f="";else throw new F;break;case"/":if(u>="A"&&u<="O")f=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")f=":";else throw new F;break}s+=f,o++}else s+=l}return s}}wt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",wt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],wt.ASTERISK_ENCODING=148;class We extends xt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,r,s){let o=this.decodeStart(r),l=this.decodeEnd(r),u=new ye;We.decodeMiddle(r,o[1],l[0],u);let f=u.toString(),h=null;s!=null&&(h=s.get(q.ALLOWED_LENGTHS)),h==null&&(h=We.DEFAULT_ALLOWED_LENGTHS);let g=f.length,p=!1,C=0;for(let O of h){if(g===O){p=!0;break}O>C&&(C=O)}if(!p&&g>C&&(p=!0),!p)throw new F;const A=[new ne(o[1],t),new ne(l[0],t)];return new be(f,null,0,A,ae.ITF,new Date().getTime())}static decodeMiddle(t,r,s,o){let l=new Int32Array(10),u=new Int32Array(5),f=new Int32Array(5);for(l.fill(0),u.fill(0),f.fill(0);r<s;){xt.recordPattern(t,r,l);for(let g=0;g<5;g++){let p=2*g;u[g]=l[p],f[g]=l[p+1]}let h=We.decodeDigit(u);o.append(h.toString()),h=this.decodeDigit(f),o.append(h.toString()),l.forEach(function(g){r+=g})}}decodeStart(t){let r=We.skipWhiteSpace(t),s=We.findGuardPattern(t,r,We.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(t,s[0]),s}validateQuietZone(t,r){let s=this.narrowLineWidth*10;s=s<r?s:r;for(let o=r-1;s>0&&o>=0&&!t.get(o);o--)s--;if(s!==0)throw new W}static skipWhiteSpace(t){const r=t.getSize(),s=t.getNextSet(0);if(s===r)throw new W;return s}decodeEnd(t){t.reverse();try{let r=We.skipWhiteSpace(t),s;try{s=We.findGuardPattern(t,r,We.END_PATTERN_REVERSED[0])}catch(l){l instanceof W&&(s=We.findGuardPattern(t,r,We.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,s[0]);let o=s[0];return s[0]=t.getSize()-s[1],s[1]=t.getSize()-o,s}finally{t.reverse()}}static findGuardPattern(t,r,s){let o=s.length,l=new Int32Array(o),u=t.getSize(),f=!1,h=0,g=r;l.fill(0);for(let p=r;p<u;p++)if(t.get(p)!==f)l[h]++;else{if(h===o-1){if(xt.patternMatchVariance(l,s,We.MAX_INDIVIDUAL_VARIANCE)<We.MAX_AVG_VARIANCE)return[g,p];g+=l[0]+l[1],P.arraycopy(l,2,l,0,h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,f=!f}throw new W}static decodeDigit(t){let r=We.MAX_AVG_VARIANCE,s=-1,o=We.PATTERNS.length;for(let l=0;l<o;l++){let u=We.PATTERNS[l],f=xt.patternMatchVariance(t,u,We.MAX_INDIVIDUAL_VARIANCE);f<r?(r=f,s=l):f===r&&(s=-1)}if(s>=0)return s%10;throw new W}}We.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],We.MAX_AVG_VARIANCE=.38,We.MAX_INDIVIDUAL_VARIANCE=.5,We.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],We.START_PATTERN=Int32Array.from([1,1,1,1]),We.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class ot extends xt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let r=!1,s,o=0,l=Int32Array.from([0,0,0]);for(;!r;){l=Int32Array.from([0,0,0]),s=ot.findGuardPattern(t,o,!1,this.START_END_PATTERN,l);let u=s[0];o=s[1];let f=u-(o-u);f>=0&&(r=t.isRange(f,u,!1))}return s}static checkChecksum(t){return ot.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let s=parseInt(t.charAt(r-1),10);return ot.getStandardUPCEANChecksum(t.substring(0,r-1))===s}static getStandardUPCEANChecksum(t){let r=t.length,s=0;for(let o=r-1;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new F;s+=l}s*=3;for(let o=r-2;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new F;s+=l}return(1e3-s)%10}static decodeEnd(t,r){return ot.findGuardPattern(t,r,!1,ot.START_END_PATTERN,new Int32Array(ot.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,r,s,o){return this.findGuardPattern(t,r,s,o,new Int32Array(o.length))}static findGuardPattern(t,r,s,o,l){let u=t.getSize();r=s?t.getNextUnset(r):t.getNextSet(r);let f=0,h=r,g=o.length,p=s;for(let C=r;C<u;C++)if(t.get(C)!==p)l[f]++;else{if(f===g-1){if(xt.patternMatchVariance(l,o,ot.MAX_INDIVIDUAL_VARIANCE)<ot.MAX_AVG_VARIANCE)return Int32Array.from([h,C]);h+=l[0]+l[1];let A=l.slice(2,l.length-1);for(let N=0;N<f-1;N++)l[N]=A[N];l[f-1]=0,l[f]=0,f--}else f++;l[f]=1,p=!p}throw new W}static decodeDigit(t,r,s,o){this.recordPattern(t,s,r);let l=this.MAX_AVG_VARIANCE,u=-1,f=o.length;for(let h=0;h<f;h++){let g=o[h],p=xt.patternMatchVariance(r,g,ot.MAX_INDIVIDUAL_VARIANCE);p<l&&(l=p,u=h)}if(u>=0)return u;throw new W}}ot.MAX_AVG_VARIANCE=.48,ot.MAX_INDIVIDUAL_VARIANCE=.7,ot.START_END_PATTERN=Int32Array.from([1,1,1]),ot.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),ot.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ot.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ts{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,s){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,s,o),u=o.toString(),f=ts.parseExtensionString(u),h=[new ne((s[0]+s[1])/2,t),new ne(l,t)],g=new be(u,null,0,h,ae.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&g.putAllMetadata(f),g}decodeMiddle(t,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u=r[1],f=0;for(let g=0;g<5&&u<l;g++){let p=ot.decodeDigit(t,o,u,ot.L_AND_G_PATTERNS);s+=String.fromCharCode(48+p%10);for(let C of o)u+=C;p>=10&&(f|=1<<4-g),g!==4&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(s.length!==5)throw new W;let h=this.determineCheckDigit(f);if(ts.extensionChecksum(s.toString())!==h)throw new W;return u}static extensionChecksum(t){let r=t.length,s=0;for(let o=r-2;o>=0;o-=2)s+=t.charAt(o).charCodeAt(0)-48;s*=3;for(let o=r-1;o>=0;o-=2)s+=t.charAt(o).charCodeAt(0)-48;return s*=3,s%10}determineCheckDigit(t){for(let r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new W}static parseExtensionString(t){if(t.length!==5)return null;let r=ts.parseExtension5String(t);return r==null?null:new Map([[gt.SUGGESTED_PRICE,r]])}static parseExtension5String(t){let r;switch(t.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let s=parseInt(t.substring(1)),o=(s/100).toString(),l=s%100,u=l<10?"0"+l:l.toString();return r+o+"."+u}}class Gl{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,s){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,s,o),u=o.toString(),f=Gl.parseExtensionString(u),h=[new ne((s[0]+s[1])/2,t),new ne(l,t)],g=new be(u,null,0,h,ae.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&g.putAllMetadata(f),g}decodeMiddle(t,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u=r[1],f=0;for(let h=0;h<2&&u<l;h++){let g=ot.decodeDigit(t,o,u,ot.L_AND_G_PATTERNS);s+=String.fromCharCode(48+g%10);for(let p of o)u+=p;g>=10&&(f|=1<<1-h),h!==1&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(s.length!==2)throw new W;if(parseInt(s.toString())%4!==f)throw new W;return u}static parseExtensionString(t){return t.length!==2?null:new Map([[gt.ISSUE_NUMBER,parseInt(t)]])}}class Vc{static decodeRow(t,r,s){let o=ot.findGuardPattern(r,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ts().decodeRow(t,r,o)}catch{return new Gl().decodeRow(t,r,o)}}}Vc.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Le extends ot{constructor(){super(),this.decodeRowStringBuffer="",Le.L_AND_G_PATTERNS=Le.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let r=Le.L_PATTERNS[t-10],s=new Int32Array(r.length);for(let o=0;o<r.length;o++)s[o]=r[r.length-o-1];Le.L_AND_G_PATTERNS[t]=s}}decodeRow(t,r,s){let o=Le.findStartGuardPattern(r),l=s==null?null:s.get(q.NEED_RESULT_POINT_CALLBACK);if(l!=null){const K=new ne((o[0]+o[1])/2,t);l.foundPossibleResultPoint(K)}let u=this.decodeMiddle(r,o,this.decodeRowStringBuffer),f=u.rowOffset,h=u.resultString;if(l!=null){const K=new ne(f,t);l.foundPossibleResultPoint(K)}let g=this.decodeEnd(r,f);if(l!=null){const K=new ne((g[0]+g[1])/2,t);l.foundPossibleResultPoint(K)}let p=g[1],C=p+(p-g[0]);if(C>=r.getSize()||!r.isRange(p,C,!1))throw new W;let A=h.toString();if(A.length<8)throw new F;if(!Le.checkChecksum(A))throw new U;let N=(o[1]+o[0])/2,O=(g[1]+g[0])/2,b=this.getBarcodeFormat(),B=[new ne(N,t),new ne(O,t)],H=new be(A,null,0,B,b,new Date().getTime()),J=0;try{let K=Vc.decodeRow(t,r,g[1]);H.putMetadata(gt.UPC_EAN_EXTENSION,K.getText()),H.putAllMetadata(K.getResultMetadata()),H.addResultPoints(K.getResultPoints()),J=K.getText().length}catch{}let $=s==null?null:s.get(q.ALLOWED_EAN_EXTENSIONS);if($!=null){let K=!1;for(let _e in $)if(J.toString()===_e){K=!0;break}if(!K)throw new W}return H}decodeEnd(t,r){return Le.findGuardPattern(t,r,!1,Le.START_END_PATTERN,new Int32Array(Le.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return Le.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let s=parseInt(t.charAt(r-1),10);return Le.getStandardUPCEANChecksum(t.substring(0,r-1))===s}static getStandardUPCEANChecksum(t){let r=t.length,s=0;for(let o=r-1;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new F;s+=l}s*=3;for(let o=r-2;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new F;s+=l}return(1e3-s)%10}}class Vr extends Le{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u=r[1],f=0;for(let g=0;g<6&&u<l;g++){let p=Le.decodeDigit(t,o,u,Le.L_AND_G_PATTERNS);s+=String.fromCharCode(48+p%10);for(let C of o)u+=C;p>=10&&(f|=1<<5-g)}s=Vr.determineFirstDigit(s,f),u=Le.findGuardPattern(t,u,!0,Le.MIDDLE_PATTERN,new Int32Array(Le.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<6&&u<l;g++){let p=Le.decodeDigit(t,o,u,Le.L_PATTERNS);s+=String.fromCharCode(48+p);for(let C of o)u+=C}return{rowOffset:u,resultString:s}}getBarcodeFormat(){return ae.EAN_13}static determineFirstDigit(t,r){for(let s=0;s<10;s++)if(r===this.FIRST_DIGIT_ENCODINGS[s])return t=String.fromCharCode(48+s)+t,t;throw new W}}Vr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class zc extends Le{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,s){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u=r[1];for(let h=0;h<4&&u<l;h++){let g=Le.decodeDigit(t,o,u,Le.L_PATTERNS);s+=String.fromCharCode(48+g);for(let p of o)u+=p}u=Le.findGuardPattern(t,u,!0,Le.MIDDLE_PATTERN,new Int32Array(Le.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&u<l;h++){let g=Le.decodeDigit(t,o,u,Le.L_PATTERNS);s+=String.fromCharCode(48+g);for(let p of o)u+=p}return{rowOffset:u,resultString:s}}getBarcodeFormat(){return ae.EAN_8}}class Hc extends Le{constructor(){super(...arguments),this.ean13Reader=new Vr}getBarcodeFormat(){return ae.UPC_A}decode(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,r,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,s))}decodeMiddle(t,r,s){return this.ean13Reader.decodeMiddle(t,r,s)}maybeReturnResult(t){let r=t.getText();if(r.charAt(0)==="0"){let s=new be(r.substring(1),null,null,t.getResultPoints(),ae.UPC_A);return t.getResultMetadata()!=null&&s.putAllMetadata(t.getResultMetadata()),s}else throw new W}reset(){this.ean13Reader.reset()}}class Rn extends Le{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,r,s){const o=this.decodeMiddleCounters.map(g=>g);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const l=t.getSize();let u=r[1],f=0;for(let g=0;g<6&&u<l;g++){const p=Rn.decodeDigit(t,o,u,Rn.L_AND_G_PATTERNS);s+=String.fromCharCode(48+p%10);for(let C of o)u+=C;p>=10&&(f|=1<<5-g)}let h=Rn.determineNumSysAndCheckDigit(s,f);return{rowOffset:u,resultString:h}}decodeEnd(t,r){return Rn.findGuardPatternWithoutCounters(t,r,!0,Rn.MIDDLE_END_PATTERN)}checkChecksum(t){return Le.checkChecksum(Rn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,r){for(let s=0;s<=1;s++)for(let o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][o]){let l=String.fromCharCode(48+s),u=String.fromCharCode(48+o);return l+t+u}throw W.getNotFoundInstance()}getBarcodeFormat(){return ae.UPC_E}static convertUPCEtoUPCA(t){const r=t.slice(1,7).split("").map(l=>l.charCodeAt(0)),s=new ye;s.append(t.charAt(0));let o=r[5];switch(o){case 0:case 1:case 2:s.appendChars(r,0,2),s.append(o),s.append("0000"),s.appendChars(r,2,3);break;case 3:s.appendChars(r,0,3),s.append("00000"),s.appendChars(r,3,2);break;case 4:s.appendChars(r,0,4),s.append("00000"),s.append(r[4]);break;default:s.appendChars(r,0,5),s.append("0000"),s.append(o);break}return t.length>=8&&s.append(t.charAt(7)),s.toString()}}Rn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Rn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Xl extends xt{constructor(t){super();let r=t==null?null:t.get(q.POSSIBLE_FORMATS),s=[];a(r)?(s.push(new Vr),s.push(new Hc),s.push(new zc),s.push(new Rn)):(r.indexOf(ae.EAN_13)>-1&&s.push(new Vr),r.indexOf(ae.UPC_A)>-1&&s.push(new Hc),r.indexOf(ae.EAN_8)>-1&&s.push(new zc),r.indexOf(ae.UPC_E)>-1&&s.push(new Rn)),this.readers=s}decodeRow(t,r,s){for(let o of this.readers)try{const l=o.decodeRow(t,r,s),u=l.getBarcodeFormat()===ae.EAN_13&&l.getText().charAt(0)==="0",f=s==null?null:s.get(q.POSSIBLE_FORMATS),h=f==null||f.includes(ae.UPC_A);if(u&&h){const g=l.getRawBytes(),p=new be(l.getText().substring(1),g,g?g.length:null,l.getResultPoints(),ae.UPC_A);return p.putAllMetadata(l.getResultMetadata()),p}return l}catch{}throw new W}reset(){for(let t of this.readers)t.reset()}}class Bt extends xt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,r){for(let s=0;s<r.length;s++)if(xt.patternMatchVariance(t,r[s],Bt.MAX_INDIVIDUAL_VARIANCE)<Bt.MAX_AVG_VARIANCE)return s;throw new W}static count(t){return Y.sum(new Int32Array(t))}static increment(t,r){let s=0,o=r[0];for(let l=1;l<t.length;l++)r[l]>o&&(o=r[l],s=l);t[s]++}static decrement(t,r){let s=0,o=r[0];for(let l=1;l<t.length;l++)r[l]<o&&(o=r[l],s=l);t[s]--}static isFinderPattern(t){let r=t[0]+t[1],s=r+t[2]+t[3],o=r/s;if(o>=Bt.MIN_FINDER_PATTERN_RATIO&&o<=Bt.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let f of t)f>u&&(u=f),f<l&&(l=f);return u<10*l}return!1}}Bt.MAX_AVG_VARIANCE=.2,Bt.MAX_INDIVIDUAL_VARIANCE=.45,Bt.MIN_FINDER_PATTERN_RATIO=9.5/12,Bt.MAX_FINDER_PATTERN_RATIO=12.5/14;class di{constructor(t,r){this.value=t,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof di))return!1;const r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class oo{constructor(t,r,s,o,l){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new ne(s,l)),this.resultPoints.push(new ne(o,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof oo))return!1;const r=t;return this.value===r.value}hashCode(){return this.value}}class jn{constructor(){}static getRSSvalue(t,r,s){let o=0;for(let h of t)o+=h;let l=0,u=0,f=t.length;for(let h=0;h<f-1;h++){let g;for(g=1,u|=1<<h;g<t[h];g++,u&=~(1<<h)){let p=jn.combins(o-g-1,f-h-2);if(s&&u===0&&o-g-(f-h-1)>=f-h-1&&(p-=jn.combins(o-g-(f-h),f-h-2)),f-h-1>1){let C=0;for(let A=o-g-(f-h-2);A>r;A--)C+=jn.combins(o-g-A-1,f-h-3);p-=C*(f-1-h)}else o-g>r&&p--;l+=p}o-=g}return l}static combins(t,r){let s,o;t-r>r?(o=r,s=t-r):(o=t-r,s=r);let l=1,u=1;for(let f=t;f>s;f--)l*=f,u<=o&&(l/=u,u++);for(;u<=o;)l/=u,u++;return l}}class Rh{static buildBitArray(t){let r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);let s=12*r,o=new j(s),l=0,f=t[0].getRightChar().getValue();for(let h=11;h>=0;--h)f&1<<h&&o.set(l),l++;for(let h=1;h<t.length;++h){let g=t[h],p=g.getLeftChar().getValue();for(let C=11;C>=0;--C)p&1<<C&&o.set(l),l++;if(g.getRightChar()!=null){let C=g.getRightChar().getValue();for(let A=11;A>=0;--A)C&1<<A&&o.set(l),l++}}return o}}class zr{constructor(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Yl{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Zt extends Yl{constructor(t,r){super(t),this.value=r}getValue(){return this.value}isFNC1(){return this.value===Zt.FNC1}}Zt.FNC1="$";class Hr extends Yl{constructor(t,r,s){super(t),s?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class mn extends Yl{constructor(t,r,s){if(super(t),r<0||r>10||s<0||s>10)throw new F;this.firstDigit=r,this.secondDigit=s}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===mn.FNC1}isSecondDigitFNC1(){return this.secondDigit===mn.FNC1}isAnyFNC1(){return this.firstDigit===mn.FNC1||this.secondDigit===mn.FNC1}}mn.FNC1=10;class se{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new W;let r=t.substring(0,2);for(let l of se.TWO_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===se.VARIABLE_LENGTH?se.processVariableAI(2,l[2],t):se.processFixedAI(2,l[1],t);if(t.length<3)throw new W;let s=t.substring(0,3);for(let l of se.THREE_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===se.VARIABLE_LENGTH?se.processVariableAI(3,l[2],t):se.processFixedAI(3,l[1],t);for(let l of se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===se.VARIABLE_LENGTH?se.processVariableAI(4,l[2],t):se.processFixedAI(4,l[1],t);if(t.length<4)throw new W;let o=t.substring(0,4);for(let l of se.FOUR_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===se.VARIABLE_LENGTH?se.processVariableAI(4,l[2],t):se.processFixedAI(4,l[1],t);throw new W}static processFixedAI(t,r,s){if(s.length<t)throw new W;let o=s.substring(0,t);if(s.length<t+r)throw new W;let l=s.substring(t,t+r),u=s.substring(t+r),f="("+o+")"+l,h=se.parseFieldsInGeneralPurpose(u);return h==null?f:f+h}static processVariableAI(t,r,s){let o=s.substring(0,t),l;s.length<t+r?l=s.length:l=t+r;let u=s.substring(t,l),f=s.substring(l),h="("+o+")"+u,g=se.parseFieldsInGeneralPurpose(f);return g==null?h:h+g}}se.VARIABLE_LENGTH=[],se.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",se.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",se.VARIABLE_LENGTH,20],["22",se.VARIABLE_LENGTH,29],["30",se.VARIABLE_LENGTH,8],["37",se.VARIABLE_LENGTH,8],["90",se.VARIABLE_LENGTH,30],["91",se.VARIABLE_LENGTH,30],["92",se.VARIABLE_LENGTH,30],["93",se.VARIABLE_LENGTH,30],["94",se.VARIABLE_LENGTH,30],["95",se.VARIABLE_LENGTH,30],["96",se.VARIABLE_LENGTH,30],["97",se.VARIABLE_LENGTH,3],["98",se.VARIABLE_LENGTH,30],["99",se.VARIABLE_LENGTH,30]],se.THREE_DIGIT_DATA_LENGTH=[["240",se.VARIABLE_LENGTH,30],["241",se.VARIABLE_LENGTH,30],["242",se.VARIABLE_LENGTH,6],["250",se.VARIABLE_LENGTH,30],["251",se.VARIABLE_LENGTH,30],["253",se.VARIABLE_LENGTH,17],["254",se.VARIABLE_LENGTH,20],["400",se.VARIABLE_LENGTH,30],["401",se.VARIABLE_LENGTH,30],["402",17],["403",se.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",se.VARIABLE_LENGTH,20],["421",se.VARIABLE_LENGTH,15],["422",3],["423",se.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",se.VARIABLE_LENGTH,15],["391",se.VARIABLE_LENGTH,18],["392",se.VARIABLE_LENGTH,15],["393",se.VARIABLE_LENGTH,18],["703",se.VARIABLE_LENGTH,30]],se.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",se.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",se.VARIABLE_LENGTH,20],["8003",se.VARIABLE_LENGTH,30],["8004",se.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",se.VARIABLE_LENGTH,30],["8008",se.VARIABLE_LENGTH,12],["8018",18],["8020",se.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",se.VARIABLE_LENGTH,70],["8200",se.VARIABLE_LENGTH,70]];class hi{constructor(t){this.buffer=new ye,this.information=t}decodeAllCodes(t,r){let s=r,o=null;do{let l=this.decodeGeneralPurposeField(s,o),u=se.parseFieldsInGeneralPurpose(l.getNewString());if(u!=null&&t.append(u),l.isRemaining()?o=""+l.getRemainingValue():o=null,s===l.getNewPosition())break;s=l.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(t,4);return l===0?new mn(this.information.getSize(),mn.FNC1,mn.FNC1):new mn(this.information.getSize(),l-1,mn.FNC1)}let r=this.extractNumericValueFromBitArray(t,7),s=(r-8)/11,o=(r-8)%11;return new mn(t+7,s,o)}extractNumericValueFromBitArray(t,r){return hi.extractNumericValueFromBitArray(this.information,t,r)}static extractNumericValueFromBitArray(t,r,s){let o=0;for(let l=0;l<s;++l)t.get(r+l)&&(o|=1<<s-l-1);return o}decodeGeneralPurposeField(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);let s=this.parseBlocks();return s!=null&&s.isRemaining()?new Hr(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new Hr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,r;do{let s=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished()),!(s!==this.current.getPosition())&&!t)break}while(!t);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let r;return t.isSecondDigitFNC1()?r=new Hr(this.current.getPosition(),this.buffer.toString()):r=new Hr(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new zr(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let r=new Hr(this.current.getPosition(),this.buffer.toString());return new zr(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new zr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Hr(this.current.getPosition(),this.buffer.toString());return new zr(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new zr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Hr(this.current.getPosition(),this.buffer.toString());return new zr(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new zr(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,7);if(s>=64&&s<116)return!0;if(t+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,8);return o>=232&&o<253}decodeIsoIec646(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Zt(t+5,Zt.FNC1);if(r>=5&&r<15)return new Zt(t+5,"0"+(r-5));let s=this.extractNumericValueFromBitArray(t,7);if(s>=64&&s<90)return new Zt(t+7,""+(s+1));if(s>=90&&s<116)return new Zt(t+7,""+(s+7));let o=this.extractNumericValueFromBitArray(t,8),l;switch(o){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new F}return new Zt(t+8,l)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,6);return s>=16&&s<63}decodeAlphanumeric(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Zt(t+5,Zt.FNC1);if(r>=5&&r<15)return new Zt(t+5,"0"+(r-5));let s=this.extractNumericValueFromBitArray(t,6);if(s>=32&&s<58)return new Zt(t+6,""+(s+33));let o;switch(s){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new He("Decoding invalid alphanumeric value: "+s)}return new Zt(t+6,o)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0}}class Zl{constructor(t){this.information=t,this.generalDecoder=new hi(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Kt extends Zl{constructor(t){super(t)}encodeCompressedGtin(t,r){t.append("(01)");let s=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,s)}encodeCompressedGtinWithoutAI(t,r,s){for(let o=0;o<4;++o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*o,10);l/100===0&&t.append("0"),l/10===0&&t.append("0"),t.append(l)}Kt.appendCheckDigit(t,s)}static appendCheckDigit(t,r){let s=0;for(let o=0;o<13;o++){let l=t.charAt(o+r).charCodeAt(0)-48;s+=o&1?l:3*l}s=10-s%10,s===10&&(s=0),t.append(s)}}Kt.GTIN_SIZE=40;class gi extends Kt{constructor(t){super(t)}parseInformation(){let t=new ye;t.append("(01)");let r=t.length(),s=this.getGeneralDecoder().extractNumericValueFromBitArray(gi.HEADER_SIZE,4);return t.append(s),this.encodeCompressedGtinWithoutAI(t,gi.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,gi.HEADER_SIZE+44)}}gi.HEADER_SIZE=4;class lo extends Zl{constructor(t){super(t)}parseInformation(){let t=new ye;return this.getGeneralDecoder().decodeAllCodes(t,lo.HEADER_SIZE)}}lo.HEADER_SIZE=5;class ao extends Kt{constructor(t){super(t)}encodeCompressedWeight(t,r,s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,s);this.addWeightCode(t,o);let l=this.checkWeight(o),u=1e5;for(let f=0;f<5;++f)l/u===0&&t.append("0"),u/=10;t.append(l)}}class Vn extends ao{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Vn.HEADER_SIZE+ao.GTIN_SIZE+Vn.WEIGHT_SIZE)throw new W;let t=new ye;return this.encodeCompressedGtin(t,Vn.HEADER_SIZE),this.encodeCompressedWeight(t,Vn.HEADER_SIZE+ao.GTIN_SIZE,Vn.WEIGHT_SIZE),t.toString()}}Vn.HEADER_SIZE=5,Vn.WEIGHT_SIZE=15;class Oh extends Vn{constructor(t){super(t)}addWeightCode(t,r){t.append("(3103)")}checkWeight(t){return t}}class bh extends Vn{constructor(t){super(t)}addWeightCode(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class zn extends Kt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<zn.HEADER_SIZE+Kt.GTIN_SIZE)throw new W;let t=new ye;this.encodeCompressedGtin(t,zn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(zn.HEADER_SIZE+Kt.GTIN_SIZE,zn.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");let s=this.getGeneralDecoder().decodeGeneralPurposeField(zn.HEADER_SIZE+Kt.GTIN_SIZE+zn.LAST_DIGIT_SIZE,null);return t.append(s.getNewString()),t.toString()}}zn.HEADER_SIZE=8,zn.LAST_DIGIT_SIZE=2;class Ht extends Kt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Ht.HEADER_SIZE+Kt.GTIN_SIZE)throw new W;let t=new ye;this.encodeCompressedGtin(t,Ht.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Ht.HEADER_SIZE+Kt.GTIN_SIZE,Ht.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Ht.HEADER_SIZE+Kt.GTIN_SIZE+Ht.LAST_DIGIT_SIZE,Ht.FIRST_THREE_DIGITS_SIZE);s/100==0&&t.append("0"),s/10==0&&t.append("0"),t.append(s);let o=this.getGeneralDecoder().decodeGeneralPurposeField(Ht.HEADER_SIZE+Kt.GTIN_SIZE+Ht.LAST_DIGIT_SIZE+Ht.FIRST_THREE_DIGITS_SIZE,null);return t.append(o.getNewString()),t.toString()}}Ht.HEADER_SIZE=8,Ht.LAST_DIGIT_SIZE=2,Ht.FIRST_THREE_DIGITS_SIZE=10;class et extends ao{constructor(t,r,s){super(t),this.dateCode=s,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=et.HEADER_SIZE+et.GTIN_SIZE+et.WEIGHT_SIZE+et.DATE_SIZE)throw new W;let t=new ye;return this.encodeCompressedGtin(t,et.HEADER_SIZE),this.encodeCompressedWeight(t,et.HEADER_SIZE+et.GTIN_SIZE,et.WEIGHT_SIZE),this.encodeCompressedDate(t,et.HEADER_SIZE+et.GTIN_SIZE+et.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,r){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(r,et.DATE_SIZE);if(s==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let o=s%32;s/=32;let l=s%12+1;s/=12;let u=s;u/10==0&&t.append("0"),t.append(u),l/10==0&&t.append("0"),t.append(l),o/10==0&&t.append("0"),t.append(o)}addWeightCode(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")}checkWeight(t){return t%1e5}}et.HEADER_SIZE=8,et.WEIGHT_SIZE=20,et.DATE_SIZE=16;function Wc(E){try{if(E.get(1))return new gi(E);if(!E.get(2))return new lo(E);switch(hi.extractNumericValueFromBitArray(E,1,4)){case 4:return new Oh(E);case 5:return new bh(E)}switch(hi.extractNumericValueFromBitArray(E,1,5)){case 12:return new zn(E);case 13:return new Ht(E)}switch(hi.extractNumericValueFromBitArray(E,1,7)){case 56:return new et(E,"310","11");case 57:return new et(E,"320","11");case 58:return new et(E,"310","13");case 59:return new et(E,"320","13");case 60:return new et(E,"310","15");case 61:return new et(E,"320","15");case 62:return new et(E,"310","17");case 63:return new et(E,"320","17")}}catch(t){throw console.log(t),new He("unknown decoder: "+E)}}class dr{constructor(t,r,s,o){this.leftchar=t,this.rightchar=r,this.finderpattern=s,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,r){return t instanceof dr?dr.equalsOrNull(t.leftchar,r.leftchar)&&dr.equalsOrNull(t.rightchar,r.rightchar)&&dr.equalsOrNull(t.finderpattern,r.finderpattern):!1}static equalsOrNull(t,r){return t===null?r===null:dr.equals(t,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Kl{constructor(t,r,s){this.pairs=t,this.rowNumber=r,this.wasReversed=s}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,r){return t instanceof Kl?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1}checkEqualitity(t,r){if(!t||!r)return;let s;return t.forEach((o,l)=>{r.forEach(u=>{o.getLeftChar().getValue()===u.getLeftChar().getValue()&&o.getRightChar().getValue()===u.getRightChar().getValue()&&o.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(s=!0)})}),s}}class X extends Bt{constructor(t){super(...arguments),this.pairs=new Array(X.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,r,s){this.pairs.length=0,this.startFromEven=!1;try{return X.constructResult(this.decodeRow2pairs(t,r))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,X.constructResult(this.decodeRow2pairs(t,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,r){let s=!1;for(;!s;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(l){if(l instanceof W){if(!this.pairs.length)throw new W;s=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(t,!1),o){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new W}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(s){this.verbose&&console.log(s)}return t&&(this.rows=this.rows.reverse()),r}checkRows(t,r){for(let s=r;s<this.rows.length;s++){let o=this.rows[s];this.pairs.length=0;for(let u of t)this.pairs.push(u.getPairs());if(this.pairs.push(o.getPairs()),!X.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(t);l.push(o);try{return this.checkRows(l,s+1)}catch(u){this.verbose&&console.log(u)}}throw new W}static isValidSequence(t){for(let r of X.FINDER_PATTERN_SEQUENCES){if(t.length>r.length)continue;let s=!0;for(let o=0;o<t.length;o++)if(t[o].getFinderPattern().getValue()!=r[o]){s=!1;break}if(s)return!0}return!1}storeRow(t,r){let s=0,o=!1,l=!1;for(;s<this.rows.length;){let u=this.rows[s];if(u.getRowNumber()>t){l=u.isEquivalent(this.pairs);break}o=u.isEquivalent(this.pairs),s++}l||o||X.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new Kl(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,r){for(let s of r)if(s.getPairs().length!==t.length){for(let o of s.getPairs())for(let l of t)if(dr.equals(o,l))break}}static isPartialRow(t,r){for(let s of r){let o=!0;for(let l of t){let u=!1;for(let f of s.getPairs())if(l.equals(f)){u=!0;break}if(!u){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(t){let r=Rh.buildBitArray(t),o=Wc(r).parseInformation(),l=t[0].getFinderPattern().getResultPoints(),u=t[t.length-1].getFinderPattern().getResultPoints(),f=[l[0],l[1],u[0],u[1]];return new be(o,null,null,f,ae.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),r=t.getLeftChar(),s=t.getRightChar();if(s==null)return!1;let o=s.getChecksumPortion(),l=2;for(let f=1;f<this.pairs.size();++f){let h=this.pairs.get(f);o+=h.getLeftChar().getChecksumPortion(),l++;let g=h.getRightChar();g!=null&&(o+=g.getChecksumPortion(),l++)}return o%=211,211*(l-4)+o==r.getValue()}static getNextSecondBar(t,r){let s;return t.get(r)?(s=t.getNextUnset(r),s=t.getNextSet(s)):(s=t.getNextSet(r),s=t.getNextUnset(s)),s}retrieveNextPair(t,r,s){let o=r.length%2==0;this.startFromEven&&(o=!o);let l,u=!0,f=-1;do this.findNextPair(t,r,f),l=this.parseFoundFinderPattern(t,s,o),l==null?f=X.getNextSecondBar(t,this.startEnd[0]):u=!1;while(u);let h=this.decodeDataCharacter(t,l,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new W;let g;try{g=this.decodeDataCharacter(t,l,o,!1)}catch(p){g=null,this.verbose&&console.log(p)}return new dr(h,g,l,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,r,s){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),u;s>=0?u=s:this.isEmptyPair(r)?u=0:u=r[r.length-1].getFinderPattern().getStartEnd()[1];let f=r.length%2!=0;this.startFromEven&&(f=!f);let h=!1;for(;u<l&&(h=!t.get(u),!!h);)u++;let g=0,p=u;for(let C=u;C<l;C++)if(t.get(C)!=h)o[g]++;else{if(g==3){if(f&&X.reverseCounters(o),X.isFinderPattern(o)){this.startEnd[0]=p,this.startEnd[1]=C;return}f&&X.reverseCounters(o),p+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,g--}else g++;o[g]=1,h=!h}throw new W}static reverseCounters(t){let r=t.length;for(let s=0;s<r/2;++s){let o=t[s];t[s]=t[r-s-1],t[r-s-1]=o}}parseFoundFinderPattern(t,r,s){let o,l,u;if(s){let g=this.startEnd[0]-1;for(;g>=0&&!t.get(g);)g--;g++,o=this.startEnd[0]-g,l=g,u=this.startEnd[1]}else l=this.startEnd[0],u=t.getNextUnset(this.startEnd[1]+1),o=u-this.startEnd[1];let f=this.getDecodeFinderCounters();P.arraycopy(f,0,f,1,f.length-1),f[0]=o;let h;try{h=this.parseFinderValue(f,X.FINDER_PATTERNS)}catch{return null}return new oo(h,[l,u],l,u,r)}decodeDataCharacter(t,r,s,o){let l=this.getDataCharacterCounters();for(let Xe=0;Xe<l.length;Xe++)l[Xe]=0;if(o)X.recordPatternInReverse(t,r.getStartEnd()[0],l);else{X.recordPattern(t,r.getStartEnd()[1],l);for(let Xe=0,Ot=l.length-1;Xe<Ot;Xe++,Ot--){let ln=l[Xe];l[Xe]=l[Ot],l[Ot]=ln}}let u=17,f=Y.sum(new Int32Array(l))/u,h=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(f-h)/h>.3)throw new W;let g=this.getOddCounts(),p=this.getEvenCounts(),C=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let Xe=0;Xe<l.length;Xe++){let Ot=1*l[Xe]/f,ln=Ot+.5;if(ln<1){if(Ot<.3)throw new W;ln=1}else if(ln>8){if(Ot>8.7)throw new W;ln=8}let yi=Xe/2;Xe&1?(p[yi]=ln,A[yi]=Ot-ln):(g[yi]=ln,C[yi]=Ot-ln)}this.adjustOddEvenCounts(u);let N=4*r.getValue()+(s?0:2)+(o?0:1)-1,O=0,b=0;for(let Xe=g.length-1;Xe>=0;Xe--){if(X.isNotA1left(r,s,o)){let Ot=X.WEIGHTS[N][2*Xe];b+=g[Xe]*Ot}O+=g[Xe]}let B=0;for(let Xe=p.length-1;Xe>=0;Xe--)if(X.isNotA1left(r,s,o)){let Ot=X.WEIGHTS[N][2*Xe+1];B+=p[Xe]*Ot}let H=b+B;if(O&1||O>13||O<4)throw new W;let J=(13-O)/2,$=X.SYMBOL_WIDEST[J],K=9-$,_e=jn.getRSSvalue(g,$,!0),Ce=jn.getRSSvalue(p,K,!1),Qt=X.EVEN_TOTAL_SUBSET[J],On=X.GSUM[J],Jt=_e*Qt+Ce+On;return new di(Jt,H)}static isNotA1left(t,r,s){return!(t.getValue()==0&&r&&s)}adjustOddEvenCounts(t){let r=Y.sum(new Int32Array(this.getOddCounts())),s=Y.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1;r>13?l=!0:r<4&&(o=!0);let u=!1,f=!1;s>13?f=!0:s<4&&(u=!0);let h=r+s-t,g=(r&1)==1,p=(s&1)==0;if(h==1)if(g){if(p)throw new W;l=!0}else{if(!p)throw new W;f=!0}else if(h==-1)if(g){if(p)throw new W;o=!0}else{if(!p)throw new W;u=!0}else if(h==0){if(g){if(!p)throw new W;r<s?(o=!0,f=!0):(l=!0,u=!0)}else if(p)throw new W}else throw new W;if(o){if(l)throw new W;X.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&X.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new W;X.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&X.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}X.SYMBOL_WIDEST=[7,5,4,3,1],X.EVEN_TOTAL_SUBSET=[4,20,52,104,204],X.GSUM=[0,348,1388,2948,3988],X.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],X.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],X.FINDER_PAT_A=0,X.FINDER_PAT_B=1,X.FINDER_PAT_C=2,X.FINDER_PAT_D=3,X.FINDER_PAT_E=4,X.FINDER_PAT_F=5,X.FINDER_PATTERN_SEQUENCES=[[X.FINDER_PAT_A,X.FINDER_PAT_A],[X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B],[X.FINDER_PAT_A,X.FINDER_PAT_C,X.FINDER_PAT_B,X.FINDER_PAT_D],[X.FINDER_PAT_A,X.FINDER_PAT_E,X.FINDER_PAT_B,X.FINDER_PAT_D,X.FINDER_PAT_C],[X.FINDER_PAT_A,X.FINDER_PAT_E,X.FINDER_PAT_B,X.FINDER_PAT_D,X.FINDER_PAT_D,X.FINDER_PAT_F],[X.FINDER_PAT_A,X.FINDER_PAT_E,X.FINDER_PAT_B,X.FINDER_PAT_D,X.FINDER_PAT_E,X.FINDER_PAT_F,X.FINDER_PAT_F],[X.FINDER_PAT_A,X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B,X.FINDER_PAT_C,X.FINDER_PAT_C,X.FINDER_PAT_D,X.FINDER_PAT_D],[X.FINDER_PAT_A,X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B,X.FINDER_PAT_C,X.FINDER_PAT_C,X.FINDER_PAT_D,X.FINDER_PAT_E,X.FINDER_PAT_E],[X.FINDER_PAT_A,X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B,X.FINDER_PAT_C,X.FINDER_PAT_C,X.FINDER_PAT_D,X.FINDER_PAT_E,X.FINDER_PAT_F,X.FINDER_PAT_F],[X.FINDER_PAT_A,X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B,X.FINDER_PAT_C,X.FINDER_PAT_D,X.FINDER_PAT_D,X.FINDER_PAT_E,X.FINDER_PAT_E,X.FINDER_PAT_F,X.FINDER_PAT_F]],X.MAX_PAIRS=11;class Dh extends di{constructor(t,r,s){super(t,r),this.count=0,this.finderPattern=s}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class lt extends Bt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,r,s){const o=this.decodePair(r,!1,t,s);lt.addOrTally(this.possibleLeftPairs,o),r.reverse();let l=this.decodePair(r,!0,t,s);lt.addOrTally(this.possibleRightPairs,l),r.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&lt.checkChecksum(u,f))return lt.constructResult(u,f)}throw new W}static addOrTally(t,r){if(r==null)return;let s=!1;for(let o of t)if(o.getValue()===r.getValue()){o.incrementCount(),s=!0;break}s||t.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,r){let s=4537077*t.getValue()+r.getValue(),o=new String(s).toString(),l=new ye;for(let g=13-o.length;g>0;g--)l.append("0");l.append(o);let u=0;for(let g=0;g<13;g++){let p=l.charAt(g).charCodeAt(0)-48;u+=g&1?p:3*p}u=10-u%10,u===10&&(u=0),l.append(u.toString());let f=t.getFinderPattern().getResultPoints(),h=r.getFinderPattern().getResultPoints();return new be(l.toString(),null,0,[f[0],f[1],h[0],h[1]],ae.RSS_14,new Date().getTime())}static checkChecksum(t,r){let s=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,s===o}decodePair(t,r,s,o){try{let l=this.findFinderPattern(t,r),u=this.parseFoundFinderPattern(t,s,r,l),f=o==null?null:o.get(q.NEED_RESULT_POINT_CALLBACK);if(f!=null){let p=(l[0]+l[1])/2;r&&(p=t.getSize()-1-p),f.foundPossibleResultPoint(new ne(p,s))}let h=this.decodeDataCharacter(t,u,!0),g=this.decodeDataCharacter(t,u,!1);return new Dh(1597*h.getValue()+g.getValue(),h.getChecksumPortion()+4*g.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(t,r,s){let o=this.getDataCharacterCounters();for(let B=0;B<o.length;B++)o[B]=0;if(s)xt.recordPatternInReverse(t,r.getStartEnd()[0],o);else{xt.recordPattern(t,r.getStartEnd()[1]+1,o);for(let B=0,H=o.length-1;B<H;B++,H--){let J=o[B];o[B]=o[H],o[H]=J}}let l=s?16:15,u=Y.sum(new Int32Array(o))/l,f=this.getOddCounts(),h=this.getEvenCounts(),g=this.getOddRoundingErrors(),p=this.getEvenRoundingErrors();for(let B=0;B<o.length;B++){let H=o[B]/u,J=Math.floor(H+.5);J<1?J=1:J>8&&(J=8);let $=Math.floor(B/2);B&1?(h[$]=J,p[$]=H-J):(f[$]=J,g[$]=H-J)}this.adjustOddEvenCounts(s,l);let C=0,A=0;for(let B=f.length-1;B>=0;B--)A*=9,A+=f[B],C+=f[B];let N=0,O=0;for(let B=h.length-1;B>=0;B--)N*=9,N+=h[B],O+=h[B];let b=A+3*N;if(s){if(C&1||C>12||C<4)throw new W;let B=(12-C)/2,H=lt.OUTSIDE_ODD_WIDEST[B],J=9-H,$=jn.getRSSvalue(f,H,!1),K=jn.getRSSvalue(h,J,!0),_e=lt.OUTSIDE_EVEN_TOTAL_SUBSET[B],Ce=lt.OUTSIDE_GSUM[B];return new di($*_e+K+Ce,b)}else{if(O&1||O>10||O<4)throw new W;let B=(10-O)/2,H=lt.INSIDE_ODD_WIDEST[B],J=9-H,$=jn.getRSSvalue(f,H,!0),K=jn.getRSSvalue(h,J,!1),_e=lt.INSIDE_ODD_TOTAL_SUBSET[B],Ce=lt.INSIDE_GSUM[B];return new di(K*_e+$+Ce,b)}}findFinderPattern(t,r){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=t.getSize(),l=!1,u=0;for(;u<o&&(l=!t.get(u),r!==l);)u++;let f=0,h=u;for(let g=u;g<o;g++)if(t.get(g)!==l)s[f]++;else{if(f===3){if(Bt.isFinderPattern(s))return[h,g];h+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,f--}else f++;s[f]=1,l=!l}throw new W}parseFoundFinderPattern(t,r,s,o){let l=t.get(o[0]),u=o[0]-1;for(;u>=0&&l!==t.get(u);)u--;u++;const f=o[0]-u,h=this.getDecodeFinderCounters(),g=new Int32Array(h.length);P.arraycopy(h,0,g,1,h.length-1),g[0]=f;const p=this.parseFinderValue(g,lt.FINDER_PATTERNS);let C=u,A=o[1];return s&&(C=t.getSize()-1-C,A=t.getSize()-1-A),new oo(p,[u,o[1]],C,A,r)}adjustOddEvenCounts(t,r){let s=Y.sum(new Int32Array(this.getOddCounts())),o=Y.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1,f=!1,h=!1;t?(s>12?u=!0:s<4&&(l=!0),o>12?h=!0:o<4&&(f=!0)):(s>11?u=!0:s<5&&(l=!0),o>10?h=!0:o<4&&(f=!0));let g=s+o-r,p=(s&1)===(t?1:0),C=(o&1)===1;if(g===1)if(p){if(C)throw new W;u=!0}else{if(!C)throw new W;h=!0}else if(g===-1)if(p){if(C)throw new W;l=!0}else{if(!C)throw new W;f=!0}else if(g===0){if(p){if(!C)throw new W;s<o?(l=!0,h=!0):(u=!0,f=!0)}else if(C)throw new W}else throw new W;if(l){if(u)throw new W;Bt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&Bt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(h)throw new W;Bt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&Bt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}lt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],lt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],lt.OUTSIDE_GSUM=[0,161,961,2015,2715],lt.INSIDE_GSUM=[0,336,1036,1516],lt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],lt.INSIDE_ODD_WIDEST=[2,4,6,8],lt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class xi extends xt{constructor(t,r){super(),this.readers=[],this.verbose=r===!0;const s=t?t.get(q.POSSIBLE_FORMATS):null,o=t&&t.get(q.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;s?((s.includes(ae.EAN_13)||s.includes(ae.UPC_A)||s.includes(ae.EAN_8)||s.includes(ae.UPC_E))&&this.readers.push(new Xl(t)),s.includes(ae.CODE_39)&&this.readers.push(new wt(o)),s.includes(ae.CODE_128)&&this.readers.push(new ie),s.includes(ae.ITF)&&this.readers.push(new We),s.includes(ae.RSS_14)&&this.readers.push(new lt),s.includes(ae.RSS_EXPANDED)&&this.readers.push(new X(this.verbose))):(this.readers.push(new Xl(t)),this.readers.push(new wt),this.readers.push(new Xl(t)),this.readers.push(new ie),this.readers.push(new We),this.readers.push(new lt),this.readers.push(new X(this.verbose)))}decodeRow(t,r,s){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(t,r,s)}catch{}throw new W}reset(){this.readers.forEach(t=>t.reset())}}class Mh extends St{constructor(t=500,r){super(new xi(r),t,r)}}class Ue{constructor(t,r,s){this.ecCodewords=t,this.ecBlocks=[r],s&&this.ecBlocks.push(s)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Fe{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Oe{constructor(t,r,s,o,l,u){this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=s,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=l,this.ecBlocks=u;let f=0;const h=u.getECCodewords(),g=u.getECBlocks();for(let p of g)f+=p.getCount()*(p.getDataCodewords()+h);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,r){if(t&1||r&1)throw new F;for(let s of Oe.VERSIONS)if(s.symbolSizeRows===t&&s.symbolSizeColumns===r)return s;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new Oe(1,10,10,8,8,new Ue(5,new Fe(1,3))),new Oe(2,12,12,10,10,new Ue(7,new Fe(1,5))),new Oe(3,14,14,12,12,new Ue(10,new Fe(1,8))),new Oe(4,16,16,14,14,new Ue(12,new Fe(1,12))),new Oe(5,18,18,16,16,new Ue(14,new Fe(1,18))),new Oe(6,20,20,18,18,new Ue(18,new Fe(1,22))),new Oe(7,22,22,20,20,new Ue(20,new Fe(1,30))),new Oe(8,24,24,22,22,new Ue(24,new Fe(1,36))),new Oe(9,26,26,24,24,new Ue(28,new Fe(1,44))),new Oe(10,32,32,14,14,new Ue(36,new Fe(1,62))),new Oe(11,36,36,16,16,new Ue(42,new Fe(1,86))),new Oe(12,40,40,18,18,new Ue(48,new Fe(1,114))),new Oe(13,44,44,20,20,new Ue(56,new Fe(1,144))),new Oe(14,48,48,22,22,new Ue(68,new Fe(1,174))),new Oe(15,52,52,24,24,new Ue(42,new Fe(2,102))),new Oe(16,64,64,14,14,new Ue(56,new Fe(2,140))),new Oe(17,72,72,16,16,new Ue(36,new Fe(4,92))),new Oe(18,80,80,18,18,new Ue(48,new Fe(4,114))),new Oe(19,88,88,20,20,new Ue(56,new Fe(4,144))),new Oe(20,96,96,22,22,new Ue(68,new Fe(4,174))),new Oe(21,104,104,24,24,new Ue(56,new Fe(6,136))),new Oe(22,120,120,18,18,new Ue(68,new Fe(6,175))),new Oe(23,132,132,20,20,new Ue(62,new Fe(8,163))),new Oe(24,144,144,22,22,new Ue(62,new Fe(8,156),new Fe(2,155))),new Oe(25,8,18,6,16,new Ue(7,new Fe(1,5))),new Oe(26,8,32,6,14,new Ue(11,new Fe(1,10))),new Oe(27,12,26,10,24,new Ue(14,new Fe(1,16))),new Oe(28,12,36,10,16,new Ue(18,new Fe(1,22))),new Oe(29,16,36,14,16,new Ue(24,new Fe(1,32))),new Oe(30,16,48,14,22,new Ue(28,new Fe(1,49)))]}}Oe.VERSIONS=Oe.buildVersions();class ql{constructor(t){const r=t.getHeight();if(r<8||r>144||r&1)throw new F;this.version=ql.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Be(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const r=t.getHeight(),s=t.getWidth();return Oe.getVersionForDimensions(r,s)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let r=0,s=4,o=0;const l=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let f=!1,h=!1,g=!1,p=!1;do if(s===l&&o===0&&!f)t[r++]=this.readCorner1(l,u)&255,s-=2,o+=2,f=!0;else if(s===l-2&&o===0&&u&3&&!h)t[r++]=this.readCorner2(l,u)&255,s-=2,o+=2,h=!0;else if(s===l+4&&o===2&&!(u&7)&&!g)t[r++]=this.readCorner3(l,u)&255,s-=2,o+=2,g=!0;else if(s===l-2&&o===0&&(u&7)===4&&!p)t[r++]=this.readCorner4(l,u)&255,s-=2,o+=2,p=!0;else{do s<l&&o>=0&&!this.readMappingMatrix.get(o,s)&&(t[r++]=this.readUtah(s,o,l,u)&255),s-=2,o+=2;while(s>=0&&o<u);s+=1,o+=3;do s>=0&&o<u&&!this.readMappingMatrix.get(o,s)&&(t[r++]=this.readUtah(s,o,l,u)&255),s+=2,o-=2;while(s<l&&o>=0);s+=3,o+=1}while(s<l||o<u);if(r!==this.version.getTotalCodewords())throw new F;return t}readModule(t,r,s,o){return t<0&&(t+=s,r+=4-(s+4&7)),r<0&&(r+=o,t+=4-(o+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)}readUtah(t,r,s,o){let l=0;return this.readModule(t-2,r-2,s,o)&&(l|=1),l<<=1,this.readModule(t-2,r-1,s,o)&&(l|=1),l<<=1,this.readModule(t-1,r-2,s,o)&&(l|=1),l<<=1,this.readModule(t-1,r-1,s,o)&&(l|=1),l<<=1,this.readModule(t-1,r,s,o)&&(l|=1),l<<=1,this.readModule(t,r-2,s,o)&&(l|=1),l<<=1,this.readModule(t,r-1,s,o)&&(l|=1),l<<=1,this.readModule(t,r,s,o)&&(l|=1),l}readCorner1(t,r){let s=0;return this.readModule(t-1,0,t,r)&&(s|=1),s<<=1,this.readModule(t-1,1,t,r)&&(s|=1),s<<=1,this.readModule(t-1,2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-1,t,r)&&(s|=1),s<<=1,this.readModule(1,r-1,t,r)&&(s|=1),s<<=1,this.readModule(2,r-1,t,r)&&(s|=1),s<<=1,this.readModule(3,r-1,t,r)&&(s|=1),s}readCorner2(t,r){let s=0;return this.readModule(t-3,0,t,r)&&(s|=1),s<<=1,this.readModule(t-2,0,t,r)&&(s|=1),s<<=1,this.readModule(t-1,0,t,r)&&(s|=1),s<<=1,this.readModule(0,r-4,t,r)&&(s|=1),s<<=1,this.readModule(0,r-3,t,r)&&(s|=1),s<<=1,this.readModule(0,r-2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-1,t,r)&&(s|=1),s<<=1,this.readModule(1,r-1,t,r)&&(s|=1),s}readCorner3(t,r){let s=0;return this.readModule(t-1,0,t,r)&&(s|=1),s<<=1,this.readModule(t-1,r-1,t,r)&&(s|=1),s<<=1,this.readModule(0,r-3,t,r)&&(s|=1),s<<=1,this.readModule(0,r-2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-1,t,r)&&(s|=1),s<<=1,this.readModule(1,r-3,t,r)&&(s|=1),s<<=1,this.readModule(1,r-2,t,r)&&(s|=1),s<<=1,this.readModule(1,r-1,t,r)&&(s|=1),s}readCorner4(t,r){let s=0;return this.readModule(t-3,0,t,r)&&(s|=1),s<<=1,this.readModule(t-2,0,t,r)&&(s|=1),s<<=1,this.readModule(t-1,0,t,r)&&(s|=1),s<<=1,this.readModule(0,r-2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-1,t,r)&&(s|=1),s<<=1,this.readModule(1,r-1,t,r)&&(s|=1),s<<=1,this.readModule(2,r-1,t,r)&&(s|=1),s<<=1,this.readModule(3,r-1,t,r)&&(s|=1),s}extractDataRegion(t){const r=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new T("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),u=r/o|0,f=s/l|0,h=u*o,g=f*l,p=new Be(g,h);for(let C=0;C<u;++C){const A=C*o;for(let N=0;N<f;++N){const O=N*l;for(let b=0;b<o;++b){const B=C*(o+2)+1+b,H=A+b;for(let J=0;J<l;++J){const $=N*(l+2)+1+J;if(t.get($,B)){const K=O+J;p.set(K,H)}}}}}return p}}class Ql{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r){const s=r.getECBlocks();let o=0;const l=s.getECBlocks();for(let b of l)o+=b.getCount();const u=new Array(o);let f=0;for(let b of l)for(let B=0;B<b.getCount();B++){const H=b.getDataCodewords(),J=s.getECCodewords()+H;u[f++]=new Ql(H,new Uint8Array(J))}const g=u[0].codewords.length-s.getECCodewords(),p=g-1;let C=0;for(let b=0;b<p;b++)for(let B=0;B<f;B++)u[B].codewords[b]=t[C++];const A=r.getVersionNumber()===24,N=A?8:f;for(let b=0;b<N;b++)u[b].codewords[g-1]=t[C++];const O=u[0].codewords.length;for(let b=g;b<O;b++)for(let B=0;B<f;B++){const H=A?(B+8)%f:B,J=A&&H>7?b-1:b;u[H].codewords[J]=t[C++]}if(C!==t.length)throw new T;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Jl{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new T(""+t);let r=0,s=this.bitOffset,o=this.byteOffset;const l=this.bytes;if(s>0){const u=8-s,f=t<u?t:u,h=u-f,g=255>>8-f<<h;r=(l[o]&g)>>h,t-=f,s+=f,s===8&&(s=0,o++)}if(t>0){for(;t>=8;)r=r<<8|l[o]&255,o++,t-=8;if(t>0){const u=8-t,f=255>>u<<u;r=r<<t|(l[o]&f)>>u,s+=t}}return this.bitOffset=s,this.byteOffset=o,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var yt;(function(E){E[E.PAD_ENCODE=0]="PAD_ENCODE",E[E.ASCII_ENCODE=1]="ASCII_ENCODE",E[E.C40_ENCODE=2]="C40_ENCODE",E[E.TEXT_ENCODE=3]="TEXT_ENCODE",E[E.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",E[E.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",E[E.BASE256_ENCODE=6]="BASE256_ENCODE"})(yt||(yt={}));class hr{static decode(t){const r=new Jl(t),s=new ye,o=new ye,l=new Array;let u=yt.ASCII_ENCODE;do if(u===yt.ASCII_ENCODE)u=this.decodeAsciiSegment(r,s,o);else{switch(u){case yt.C40_ENCODE:this.decodeC40Segment(r,s);break;case yt.TEXT_ENCODE:this.decodeTextSegment(r,s);break;case yt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,s);break;case yt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,s);break;case yt.BASE256_ENCODE:this.decodeBase256Segment(r,s,l);break;default:throw new F}u=yt.ASCII_ENCODE}while(u!==yt.PAD_ENCODE&&r.available()>0);return o.length()>0&&s.append(o.toString()),new Fr(t,s.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(t,r,s){let o=!1;do{let l=t.readBits(8);if(l===0)throw new F;if(l<=128)return o&&(l+=128),r.append(String.fromCharCode(l-1)),yt.ASCII_ENCODE;if(l===129)return yt.PAD_ENCODE;if(l<=229){const u=l-130;u<10&&r.append("0"),r.append(""+u)}else switch(l){case 230:return yt.C40_ENCODE;case 231:return yt.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:o=!0;break;case 236:r.append("[)>05"),s.insert(0,"");break;case 237:r.append("[)>06"),s.insert(0,"");break;case 238:return yt.ANSIX12_ENCODE;case 239:return yt.TEXT_ENCODE;case 240:return yt.EDIFACT_ENCODE;case 241:break;default:if(l!==254||t.available()!==0)throw new F;break}}while(t.available()>0);return yt.ASCII_ENCODE}static decodeC40Segment(t,r){let s=!1;const o=[];let l=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),o);for(let f=0;f<3;f++){const h=o[f];switch(l){case 0:if(h<3)l=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const g=this.C40_BASIC_SET_CHARS[h];s?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):r.append(g)}else throw new F;break;case 1:s?(r.append(String.fromCharCode(h+128)),s=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const g=this.C40_SHIFT2_SET_CHARS[h];s?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):r.append(g)}else switch(h){case 27:r.append("");break;case 30:s=!0;break;default:throw new F}l=0;break;case 3:s?(r.append(String.fromCharCode(h+224)),s=!1):r.append(String.fromCharCode(h+96)),l=0;break;default:throw new F}}}while(t.available()>0)}static decodeTextSegment(t,r){let s=!1,o=[],l=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),o);for(let f=0;f<3;f++){const h=o[f];switch(l){case 0:if(h<3)l=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const g=this.TEXT_BASIC_SET_CHARS[h];s?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):r.append(g)}else throw new F;break;case 1:s?(r.append(String.fromCharCode(h+128)),s=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const g=this.TEXT_SHIFT2_SET_CHARS[h];s?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):r.append(g)}else switch(h){case 27:r.append("");break;case 30:s=!0;break;default:throw new F}l=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const g=this.TEXT_SHIFT3_SET_CHARS[h];s?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):r.append(g),l=0}else throw new F;break;default:throw new F}}}while(t.available()>0)}static decodeAnsiX12Segment(t,r){const s=[];do{if(t.available()===8)return;const o=t.readBits(8);if(o===254)return;this.parseTwoBytes(o,t.readBits(8),s);for(let l=0;l<3;l++){const u=s[l];switch(u){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(u<14)r.append(String.fromCharCode(u+44));else if(u<40)r.append(String.fromCharCode(u+51));else throw new F;break}}}while(t.available()>0)}static parseTwoBytes(t,r,s){let o=(t<<8)+r-1,l=Math.floor(o/1600);s[0]=l,o-=l*1600,l=Math.floor(o/40),s[1]=l,s[2]=o-l*40}static decodeEdifactSegment(t,r){do{if(t.available()<=16)return;for(let s=0;s<4;s++){let o=t.readBits(6);if(o===31){const l=8-t.getBitOffset();l!==8&&t.readBits(l);return}o&32||(o|=64),r.append(String.fromCharCode(o))}}while(t.available()>0)}static decodeBase256Segment(t,r,s){let o=1+t.getByteOffset();const l=this.unrandomize255State(t.readBits(8),o++);let u;if(l===0?u=t.available()/8|0:l<250?u=l:u=250*(l-249)+this.unrandomize255State(t.readBits(8),o++),u<0)throw new F;const f=new Uint8Array(u);for(let h=0;h<u;h++){if(t.available()<8)throw new F;f[h]=this.unrandomize255State(t.readBits(8),o++)}s.push(f);try{r.append(Pe.decode(f,ue.ISO88591))}catch(h){throw new He("Platform does not support required encoding: "+h.message)}}static unrandomize255State(t,r){const s=149*r%255+1,o=t-s;return o>=0?o:o+256}}hr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],hr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],hr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],hr.TEXT_SHIFT2_SET_CHARS=hr.C40_SHIFT2_SET_CHARS,hr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class kh{constructor(){this.rsDecoder=new cr(De.DATA_MATRIX_FIELD_256)}decode(t){const r=new ql(t),s=r.getVersion(),o=r.readCodewords(),l=Ql.getDataBlocks(o,s);let u=0;for(let g of l)u+=g.getNumDataCodewords();const f=new Uint8Array(u),h=l.length;for(let g=0;g<h;g++){const p=l[g],C=p.getCodewords(),A=p.getNumDataCodewords();this.correctErrors(C,A);for(let N=0;N<A;N++)f[N*h+g]=C[N]}return hr.decode(f)}correctErrors(t,r){const s=new Int32Array(t);try{this.rsDecoder.decode(s,t.length-r)}catch{throw new U}for(let o=0;o<r;o++)t[o]=s[o]}}class ft{constructor(t){this.image=t,this.rectangleDetector=new Nn(this.image)}detect(){const t=this.rectangleDetector.detect();let r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new W;r=this.shiftToModuleCenter(r);const s=r[0],o=r[1],l=r[2],u=r[3];let f=this.transitionsBetween(s,u)+1,h=this.transitionsBetween(l,u)+1;(f&1)===1&&(f+=1),(h&1)===1&&(h+=1),4*f<7*h&&4*h<7*f&&(f=h=Math.max(f,h));let g=ft.sampleGrid(this.image,s,o,l,u,f,h);return new $e(g,[s,o,l,u])}static shiftPoint(t,r,s){let o=(r.getX()-t.getX())/(s+1),l=(r.getY()-t.getY())/(s+1);return new ne(t.getX()+o,t.getY()+l)}static moveAway(t,r,s){let o=t.getX(),l=t.getY();return o<r?o-=1:o+=1,l<s?l-=1:l+=1,new ne(o,l)}detectSolid1(t){let r=t[0],s=t[1],o=t[3],l=t[2],u=this.transitionsBetween(r,s),f=this.transitionsBetween(s,o),h=this.transitionsBetween(o,l),g=this.transitionsBetween(l,r),p=u,C=[l,r,s,o];return p>f&&(p=f,C[0]=r,C[1]=s,C[2]=o,C[3]=l),p>h&&(p=h,C[0]=s,C[1]=o,C[2]=l,C[3]=r),p>g&&(C[0]=o,C[1]=l,C[2]=r,C[3]=s),C}detectSolid2(t){let r=t[0],s=t[1],o=t[2],l=t[3],u=this.transitionsBetween(r,l),f=ft.shiftPoint(s,o,(u+1)*4),h=ft.shiftPoint(o,s,(u+1)*4),g=this.transitionsBetween(f,r),p=this.transitionsBetween(h,l);return g<p?(t[0]=r,t[1]=s,t[2]=o,t[3]=l):(t[0]=s,t[1]=o,t[2]=l,t[3]=r),t}correctTopRight(t){let r=t[0],s=t[1],o=t[2],l=t[3],u=this.transitionsBetween(r,l),f=this.transitionsBetween(s,l),h=ft.shiftPoint(r,s,(f+1)*4),g=ft.shiftPoint(o,s,(u+1)*4);u=this.transitionsBetween(h,l),f=this.transitionsBetween(g,l);let p=new ne(l.getX()+(o.getX()-s.getX())/(u+1),l.getY()+(o.getY()-s.getY())/(u+1)),C=new ne(l.getX()+(r.getX()-s.getX())/(f+1),l.getY()+(r.getY()-s.getY())/(f+1));if(!this.isValid(p))return this.isValid(C)?C:null;if(!this.isValid(C))return p;let A=this.transitionsBetween(h,p)+this.transitionsBetween(g,p),N=this.transitionsBetween(h,C)+this.transitionsBetween(g,C);return A>N?p:C}shiftToModuleCenter(t){let r=t[0],s=t[1],o=t[2],l=t[3],u=this.transitionsBetween(r,l)+1,f=this.transitionsBetween(o,l)+1,h=ft.shiftPoint(r,s,f*4),g=ft.shiftPoint(o,s,u*4);u=this.transitionsBetween(h,l)+1,f=this.transitionsBetween(g,l)+1,(u&1)===1&&(u+=1),(f&1)===1&&(f+=1);let p=(r.getX()+s.getX()+o.getX()+l.getX())/4,C=(r.getY()+s.getY()+o.getY()+l.getY())/4;r=ft.moveAway(r,p,C),s=ft.moveAway(s,p,C),o=ft.moveAway(o,p,C),l=ft.moveAway(l,p,C);let A,N;return h=ft.shiftPoint(r,s,f*4),h=ft.shiftPoint(h,l,u*4),A=ft.shiftPoint(s,r,f*4),A=ft.shiftPoint(A,o,u*4),g=ft.shiftPoint(o,l,f*4),g=ft.shiftPoint(g,s,u*4),N=ft.shiftPoint(l,o,f*4),N=ft.shiftPoint(N,r,u*4),[h,A,g,N]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,r,s,o,l,u,f){return fr.getInstance().sampleGrid(t,u,f,.5,.5,u-.5,.5,u-.5,f-.5,.5,f-.5,r.getX(),r.getY(),l.getX(),l.getY(),o.getX(),o.getY(),s.getX(),s.getY())}transitionsBetween(t,r){let s=Math.trunc(t.getX()),o=Math.trunc(t.getY()),l=Math.trunc(r.getX()),u=Math.trunc(r.getY()),f=Math.abs(u-o)>Math.abs(l-s);if(f){let b=s;s=o,o=b,b=l,l=u,u=b}let h=Math.abs(l-s),g=Math.abs(u-o),p=-h/2,C=o<u?1:-1,A=s<l?1:-1,N=0,O=this.image.get(f?o:s,f?s:o);for(let b=s,B=o;b!==l;b+=A){let H=this.image.get(f?B:b,f?b:B);if(H!==O&&(N++,O=H),p+=g,p>0){if(B===u)break;B+=C,p-=h}}return N}}class gr{constructor(){this.decoder=new kh}decode(t,r=null){let s,o;if(r!=null&&r.has(q.PURE_BARCODE)){const g=gr.extractPureBits(t.getBlackMatrix());s=this.decoder.decode(g),o=gr.NO_POINTS}else{const g=new ft(t.getBlackMatrix()).detect();s=this.decoder.decode(g.getBits()),o=g.getPoints()}const l=s.getRawBytes(),u=new be(s.getText(),l,8*l.length,o,ae.DATA_MATRIX,P.currentTimeMillis()),f=s.getByteSegments();f!=null&&u.putMetadata(gt.BYTE_SEGMENTS,f);const h=s.getECLevel();return h!=null&&u.putMetadata(gt.ERROR_CORRECTION_LEVEL,h),u}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),s=t.getBottomRightOnBit();if(r==null||s==null)throw new W;const o=this.moduleSize(r,t);let l=r[1];const u=s[1];let f=r[0];const g=(s[0]-f+1)/o,p=(u-l+1)/o;if(g<=0||p<=0)throw new W;const C=o/2;l+=C,f+=C;const A=new Be(g,p);for(let N=0;N<p;N++){const O=l+N*o;for(let b=0;b<g;b++)t.get(f+b*o,O)&&A.set(b,N)}return A}static moduleSize(t,r){const s=r.getWidth();let o=t[0];const l=t[1];for(;o<s&&r.get(o,l);)o++;if(o===s)throw new W;const u=o-t[0];if(u===0)throw new W;return u}}gr.NO_POINTS=[];class Bh extends St{constructor(t=500){super(new gr,t)}}var pi;(function(E){E[E.L=0]="L",E[E.M=1]="M",E[E.Q=2]="Q",E[E.H=3]="H"})(pi||(pi={}));class Ye{constructor(t,r,s){this.value=t,this.stringValue=r,this.bits=s,Ye.FOR_BITS.set(s,this),Ye.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return Ye.L;case"M":return Ye.M;case"Q":return Ye.Q;case"H":return Ye.H;default:throw new v(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof Ye))return!1;const r=t;return this.value===r.value}static forBits(t){if(t<0||t>=Ye.FOR_BITS.size)throw new T;return Ye.FOR_BITS.get(t)}}Ye.FOR_BITS=new Map,Ye.FOR_VALUE=new Map,Ye.L=new Ye(pi.L,"L",1),Ye.M=new Ye(pi.M,"M",0),Ye.Q=new Ye(pi.Q,"Q",3),Ye.H=new Ye(pi.H,"H",2);class Pt{constructor(t){this.errorCorrectionLevel=Ye.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,r){return R.bitCount(t^r)}static decodeFormatInformation(t,r){const s=Pt.doDecodeFormatInformation(t,r);return s!==null?s:Pt.doDecodeFormatInformation(t^Pt.FORMAT_INFO_MASK_QR,r^Pt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,r){let s=Number.MAX_SAFE_INTEGER,o=0;for(const l of Pt.FORMAT_INFO_DECODE_LOOKUP){const u=l[0];if(u===t||u===r)return new Pt(l[1]);let f=Pt.numBitsDiffering(t,u);f<s&&(o=l[1],s=f),t!==r&&(f=Pt.numBitsDiffering(r,u),f<s&&(o=l[1],s=f))}return s<=3?new Pt(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof Pt))return!1;const r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}Pt.FORMAT_INFO_MASK_QR=21522,Pt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class L{constructor(t,...r){this.ecCodewordsPerBlock=t,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const r=this.ecBlocks;for(const s of r)t+=s.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class I{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class fe{constructor(t,r,...s){this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=s;let o=0;const l=s[0].getECCodewordsPerBlock(),u=s[0].getECBlocks();for(const f of u)o+=f.getCount()*(f.getDataCodewords()+l);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new F;try{return this.getVersionForNumber((t-17)/4)}catch{throw new F}}static getVersionForNumber(t){if(t<1||t>40)throw new T;return fe.VERSIONS[t-1]}static decodeVersionInformation(t){let r=Number.MAX_SAFE_INTEGER,s=0;for(let o=0;o<fe.VERSION_DECODE_INFO.length;o++){const l=fe.VERSION_DECODE_INFO[o];if(l===t)return fe.getVersionForNumber(o+7);const u=Pt.numBitsDiffering(t,l);u<r&&(s=o+7,r=u)}return r<=3?fe.getVersionForNumber(s):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),r=new Be(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);const s=this.alignmentPatternCenters.length;for(let o=0;o<s;o++){const l=this.alignmentPatternCenters[o]-2;for(let u=0;u<s;u++)o===0&&(u===0||u===s-1)||o===s-1&&u===0||r.setRegion(this.alignmentPatternCenters[u]-2,l,5,5)}return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r}toString(){return""+this.versionNumber}}fe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),fe.VERSIONS=[new fe(1,new Int32Array(0),new L(7,new I(1,19)),new L(10,new I(1,16)),new L(13,new I(1,13)),new L(17,new I(1,9))),new fe(2,Int32Array.from([6,18]),new L(10,new I(1,34)),new L(16,new I(1,28)),new L(22,new I(1,22)),new L(28,new I(1,16))),new fe(3,Int32Array.from([6,22]),new L(15,new I(1,55)),new L(26,new I(1,44)),new L(18,new I(2,17)),new L(22,new I(2,13))),new fe(4,Int32Array.from([6,26]),new L(20,new I(1,80)),new L(18,new I(2,32)),new L(26,new I(2,24)),new L(16,new I(4,9))),new fe(5,Int32Array.from([6,30]),new L(26,new I(1,108)),new L(24,new I(2,43)),new L(18,new I(2,15),new I(2,16)),new L(22,new I(2,11),new I(2,12))),new fe(6,Int32Array.from([6,34]),new L(18,new I(2,68)),new L(16,new I(4,27)),new L(24,new I(4,19)),new L(28,new I(4,15))),new fe(7,Int32Array.from([6,22,38]),new L(20,new I(2,78)),new L(18,new I(4,31)),new L(18,new I(2,14),new I(4,15)),new L(26,new I(4,13),new I(1,14))),new fe(8,Int32Array.from([6,24,42]),new L(24,new I(2,97)),new L(22,new I(2,38),new I(2,39)),new L(22,new I(4,18),new I(2,19)),new L(26,new I(4,14),new I(2,15))),new fe(9,Int32Array.from([6,26,46]),new L(30,new I(2,116)),new L(22,new I(3,36),new I(2,37)),new L(20,new I(4,16),new I(4,17)),new L(24,new I(4,12),new I(4,13))),new fe(10,Int32Array.from([6,28,50]),new L(18,new I(2,68),new I(2,69)),new L(26,new I(4,43),new I(1,44)),new L(24,new I(6,19),new I(2,20)),new L(28,new I(6,15),new I(2,16))),new fe(11,Int32Array.from([6,30,54]),new L(20,new I(4,81)),new L(30,new I(1,50),new I(4,51)),new L(28,new I(4,22),new I(4,23)),new L(24,new I(3,12),new I(8,13))),new fe(12,Int32Array.from([6,32,58]),new L(24,new I(2,92),new I(2,93)),new L(22,new I(6,36),new I(2,37)),new L(26,new I(4,20),new I(6,21)),new L(28,new I(7,14),new I(4,15))),new fe(13,Int32Array.from([6,34,62]),new L(26,new I(4,107)),new L(22,new I(8,37),new I(1,38)),new L(24,new I(8,20),new I(4,21)),new L(22,new I(12,11),new I(4,12))),new fe(14,Int32Array.from([6,26,46,66]),new L(30,new I(3,115),new I(1,116)),new L(24,new I(4,40),new I(5,41)),new L(20,new I(11,16),new I(5,17)),new L(24,new I(11,12),new I(5,13))),new fe(15,Int32Array.from([6,26,48,70]),new L(22,new I(5,87),new I(1,88)),new L(24,new I(5,41),new I(5,42)),new L(30,new I(5,24),new I(7,25)),new L(24,new I(11,12),new I(7,13))),new fe(16,Int32Array.from([6,26,50,74]),new L(24,new I(5,98),new I(1,99)),new L(28,new I(7,45),new I(3,46)),new L(24,new I(15,19),new I(2,20)),new L(30,new I(3,15),new I(13,16))),new fe(17,Int32Array.from([6,30,54,78]),new L(28,new I(1,107),new I(5,108)),new L(28,new I(10,46),new I(1,47)),new L(28,new I(1,22),new I(15,23)),new L(28,new I(2,14),new I(17,15))),new fe(18,Int32Array.from([6,30,56,82]),new L(30,new I(5,120),new I(1,121)),new L(26,new I(9,43),new I(4,44)),new L(28,new I(17,22),new I(1,23)),new L(28,new I(2,14),new I(19,15))),new fe(19,Int32Array.from([6,30,58,86]),new L(28,new I(3,113),new I(4,114)),new L(26,new I(3,44),new I(11,45)),new L(26,new I(17,21),new I(4,22)),new L(26,new I(9,13),new I(16,14))),new fe(20,Int32Array.from([6,34,62,90]),new L(28,new I(3,107),new I(5,108)),new L(26,new I(3,41),new I(13,42)),new L(30,new I(15,24),new I(5,25)),new L(28,new I(15,15),new I(10,16))),new fe(21,Int32Array.from([6,28,50,72,94]),new L(28,new I(4,116),new I(4,117)),new L(26,new I(17,42)),new L(28,new I(17,22),new I(6,23)),new L(30,new I(19,16),new I(6,17))),new fe(22,Int32Array.from([6,26,50,74,98]),new L(28,new I(2,111),new I(7,112)),new L(28,new I(17,46)),new L(30,new I(7,24),new I(16,25)),new L(24,new I(34,13))),new fe(23,Int32Array.from([6,30,54,78,102]),new L(30,new I(4,121),new I(5,122)),new L(28,new I(4,47),new I(14,48)),new L(30,new I(11,24),new I(14,25)),new L(30,new I(16,15),new I(14,16))),new fe(24,Int32Array.from([6,28,54,80,106]),new L(30,new I(6,117),new I(4,118)),new L(28,new I(6,45),new I(14,46)),new L(30,new I(11,24),new I(16,25)),new L(30,new I(30,16),new I(2,17))),new fe(25,Int32Array.from([6,32,58,84,110]),new L(26,new I(8,106),new I(4,107)),new L(28,new I(8,47),new I(13,48)),new L(30,new I(7,24),new I(22,25)),new L(30,new I(22,15),new I(13,16))),new fe(26,Int32Array.from([6,30,58,86,114]),new L(28,new I(10,114),new I(2,115)),new L(28,new I(19,46),new I(4,47)),new L(28,new I(28,22),new I(6,23)),new L(30,new I(33,16),new I(4,17))),new fe(27,Int32Array.from([6,34,62,90,118]),new L(30,new I(8,122),new I(4,123)),new L(28,new I(22,45),new I(3,46)),new L(30,new I(8,23),new I(26,24)),new L(30,new I(12,15),new I(28,16))),new fe(28,Int32Array.from([6,26,50,74,98,122]),new L(30,new I(3,117),new I(10,118)),new L(28,new I(3,45),new I(23,46)),new L(30,new I(4,24),new I(31,25)),new L(30,new I(11,15),new I(31,16))),new fe(29,Int32Array.from([6,30,54,78,102,126]),new L(30,new I(7,116),new I(7,117)),new L(28,new I(21,45),new I(7,46)),new L(30,new I(1,23),new I(37,24)),new L(30,new I(19,15),new I(26,16))),new fe(30,Int32Array.from([6,26,52,78,104,130]),new L(30,new I(5,115),new I(10,116)),new L(28,new I(19,47),new I(10,48)),new L(30,new I(15,24),new I(25,25)),new L(30,new I(23,15),new I(25,16))),new fe(31,Int32Array.from([6,30,56,82,108,134]),new L(30,new I(13,115),new I(3,116)),new L(28,new I(2,46),new I(29,47)),new L(30,new I(42,24),new I(1,25)),new L(30,new I(23,15),new I(28,16))),new fe(32,Int32Array.from([6,34,60,86,112,138]),new L(30,new I(17,115)),new L(28,new I(10,46),new I(23,47)),new L(30,new I(10,24),new I(35,25)),new L(30,new I(19,15),new I(35,16))),new fe(33,Int32Array.from([6,30,58,86,114,142]),new L(30,new I(17,115),new I(1,116)),new L(28,new I(14,46),new I(21,47)),new L(30,new I(29,24),new I(19,25)),new L(30,new I(11,15),new I(46,16))),new fe(34,Int32Array.from([6,34,62,90,118,146]),new L(30,new I(13,115),new I(6,116)),new L(28,new I(14,46),new I(23,47)),new L(30,new I(44,24),new I(7,25)),new L(30,new I(59,16),new I(1,17))),new fe(35,Int32Array.from([6,30,54,78,102,126,150]),new L(30,new I(12,121),new I(7,122)),new L(28,new I(12,47),new I(26,48)),new L(30,new I(39,24),new I(14,25)),new L(30,new I(22,15),new I(41,16))),new fe(36,Int32Array.from([6,24,50,76,102,128,154]),new L(30,new I(6,121),new I(14,122)),new L(28,new I(6,47),new I(34,48)),new L(30,new I(46,24),new I(10,25)),new L(30,new I(2,15),new I(64,16))),new fe(37,Int32Array.from([6,28,54,80,106,132,158]),new L(30,new I(17,122),new I(4,123)),new L(28,new I(29,46),new I(14,47)),new L(30,new I(49,24),new I(10,25)),new L(30,new I(24,15),new I(46,16))),new fe(38,Int32Array.from([6,32,58,84,110,136,162]),new L(30,new I(4,122),new I(18,123)),new L(28,new I(13,46),new I(32,47)),new L(30,new I(48,24),new I(14,25)),new L(30,new I(42,15),new I(32,16))),new fe(39,Int32Array.from([6,26,54,82,110,138,166]),new L(30,new I(20,117),new I(4,118)),new L(28,new I(40,47),new I(7,48)),new L(30,new I(43,24),new I(22,25)),new L(30,new I(10,15),new I(67,16))),new fe(40,Int32Array.from([6,30,58,86,114,142,170]),new L(30,new I(19,118),new I(6,119)),new L(28,new I(18,47),new I(31,48)),new L(30,new I(34,24),new I(34,25)),new L(30,new I(20,15),new I(61,16)))];var vt;(function(E){E[E.DATA_MASK_000=0]="DATA_MASK_000",E[E.DATA_MASK_001=1]="DATA_MASK_001",E[E.DATA_MASK_010=2]="DATA_MASK_010",E[E.DATA_MASK_011=3]="DATA_MASK_011",E[E.DATA_MASK_100=4]="DATA_MASK_100",E[E.DATA_MASK_101=5]="DATA_MASK_101",E[E.DATA_MASK_110=6]="DATA_MASK_110",E[E.DATA_MASK_111=7]="DATA_MASK_111"})(vt||(vt={}));class wn{constructor(t,r){this.value=t,this.isMasked=r}unmaskBitMatrix(t,r){for(let s=0;s<r;s++)for(let o=0;o<r;o++)this.isMasked(s,o)&&t.flip(o,s)}}wn.values=new Map([[vt.DATA_MASK_000,new wn(vt.DATA_MASK_000,(E,t)=>(E+t&1)===0)],[vt.DATA_MASK_001,new wn(vt.DATA_MASK_001,(E,t)=>(E&1)===0)],[vt.DATA_MASK_010,new wn(vt.DATA_MASK_010,(E,t)=>t%3===0)],[vt.DATA_MASK_011,new wn(vt.DATA_MASK_011,(E,t)=>(E+t)%3===0)],[vt.DATA_MASK_100,new wn(vt.DATA_MASK_100,(E,t)=>(Math.floor(E/2)+Math.floor(t/3)&1)===0)],[vt.DATA_MASK_101,new wn(vt.DATA_MASK_101,(E,t)=>E*t%6===0)],[vt.DATA_MASK_110,new wn(vt.DATA_MASK_110,(E,t)=>E*t%6<3)],[vt.DATA_MASK_111,new wn(vt.DATA_MASK_111,(E,t)=>(E+t+E*t%3&1)===0)]]);class Ph{constructor(t){const r=t.getHeight();if(r<21||(r&3)!==1)throw new F;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let l=0;l<6;l++)t=this.copyBit(l,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let l=5;l>=0;l--)t=this.copyBit(8,l,t);const r=this.bitMatrix.getHeight();let s=0;const o=r-7;for(let l=r-1;l>=o;l--)s=this.copyBit(8,l,s);for(let l=r-8;l<r;l++)s=this.copyBit(l,8,s);if(this.parsedFormatInfo=Pt.decodeFormatInformation(t,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return fe.getVersionForNumber(r);let s=0;const o=t-11;for(let u=5;u>=0;u--)for(let f=t-9;f>=o;f--)s=this.copyBit(f,u,s);let l=fe.decodeVersionInformation(s);if(l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;s=0;for(let u=5;u>=0;u--)for(let f=t-9;f>=o;f--)s=this.copyBit(u,f,s);if(l=fe.decodeVersionInformation(s),l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;throw new F}copyBit(t,r,s){return(this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r))?s<<1|1:s<<1}readCodewords(){const t=this.readFormatInformation(),r=this.readVersion(),s=wn.values.get(t.getDataMask()),o=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,o);const l=r.buildFunctionPattern();let u=!0;const f=new Uint8Array(r.getTotalCodewords());let h=0,g=0,p=0;for(let C=o-1;C>0;C-=2){C===6&&C--;for(let A=0;A<o;A++){const N=u?o-1-A:A;for(let O=0;O<2;O++)l.get(C-O,N)||(p++,g<<=1,this.bitMatrix.get(C-O,N)&&(g|=1),p===8&&(f[h++]=g,p=0,g=0))}u=!u}if(h!==r.getTotalCodewords())throw new F;return f}remask(){if(this.parsedFormatInfo===null)return;const t=wn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let r=0,s=t.getWidth();r<s;r++)for(let o=r+1,l=t.getHeight();o<l;o++)t.get(r,o)!==t.get(o,r)&&(t.flip(o,r),t.flip(r,o))}}class $l{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r,s){if(t.length!==r.getTotalCodewords())throw new T;const o=r.getECBlocksForLevel(s);let l=0;const u=o.getECBlocks();for(const O of u)l+=O.getCount();const f=new Array(l);let h=0;for(const O of u)for(let b=0;b<O.getCount();b++){const B=O.getDataCodewords(),H=o.getECCodewordsPerBlock()+B;f[h++]=new $l(B,new Uint8Array(H))}const g=f[0].codewords.length;let p=f.length-1;for(;p>=0&&f[p].codewords.length!==g;)p--;p++;const C=g-o.getECCodewordsPerBlock();let A=0;for(let O=0;O<C;O++)for(let b=0;b<h;b++)f[b].codewords[O]=t[A++];for(let O=p;O<h;O++)f[O].codewords[C]=t[A++];const N=f[0].codewords.length;for(let O=C;O<N;O++)for(let b=0;b<h;b++){const B=b<p?O:O+1;f[b].codewords[B]=t[A++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var yn;(function(E){E[E.TERMINATOR=0]="TERMINATOR",E[E.NUMERIC=1]="NUMERIC",E[E.ALPHANUMERIC=2]="ALPHANUMERIC",E[E.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",E[E.BYTE=4]="BYTE",E[E.ECI=5]="ECI",E[E.KANJI=6]="KANJI",E[E.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",E[E.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",E[E.HANZI=9]="HANZI"})(yn||(yn={}));class de{constructor(t,r,s,o){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=s,this.bits=o,de.FOR_BITS.set(o,this),de.FOR_VALUE.set(t,this)}static forBits(t){const r=de.FOR_BITS.get(t);if(r===void 0)throw new T;return r}getCharacterCountBits(t){const r=t.getVersionNumber();let s;return r<=9?s=0:r<=26?s=1:s=2,this.characterCountBitsForVersions[s]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof de))return!1;const r=t;return this.value===r.value}toString(){return this.stringValue}}de.FOR_BITS=new Map,de.FOR_VALUE=new Map,de.TERMINATOR=new de(yn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),de.NUMERIC=new de(yn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),de.ALPHANUMERIC=new de(yn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),de.STRUCTURED_APPEND=new de(yn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),de.BYTE=new de(yn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),de.ECI=new de(yn.ECI,"ECI",Int32Array.from([0,0,0]),7),de.KANJI=new de(yn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),de.FNC1_FIRST_POSITION=new de(yn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),de.FNC1_SECOND_POSITION=new de(yn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),de.HANZI=new de(yn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class nt{static decode(t,r,s,o){const l=new Jl(t);let u=new ye;const f=new Array;let h=-1,g=-1;try{let p=null,C=!1,A;do{if(l.available()<4)A=de.TERMINATOR;else{const N=l.readBits(4);A=de.forBits(N)}switch(A){case de.TERMINATOR:break;case de.FNC1_FIRST_POSITION:case de.FNC1_SECOND_POSITION:C=!0;break;case de.STRUCTURED_APPEND:if(l.available()<16)throw new F;h=l.readBits(8),g=l.readBits(8);break;case de.ECI:const N=nt.parseECIValue(l);if(p=G.getCharacterSetECIByValue(N),p===null)throw new F;break;case de.HANZI:const O=l.readBits(4),b=l.readBits(A.getCharacterCountBits(r));O===nt.GB2312_SUBSET&&nt.decodeHanziSegment(l,u,b);break;default:const B=l.readBits(A.getCharacterCountBits(r));switch(A){case de.NUMERIC:nt.decodeNumericSegment(l,u,B);break;case de.ALPHANUMERIC:nt.decodeAlphanumericSegment(l,u,B,C);break;case de.BYTE:nt.decodeByteSegment(l,u,B,p,f,o);break;case de.KANJI:nt.decodeKanjiSegment(l,u,B);break;default:throw new F}break}}while(A!==de.TERMINATOR)}catch{throw new F}return new Fr(t,u.toString(),f.length===0?null:f,s===null?null:s.toString(),h,g)}static decodeHanziSegment(t,r,s){if(s*13>t.available())throw new F;const o=new Uint8Array(2*s);let l=0;for(;s>0;){const u=t.readBits(13);let f=u/96<<8&4294967295|u%96;f<959?f+=41377:f+=42657,o[l]=f>>8&255,o[l+1]=f&255,l+=2,s--}try{r.append(Pe.decode(o,ue.GB2312))}catch(u){throw new F(u)}}static decodeKanjiSegment(t,r,s){if(s*13>t.available())throw new F;const o=new Uint8Array(2*s);let l=0;for(;s>0;){const u=t.readBits(13);let f=u/192<<8&4294967295|u%192;f<7936?f+=33088:f+=49472,o[l]=f>>8,o[l+1]=f,l+=2,s--}try{r.append(Pe.decode(o,ue.SHIFT_JIS))}catch(u){throw new F(u)}}static decodeByteSegment(t,r,s,o,l,u){if(8*s>t.available())throw new F;const f=new Uint8Array(s);for(let g=0;g<s;g++)f[g]=t.readBits(8);let h;o===null?h=ue.guessEncoding(f,u):h=o.getName();try{r.append(Pe.decode(f,h))}catch(g){throw new F(g)}l.push(f)}static toAlphaNumericChar(t){if(t>=nt.ALPHANUMERIC_CHARS.length)throw new F;return nt.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,r,s,o){const l=r.length();for(;s>1;){if(t.available()<11)throw new F;const u=t.readBits(11);r.append(nt.toAlphaNumericChar(Math.floor(u/45))),r.append(nt.toAlphaNumericChar(u%45)),s-=2}if(s===1){if(t.available()<6)throw new F;r.append(nt.toAlphaNumericChar(t.readBits(6)))}if(o)for(let u=l;u<r.length();u++)r.charAt(u)==="%"&&(u<r.length()-1&&r.charAt(u+1)==="%"?r.deleteCharAt(u+1):r.setCharAt(u,""))}static decodeNumericSegment(t,r,s){for(;s>=3;){if(t.available()<10)throw new F;const o=t.readBits(10);if(o>=1e3)throw new F;r.append(nt.toAlphaNumericChar(Math.floor(o/100))),r.append(nt.toAlphaNumericChar(Math.floor(o/10)%10)),r.append(nt.toAlphaNumericChar(o%10)),s-=3}if(s===2){if(t.available()<7)throw new F;const o=t.readBits(7);if(o>=100)throw new F;r.append(nt.toAlphaNumericChar(Math.floor(o/10))),r.append(nt.toAlphaNumericChar(o%10))}else if(s===1){if(t.available()<4)throw new F;const o=t.readBits(4);if(o>=10)throw new F;r.append(nt.toAlphaNumericChar(o))}}static parseECIValue(t){const r=t.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const s=t.readBits(8);return(r&63)<<8&4294967295|s}if((r&224)===192){const s=t.readBits(16);return(r&31)<<16&4294967295|s}throw new F}}nt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",nt.GB2312_SUBSET=1;class Gc{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const r=t[0];t[0]=t[2],t[2]=r}}class Lh{constructor(){this.rsDecoder=new cr(De.QR_CODE_FIELD_256)}decodeBooleanArray(t,r){return this.decodeBitMatrix(Be.parseFromBooleanArray(t),r)}decodeBitMatrix(t,r){const s=new Ph(t);let o=null;try{return this.decodeBitMatrixParser(s,r)}catch(l){o=l}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();const l=this.decodeBitMatrixParser(s,r);return l.setOther(new Gc(!0)),l}catch(l){throw o!==null?o:l}}decodeBitMatrixParser(t,r){const s=t.readVersion(),o=t.readFormatInformation().getErrorCorrectionLevel(),l=t.readCodewords(),u=$l.getDataBlocks(l,s,o);let f=0;for(const p of u)f+=p.getNumDataCodewords();const h=new Uint8Array(f);let g=0;for(const p of u){const C=p.getCodewords(),A=p.getNumDataCodewords();this.correctErrors(C,A);for(let N=0;N<A;N++)h[g++]=C[N]}return nt.decode(h,s,o,r)}correctErrors(t,r){const s=new Int32Array(t);try{this.rsDecoder.decode(s,t.length-r)}catch{throw new U}for(let o=0;o<r;o++)t[o]=s[o]}}class ea extends ne{constructor(t,r,s){super(t,r),this.estimatedModuleSize=s}aboutEquals(t,r,s){if(Math.abs(r-this.getY())<=t&&Math.abs(s-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,r,s){const o=(this.getX()+r)/2,l=(this.getY()+t)/2,u=(this.estimatedModuleSize+s)/2;return new ea(o,l,u)}}class uo{constructor(t,r,s,o,l,u,f){this.image=t,this.startX=r,this.startY=s,this.width=o,this.height=l,this.moduleSize=u,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,r=this.height,s=this.width,o=t+s,l=this.startY+r/2,u=new Int32Array(3),f=this.image;for(let h=0;h<r;h++){const g=l+(h&1?-Math.floor((h+1)/2):Math.floor((h+1)/2));u[0]=0,u[1]=0,u[2]=0;let p=t;for(;p<o&&!f.get(p,g);)p++;let C=0;for(;p<o;){if(f.get(p,g))if(C===1)u[1]++;else if(C===2){if(this.foundPatternCross(u)){const A=this.handlePossibleCenter(u,g,p);if(A!==null)return A}u[0]=u[2],u[1]=1,u[2]=0,C=1}else u[++C]++;else C===1&&C++,u[C]++;p++}if(this.foundPatternCross(u)){const A=this.handlePossibleCenter(u,g,o);if(A!==null)return A}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new W}static centerFromEnd(t,r){return r-t[2]-t[1]/2}foundPatternCross(t){const r=this.moduleSize,s=r/2;for(let o=0;o<3;o++)if(Math.abs(r-t[o])>=s)return!1;return!0}crossCheckVertical(t,r,s,o){const l=this.image,u=l.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let h=t;for(;h>=0&&l.get(r,h)&&f[1]<=s;)f[1]++,h--;if(h<0||f[1]>s)return NaN;for(;h>=0&&!l.get(r,h)&&f[0]<=s;)f[0]++,h--;if(f[0]>s)return NaN;for(h=t+1;h<u&&l.get(r,h)&&f[1]<=s;)f[1]++,h++;if(h===u||f[1]>s)return NaN;for(;h<u&&!l.get(r,h)&&f[2]<=s;)f[2]++,h++;if(f[2]>s)return NaN;const g=f[0]+f[1]+f[2];return 5*Math.abs(g-o)>=2*o?NaN:this.foundPatternCross(f)?uo.centerFromEnd(f,h):NaN}handlePossibleCenter(t,r,s){const o=t[0]+t[1]+t[2],l=uo.centerFromEnd(t,s),u=this.crossCheckVertical(r,l,2*t[1],o);if(!isNaN(u)){const f=(t[0]+t[1]+t[2])/3;for(const g of this.possibleCenters)if(g.aboutEquals(f,u,l))return g.combineEstimate(u,l,f);const h=new ea(l,u,f);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class ta extends ne{constructor(t,r,s,o){super(t,r),this.estimatedModuleSize=s,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,r,s){if(Math.abs(r-this.getY())<=t&&Math.abs(s-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,r,s){const o=this.count+1,l=(this.count*this.getX()+r)/o,u=(this.count*this.getY()+t)/o,f=(this.count*this.estimatedModuleSize+s)/o;return new ta(l,u,f,o)}}class Fh{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class It{constructor(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const r=t!=null&&t.get(q.TRY_HARDER)!==void 0,s=t!=null&&t.get(q.PURE_BARCODE)!==void 0,o=this.image,l=o.getHeight(),u=o.getWidth();let f=Math.floor(3*l/(4*It.MAX_MODULES));(f<It.MIN_SKIP||r)&&(f=It.MIN_SKIP);let h=!1;const g=new Int32Array(5);for(let C=f-1;C<l&&!h;C+=f){g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0;let A=0;for(let N=0;N<u;N++)if(o.get(N,C))(A&1)===1&&A++,g[A]++;else if(A&1)g[A]++;else if(A===4)if(It.foundPatternCross(g)){if(this.handlePossibleCenter(g,C,N,s)===!0)if(f=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const b=this.findRowSkip();b>g[2]&&(C+=b-g[2]-f,N=u-1)}else{g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,A=3;continue}A=0,g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0}else g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,A=3;else g[++A]++;It.foundPatternCross(g)&&this.handlePossibleCenter(g,C,u,s)===!0&&(f=g[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const p=this.selectBestPatterns();return ne.orderBestPatterns(p),new Fh(p)}static centerFromEnd(t,r){return r-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let r=0;for(let l=0;l<5;l++){const u=t[l];if(u===0)return!1;r+=u}if(r<7)return!1;const s=r/7,o=s/2;return Math.abs(s-t[0])<o&&Math.abs(s-t[1])<o&&Math.abs(3*s-t[2])<3*o&&Math.abs(s-t[3])<o&&Math.abs(s-t[4])<o}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,r,s,o){const l=this.getCrossCheckStateCount();let u=0;const f=this.image;for(;t>=u&&r>=u&&f.get(r-u,t-u);)l[2]++,u++;if(t<u||r<u)return!1;for(;t>=u&&r>=u&&!f.get(r-u,t-u)&&l[1]<=s;)l[1]++,u++;if(t<u||r<u||l[1]>s)return!1;for(;t>=u&&r>=u&&f.get(r-u,t-u)&&l[0]<=s;)l[0]++,u++;if(l[0]>s)return!1;const h=f.getHeight(),g=f.getWidth();for(u=1;t+u<h&&r+u<g&&f.get(r+u,t+u);)l[2]++,u++;if(t+u>=h||r+u>=g)return!1;for(;t+u<h&&r+u<g&&!f.get(r+u,t+u)&&l[3]<s;)l[3]++,u++;if(t+u>=h||r+u>=g||l[3]>=s)return!1;for(;t+u<h&&r+u<g&&f.get(r+u,t+u)&&l[4]<s;)l[4]++,u++;if(l[4]>=s)return!1;const p=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(p-o)<2*o&&It.foundPatternCross(l)}crossCheckVertical(t,r,s,o){const l=this.image,u=l.getHeight(),f=this.getCrossCheckStateCount();let h=t;for(;h>=0&&l.get(r,h);)f[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(r,h)&&f[1]<=s;)f[1]++,h--;if(h<0||f[1]>s)return NaN;for(;h>=0&&l.get(r,h)&&f[0]<=s;)f[0]++,h--;if(f[0]>s)return NaN;for(h=t+1;h<u&&l.get(r,h);)f[2]++,h++;if(h===u)return NaN;for(;h<u&&!l.get(r,h)&&f[3]<s;)f[3]++,h++;if(h===u||f[3]>=s)return NaN;for(;h<u&&l.get(r,h)&&f[4]<s;)f[4]++,h++;if(f[4]>=s)return NaN;const g=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(g-o)>=2*o?NaN:It.foundPatternCross(f)?It.centerFromEnd(f,h):NaN}crossCheckHorizontal(t,r,s,o){const l=this.image,u=l.getWidth(),f=this.getCrossCheckStateCount();let h=t;for(;h>=0&&l.get(h,r);)f[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(h,r)&&f[1]<=s;)f[1]++,h--;if(h<0||f[1]>s)return NaN;for(;h>=0&&l.get(h,r)&&f[0]<=s;)f[0]++,h--;if(f[0]>s)return NaN;for(h=t+1;h<u&&l.get(h,r);)f[2]++,h++;if(h===u)return NaN;for(;h<u&&!l.get(h,r)&&f[3]<s;)f[3]++,h++;if(h===u||f[3]>=s)return NaN;for(;h<u&&l.get(h,r)&&f[4]<s;)f[4]++,h++;if(f[4]>=s)return NaN;const g=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(g-o)>=o?NaN:It.foundPatternCross(f)?It.centerFromEnd(f,h):NaN}handlePossibleCenter(t,r,s,o){const l=t[0]+t[1]+t[2]+t[3]+t[4];let u=It.centerFromEnd(t,s),f=this.crossCheckVertical(r,Math.floor(u),t[2],l);if(!isNaN(f)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(f),t[2],l),!isNaN(u)&&(!o||this.crossCheckDiagonal(Math.floor(f),Math.floor(u),t[2],l)))){const h=l/7;let g=!1;const p=this.possibleCenters;for(let C=0,A=p.length;C<A;C++){const N=p[C];if(N.aboutEquals(h,f,u)){p[C]=N.combineEstimate(f,u,h),g=!0;break}}if(!g){const C=new ta(u,f,h);p.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const s of this.possibleCenters)if(s.getCount()>=It.CENTER_QUORUM)if(r==null)r=s;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-s.getX())-Math.abs(r.getY()-s.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,r=0;const s=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=It.CENTER_QUORUM&&(t++,r+=u.getEstimatedModuleSize());if(t<3)return!1;const o=r/s;let l=0;for(const u of this.possibleCenters)l+=Math.abs(u.getEstimatedModuleSize()-o);return l<=.05*r}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new W;const r=this.possibleCenters;let s;if(t>3){let o=0,l=0;for(const h of this.possibleCenters){const g=h.getEstimatedModuleSize();o+=g,l+=g*g}s=o/t;let u=Math.sqrt(l/t-s*s);r.sort((h,g)=>{const p=Math.abs(g.getEstimatedModuleSize()-s),C=Math.abs(h.getEstimatedModuleSize()-s);return p<C?-1:p>C?1:0});const f=Math.max(.2*s,u);for(let h=0;h<r.length&&r.length>3;h++){const g=r[h];Math.abs(g.getEstimatedModuleSize()-s)>f&&(r.splice(h,1),h--)}}if(r.length>3){let o=0;for(const l of r)o+=l.getEstimatedModuleSize();s=o/r.length,r.sort((l,u)=>{if(u.getCount()===l.getCount()){const f=Math.abs(u.getEstimatedModuleSize()-s),h=Math.abs(l.getEstimatedModuleSize()-s);return f<h?1:f>h?-1:0}else return u.getCount()-l.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}It.CENTER_QUORUM=2,It.MIN_SKIP=3,It.MAX_MODULES=57;class ns{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(q.NEED_RESULT_POINT_CALLBACK);const s=new It(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(s)}processFinderPatternInfo(t){const r=t.getTopLeft(),s=t.getTopRight(),o=t.getBottomLeft(),l=this.calculateModuleSize(r,s,o);if(l<1)throw new W("No pattern found in proccess finder.");const u=ns.computeDimension(r,s,o,l),f=fe.getProvisionalVersionForDimension(u),h=f.getDimensionForVersion()-7;let g=null;if(f.getAlignmentPatternCenters().length>0){const N=s.getX()-r.getX()+o.getX(),O=s.getY()-r.getY()+o.getY(),b=1-3/h,B=Math.floor(r.getX()+b*(N-r.getX())),H=Math.floor(r.getY()+b*(O-r.getY()));for(let J=4;J<=16;J<<=1)try{g=this.findAlignmentInRegion(l,B,H,J);break}catch($){if(!($ instanceof W))throw $}}const p=ns.createTransform(r,s,o,g,u),C=ns.sampleGrid(this.image,p,u);let A;return g===null?A=[o,r,s]:A=[o,r,s,g],new $e(C,A)}static createTransform(t,r,s,o,l){const u=l-3.5;let f,h,g,p;return o!==null?(f=o.getX(),h=o.getY(),g=u-3,p=g):(f=r.getX()-t.getX()+s.getX(),h=r.getY()-t.getY()+s.getY(),g=u,p=u),_n.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,g,p,3.5,u,t.getX(),t.getY(),r.getX(),r.getY(),f,h,s.getX(),s.getY())}static sampleGrid(t,r,s){return fr.getInstance().sampleGridWithTransform(t,s,s,r)}static computeDimension(t,r,s,o){const l=Y.round(ne.distance(t,r)/o),u=Y.round(ne.distance(t,s)/o);let f=Math.floor((l+u)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new W("Dimensions could be not found.")}return f}calculateModuleSize(t,r,s){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,s))/2}calculateModuleSizeOneWay(t,r){const s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(s)?o/7:isNaN(o)?s/7:(s+o)/14}sizeOfBlackWhiteBlackRunBothWays(t,r,s,o){let l=this.sizeOfBlackWhiteBlackRun(t,r,s,o),u=1,f=t-(s-t);f<0?(u=t/(t-f),f=0):f>=this.image.getWidth()&&(u=(this.image.getWidth()-1-t)/(f-t),f=this.image.getWidth()-1);let h=Math.floor(r-(o-r)*u);return u=1,h<0?(u=r/(r-h),h=0):h>=this.image.getHeight()&&(u=(this.image.getHeight()-1-r)/(h-r),h=this.image.getHeight()-1),f=Math.floor(t+(f-t)*u),l+=this.sizeOfBlackWhiteBlackRun(t,r,f,h),l-1}sizeOfBlackWhiteBlackRun(t,r,s,o){const l=Math.abs(o-r)>Math.abs(s-t);if(l){let N=t;t=r,r=N,N=s,s=o,o=N}const u=Math.abs(s-t),f=Math.abs(o-r);let h=-u/2;const g=t<s?1:-1,p=r<o?1:-1;let C=0;const A=s+g;for(let N=t,O=r;N!==A;N+=g){const b=l?O:N,B=l?N:O;if(C===1===this.image.get(b,B)){if(C===2)return Y.distance(N,O,t,r);C++}if(h+=f,h>0){if(O===o)break;O+=p,h-=u}}return C===2?Y.distance(s+g,o,t,r):NaN}findAlignmentInRegion(t,r,s,o){const l=Math.floor(o*t),u=Math.max(0,r-l),f=Math.min(this.image.getWidth()-1,r+l);if(f-u<t*3)throw new W("Alignment top exceeds estimated module size.");const h=Math.max(0,s-l),g=Math.min(this.image.getHeight()-1,s+l);if(g-h<t*3)throw new W("Alignment bottom exceeds estimated module size.");return new uo(this.image,u,h,f-u,g-h,t,this.resultPointCallback).find()}}class xr{constructor(){this.decoder=new Lh}getDecoder(){return this.decoder}decode(t,r){let s,o;if(r!=null&&r.get(q.PURE_BARCODE)!==void 0){const h=xr.extractPureBits(t.getBlackMatrix());s=this.decoder.decodeBitMatrix(h,r),o=xr.NO_POINTS}else{const h=new ns(t.getBlackMatrix()).detect(r);s=this.decoder.decodeBitMatrix(h.getBits(),r),o=h.getPoints()}s.getOther()instanceof Gc&&s.getOther().applyMirroredCorrection(o);const l=new be(s.getText(),s.getRawBytes(),void 0,o,ae.QR_CODE,void 0),u=s.getByteSegments();u!==null&&l.putMetadata(gt.BYTE_SEGMENTS,u);const f=s.getECLevel();return f!==null&&l.putMetadata(gt.ERROR_CORRECTION_LEVEL,f),s.hasStructuredAppend()&&(l.putMetadata(gt.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),l.putMetadata(gt.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),l}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),s=t.getBottomRightOnBit();if(r===null||s===null)throw new W;const o=this.moduleSize(r,t);let l=r[1],u=s[1],f=r[0],h=s[0];if(f>=h||l>=u)throw new W;if(u-l!==h-f&&(h=f+(u-l),h>=t.getWidth()))throw new W;const g=Math.round((h-f+1)/o),p=Math.round((u-l+1)/o);if(g<=0||p<=0)throw new W;if(p!==g)throw new W;const C=Math.floor(o/2);l+=C,f+=C;const A=f+Math.floor((g-1)*o)-h;if(A>0){if(A>C)throw new W;f-=A}const N=l+Math.floor((p-1)*o)-u;if(N>0){if(N>C)throw new W;l-=N}const O=new Be(g,p);for(let b=0;b<p;b++){const B=l+Math.floor(b*o);for(let H=0;H<g;H++)t.get(f+Math.floor(H*o),B)&&O.set(H,b)}return O}static moduleSize(t,r){const s=r.getHeight(),o=r.getWidth();let l=t[0],u=t[1],f=!0,h=0;for(;l<o&&u<s;){if(f!==r.get(l,u)){if(++h===5)break;f=!f}l++,u++}if(l===o||u===s)throw new W;return(l-t[0])/7}}xr.NO_POINTS=new Array;class pe{PDF417Common(){}static getBitCountSum(t){return Y.sum(t)}static toIntArray(t){if(t==null||!t.length)return pe.EMPTY_INT_ARRAY;const r=new Int32Array(t.length);let s=0;for(const o of t)r[s++]=o;return r}static getCodeword(t){const r=_.binarySearch(pe.SYMBOL_TABLE,t&262143);return r<0?-1:(pe.CODEWORD_TABLE[r]-1)%pe.NUMBER_OF_CODEWORDS}}pe.NUMBER_OF_CODEWORDS=929,pe.MAX_CODEWORDS_IN_BARCODE=pe.NUMBER_OF_CODEWORDS-1,pe.MIN_ROWS_IN_BARCODE=3,pe.MAX_ROWS_IN_BARCODE=90,pe.MODULES_IN_CODEWORD=17,pe.MODULES_IN_STOP_PATTERN=18,pe.BARS_IN_MODULE=8,pe.EMPTY_INT_ARRAY=new Int32Array([]),pe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),pe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Uh{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Se{static detectMultiple(t,r,s){let o=t.getBlackMatrix(),l=Se.detect(s,o);return l.length||(o=o.clone(),o.rotate180(),l=Se.detect(s,o)),new Uh(o,l)}static detect(t,r){const s=new Array;let o=0,l=0,u=!1;for(;o<r.getHeight();){const f=Se.findVertices(r,o,l);if(f[0]==null&&f[3]==null){if(!u)break;u=!1,l=0;for(const h of s)h[1]!=null&&(o=Math.trunc(Math.max(o,h[1].getY()))),h[3]!=null&&(o=Math.max(o,Math.trunc(h[3].getY())));o+=Se.ROW_STEP;continue}if(u=!0,s.push(f),!t)break;f[2]!=null?(l=Math.trunc(f[2].getX()),o=Math.trunc(f[2].getY())):(l=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY()))}return s}static findVertices(t,r,s){const o=t.getHeight(),l=t.getWidth(),u=new Array(8);return Se.copyToResult(u,Se.findRowsWithPattern(t,o,l,r,s,Se.START_PATTERN),Se.INDEXES_START_PATTERN),u[4]!=null&&(s=Math.trunc(u[4].getX()),r=Math.trunc(u[4].getY())),Se.copyToResult(u,Se.findRowsWithPattern(t,o,l,r,s,Se.STOP_PATTERN),Se.INDEXES_STOP_PATTERN),u}static copyToResult(t,r,s){for(let o=0;o<s.length;o++)t[s[o]]=r[o]}static findRowsWithPattern(t,r,s,o,l,u){const f=new Array(4);let h=!1;const g=new Int32Array(u.length);for(;o<r;o+=Se.ROW_STEP){let C=Se.findGuardPattern(t,l,o,s,!1,u,g);if(C!=null){for(;o>0;){const A=Se.findGuardPattern(t,l,--o,s,!1,u,g);if(A!=null)C=A;else{o++;break}}f[0]=new ne(C[0],o),f[1]=new ne(C[1],o),h=!0;break}}let p=o+1;if(h){let C=0,A=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;p<r;p++){const N=Se.findGuardPattern(t,A[0],p,s,!1,u,g);if(N!=null&&Math.abs(A[0]-N[0])<Se.MAX_PATTERN_DRIFT&&Math.abs(A[1]-N[1])<Se.MAX_PATTERN_DRIFT)A=N,C=0;else{if(C>Se.SKIPPED_ROW_COUNT_MAX)break;C++}}p-=C+1,f[2]=new ne(A[0],p),f[3]=new ne(A[1],p)}return p-o<Se.BARCODE_MIN_HEIGHT&&_.fill(f,null),f}static findGuardPattern(t,r,s,o,l,u,f){_.fillWithin(f,0,f.length,0);let h=r,g=0;for(;t.get(h,s)&&h>0&&g++<Se.MAX_PIXEL_DRIFT;)h--;let p=h,C=0,A=u.length;for(let N=l;p<o;p++)if(t.get(p,s)!==N)f[C]++;else{if(C===A-1){if(Se.patternMatchVariance(f,u,Se.MAX_INDIVIDUAL_VARIANCE)<Se.MAX_AVG_VARIANCE)return new Int32Array([h,p]);h+=f[0]+f[1],P.arraycopy(f,2,f,0,C-1),f[C-1]=0,f[C]=0,C--}else C++;f[C]=1,N=!N}return C===A-1&&Se.patternMatchVariance(f,u,Se.MAX_INDIVIDUAL_VARIANCE)<Se.MAX_AVG_VARIANCE?new Int32Array([h,p-1]):null}static patternMatchVariance(t,r,s){let o=t.length,l=0,u=0;for(let g=0;g<o;g++)l+=t[g],u+=r[g];if(l<u)return 1/0;let f=l/u;s*=f;let h=0;for(let g=0;g<o;g++){let p=t[g],C=r[g]*f,A=p>C?p-C:C-p;if(A>s)return 1/0;h+=A}return h/l}}Se.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Se.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Se.MAX_AVG_VARIANCE=.42,Se.MAX_INDIVIDUAL_VARIANCE=.8,Se.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Se.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Se.MAX_PIXEL_DRIFT=3,Se.MAX_PATTERN_DRIFT=5,Se.SKIPPED_ROW_COUNT_MAX=25,Se.ROW_STEP=5,Se.BARCODE_MIN_HEIGHT=10;class _t{constructor(t,r){if(r.length===0)throw new T;this.field=t;let s=r.length;if(s>1&&r[0]===0){let o=1;for(;o<s&&r[o]===0;)o++;o===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-o),P.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let o=0;for(let l of this.coefficients)o=this.field.add(o,l);return o}let r=this.coefficients[0],s=this.coefficients.length;for(let o=1;o<s;o++)r=this.field.add(this.field.multiply(t,r),this.coefficients[o]);return r}add(t){if(!this.field.equals(t.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,s=t.coefficients;if(r.length>s.length){let u=r;r=s,s=u}let o=new Int32Array(s.length),l=s.length-r.length;P.arraycopy(s,0,o,0,l);for(let u=l;u<s.length;u++)o[u]=this.field.add(r[u-l],s[u]);return new _t(this.field,o)}subtract(t){if(!this.field.equals(t.field))throw new T("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof _t?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new _t(this.field,new Int32Array([0]));let r=this.coefficients,s=r.length,o=t.coefficients,l=o.length,u=new Int32Array(s+l-1);for(let f=0;f<s;f++){let h=r[f];for(let g=0;g<l;g++)u[f+g]=this.field.add(u[f+g],this.field.multiply(h,o[g]))}return new _t(this.field,u)}negative(){let t=this.coefficients.length,r=new Int32Array(t);for(let s=0;s<t;s++)r[s]=this.field.subtract(0,this.coefficients[s]);return new _t(this.field,r)}multiplyScalar(t){if(t===0)return new _t(this.field,new Int32Array([0]));if(t===1)return this;let r=this.coefficients.length,s=new Int32Array(r);for(let o=0;o<r;o++)s[o]=this.field.multiply(this.coefficients[o],t);return new _t(this.field,s)}multiplyByMonomial(t,r){if(t<0)throw new T;if(r===0)return new _t(this.field,new Int32Array([0]));let s=this.coefficients.length,o=new Int32Array(s+t);for(let l=0;l<s;l++)o[l]=this.field.multiply(this.coefficients[l],r);return new _t(this.field,o)}toString(){let t=new ye;for(let r=this.getDegree();r>=0;r--){let s=this.getCoefficient(r);s!==0&&(s<0?(t.append(" - "),s=-s):t.length()>0&&t.append(" + "),(r===0||s!==1)&&t.append(s),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()}}class jh{add(t,r){return(t+r)%this.modulus}subtract(t,r){return(this.modulus+t-r)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new T;return this.logTable[t]}inverse(t){if(t===0)throw new jr;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class na extends jh{constructor(t,r){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let s=1;for(let o=0;o<t;o++)this.expTable[o]=s,s=s*r%t;for(let o=0;o<t-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new _t(this,new Int32Array([0])),this.one=new _t(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new T;if(r===0)return this.zero;let s=new Int32Array(t+1);return s[0]=r,new _t(this,s)}}na.PDF417_GF=new na(pe.NUMBER_OF_CODEWORDS,3);class Xc{constructor(){this.field=na.PDF417_GF}decode(t,r,s){let o=new _t(this.field,t),l=new Int32Array(r),u=!1;for(let O=r;O>0;O--){let b=o.evaluateAt(this.field.exp(O));l[r-O]=b,b!==0&&(u=!0)}if(!u)return 0;let f=this.field.getOne();if(s!=null)for(const O of s){let b=this.field.exp(t.length-1-O),B=new _t(this.field,new Int32Array([this.field.subtract(0,b),1]));f=f.multiply(B)}let h=new _t(this.field,l),g=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),h,r),p=g[0],C=g[1],A=this.findErrorLocations(p),N=this.findErrorMagnitudes(C,p,A);for(let O=0;O<A.length;O++){let b=t.length-1-this.field.log(A[O]);if(b<0)throw U.getChecksumInstance();t[b]=this.field.subtract(t[b],N[O])}return A.length}runEuclideanAlgorithm(t,r,s){if(t.getDegree()<r.getDegree()){let A=t;t=r,r=A}let o=t,l=r,u=this.field.getZero(),f=this.field.getOne();for(;l.getDegree()>=Math.round(s/2);){let A=o,N=u;if(o=l,u=f,o.isZero())throw U.getChecksumInstance();l=A;let O=this.field.getZero(),b=o.getCoefficient(o.getDegree()),B=this.field.inverse(b);for(;l.getDegree()>=o.getDegree()&&!l.isZero();){let H=l.getDegree()-o.getDegree(),J=this.field.multiply(l.getCoefficient(l.getDegree()),B);O=O.add(this.field.buildMonomial(H,J)),l=l.subtract(o.multiplyByMonomial(H,J))}f=O.multiply(u).subtract(N).negative()}let h=f.getCoefficient(0);if(h===0)throw U.getChecksumInstance();let g=this.field.inverse(h),p=f.multiply(g),C=l.multiply(g);return[p,C]}findErrorLocations(t){let r=t.getDegree(),s=new Int32Array(r),o=0;for(let l=1;l<this.field.getSize()&&o<r;l++)t.evaluateAt(l)===0&&(s[o]=this.field.inverse(l),o++);if(o!==r)throw U.getChecksumInstance();return s}findErrorMagnitudes(t,r,s){let o=r.getDegree(),l=new Int32Array(o);for(let g=1;g<=o;g++)l[o-g]=this.field.multiply(g,r.getCoefficient(g));let u=new _t(this.field,l),f=s.length,h=new Int32Array(f);for(let g=0;g<f;g++){let p=this.field.inverse(s[g]),C=this.field.subtract(0,t.evaluateAt(p)),A=this.field.inverse(u.evaluateAt(p));h[g]=this.field.multiply(C,A)}return h}}class Wr{constructor(t,r,s,o,l){t instanceof Wr?this.constructor_2(t):this.constructor_1(t,r,s,o,l)}constructor_1(t,r,s,o,l){const u=r==null||s==null,f=o==null||l==null;if(u&&f)throw new W;u?(r=new ne(0,o.getY()),s=new ne(0,l.getY())):f&&(o=new ne(t.getWidth()-1,r.getY()),l=new ne(t.getWidth()-1,s.getY())),this.image=t,this.topLeft=r,this.bottomLeft=s,this.topRight=o,this.bottomRight=l,this.minX=Math.trunc(Math.min(r.getX(),s.getX())),this.maxX=Math.trunc(Math.max(o.getX(),l.getX())),this.minY=Math.trunc(Math.min(r.getY(),o.getY())),this.maxY=Math.trunc(Math.max(s.getY(),l.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,r){return t==null?r:r==null?t:new Wr(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(t,r,s){let o=this.topLeft,l=this.bottomLeft,u=this.topRight,f=this.bottomRight;if(t>0){let h=s?this.topLeft:this.topRight,g=Math.trunc(h.getY()-t);g<0&&(g=0);let p=new ne(h.getX(),g);s?o=p:u=p}if(r>0){let h=s?this.bottomLeft:this.bottomRight,g=Math.trunc(h.getY()+r);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);let p=new ne(h.getX(),g);s?l=p:f=p}return new Wr(this.image,o,l,u,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Vh{constructor(t,r,s,o){this.columnCount=t,this.errorCorrectionLevel=o,this.rowCountUpperPart=r,this.rowCountLowerPart=s,this.rowCount=r+s}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class rs{constructor(){this.buffer=""}static form(t,r){let s=-1;function o(u,f,h,g,p,C){if(u==="%%")return"%";if(r[++s]===void 0)return;u=g?parseInt(g.substr(1)):void 0;let A=p?parseInt(p.substr(1)):void 0,N;switch(C){case"s":N=r[s];break;case"c":N=r[s][0];break;case"f":N=parseFloat(r[s]).toFixed(u);break;case"p":N=parseFloat(r[s]).toPrecision(u);break;case"e":N=parseFloat(r[s]).toExponential(u);break;case"x":N=parseInt(r[s]).toString(A||16);break;case"d":N=parseFloat(parseInt(r[s],A||10).toPrecision(u)).toFixed(0);break}N=typeof N=="object"?JSON.stringify(N):(+N).toString(A);let O=parseInt(h),b=h&&h[0]+""=="0"?"0":" ";for(;N.length<O;)N=f!==void 0?N+b:b+N;return N}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,o)}format(t,...r){this.buffer+=rs.form(t,r)}toString(){return this.buffer}}class is{constructor(t){this.boundingBox=new Wr(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let r=this.getCodeword(t);if(r!=null)return r;for(let s=1;s<is.MAX_NEARBY_DISTANCE;s++){let o=this.imageRowToCodewordIndex(t)-s;if(o>=0&&(r=this.codewords[o],r!=null)||(o=this.imageRowToCodewordIndex(t)+s,o<this.codewords.length&&(r=this.codewords[o],r!=null)))return r}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new rs;let r=0;for(const s of this.codewords){if(s==null){t.format("%3d:    |   %n",r++);continue}t.format("%3d: %3d|%3d%n",r++,s.getRowNumber(),s.getValue())}return t.toString()}}is.MAX_NEARBY_DISTANCE=5;class ss{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)}getValue(){let t=-1,r=new Array;for(const[s,o]of this.values.entries()){const l={getKey:()=>s,getValue:()=>o};l.getValue()>t?(t=l.getValue(),r=[],r.push(l.getKey())):l.getValue()===t&&r.push(l.getKey())}return pe.toIntArray(r)}getConfidence(t){return this.values.get(t)}}class Yc extends is{constructor(t,r){super(t),this._isLeft=r}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);let s=this.getBoundingBox(),o=this._isLeft?s.getTopLeft():s.getTopRight(),l=this._isLeft?s.getBottomLeft():s.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=-1,g=1,p=0;for(let C=u;C<f;C++){if(r[C]==null)continue;let A=r[C],N=A.getRowNumber()-h;if(N===0)p++;else if(N===1)g=Math.max(g,p),p=1,h=A.getRowNumber();else if(N<0||A.getRowNumber()>=t.getRowCount()||N>C)r[C]=null;else{let O;g>2?O=(g-2)*N:O=N;let b=O>=C;for(let B=1;B<=O&&!b;B++)b=r[C-B]!=null;b?r[C]=null:(h=A.getRowNumber(),p=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let r=new Int32Array(t.getRowCount());for(let s of this.getCodewords())if(s!=null){let o=s.getRowNumber();if(o>=r.length)continue;r[o]++}return r}adjustIncompleteIndicatorColumnRowNumbers(t){let r=this.getBoundingBox(),s=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.getCodewords(),h=-1;for(let g=l;g<u;g++){if(f[g]==null)continue;let p=f[g];p.setRowNumberAsRowIndicatorColumn();let C=p.getRowNumber()-h;C===0||(C===1?h=p.getRowNumber():p.getRowNumber()>=t.getRowCount()?f[g]=null:h=p.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),r=new ss,s=new ss,o=new ss,l=new ss;for(let f of t){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let h=f.getValue()%30,g=f.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:s.setValue(h*3+1);break;case 1:l.setValue(h/3),o.setValue(h%3);break;case 2:r.setValue(h+1);break}}if(r.getValue().length===0||s.getValue().length===0||o.getValue().length===0||l.getValue().length===0||r.getValue()[0]<1||s.getValue()[0]+o.getValue()[0]<pe.MIN_ROWS_IN_BARCODE||s.getValue()[0]+o.getValue()[0]>pe.MAX_ROWS_IN_BARCODE)return null;let u=new Vh(r.getValue()[0],s.getValue()[0],o.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(t,u),u}removeIncorrectCodewords(t,r){for(let s=0;s<t.length;s++){let o=t[s];if(t[s]==null)continue;let l=o.getValue()%30,u=o.getRowNumber();if(u>r.getRowCount()){t[s]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:l*3+1!==r.getRowCountUpperPart()&&(t[s]=null);break;case 1:(Math.trunc(l/3)!==r.getErrorCorrectionLevel()||l%3!==r.getRowCountLowerPart())&&(t[s]=null);break;case 2:l+1!==r.getColumnCount()&&(t[s]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class os{constructor(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=pe.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let s=this.detectionResultColumns[r].getCodewords();for(let o=0;o<s.length;o++)s[o]!=null&&(s[o].hasValidRowNumber()||this.adjustRowNumbers(r,o,s))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<t.length;s++)if(t[s]!=null&&r[s]!=null&&t[s].getRowNumber()===r[s].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let l=this.detectionResultColumns[o].getCodewords()[s];l!=null&&(l.setRowNumber(t[s].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[s]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<r.length;s++){if(r[s]==null)continue;let o=r[s].getRowNumber(),l=0;for(let u=this.barcodeColumnCount+1;u>0&&l<this.ADJUST_ROW_NUMBER_SKIP;u--){let f=this.detectionResultColumns[u].getCodewords()[s];f!=null&&(l=os.adjustRowNumberIfValid(o,l,f),f.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,r=this.detectionResultColumns[0].getCodewords();for(let s=0;s<r.length;s++){if(r[s]==null)continue;let o=r[s].getRowNumber(),l=0;for(let u=1;u<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;u++){let f=this.detectionResultColumns[u].getCodewords()[s];f!=null&&(l=os.adjustRowNumberIfValid(o,l,f),f.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,r,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(t)?(s.setRowNumber(t),r=0):++r),r}adjustRowNumbers(t,r,s){if(!this.detectionResultColumns[t-1])return;let o=s[r],l=this.detectionResultColumns[t-1].getCodewords(),u=l;this.detectionResultColumns[t+1]!=null&&(u=this.detectionResultColumns[t+1].getCodewords());let f=new Array(14);f[2]=l[r],f[3]=u[r],r>0&&(f[0]=s[r-1],f[4]=l[r-1],f[5]=u[r-1]),r>1&&(f[8]=s[r-2],f[10]=l[r-2],f[11]=u[r-2]),r<s.length-1&&(f[1]=s[r+1],f[6]=l[r+1],f[7]=u[r+1]),r<s.length-2&&(f[9]=s[r+2],f[12]=l[r+2],f[13]=u[r+2]);for(let h of f)if(os.adjustRowNumber(o,h))return}static adjustRowNumber(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,r){this.detectionResultColumns[t]=r}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new rs;for(let s=0;s<t.getCodewords().length;s++){r.format("CW %3d:",s);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){r.format("    |   ");continue}let l=this.detectionResultColumns[o].getCodewords()[s];if(l==null){r.format("    |   ");continue}r.format(" %3d|%3d",l.getRowNumber(),l.getValue())}r.format("%n")}return r.toString()}}class ls{constructor(t,r,s,o){this.rowNumber=ls.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(s),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==ls.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}ls.BARCODE_ROW_UNKNOWN=-1;class qt{static initialize(){for(let t=0;t<pe.SYMBOL_TABLE.length;t++){let r=pe.SYMBOL_TABLE[t],s=r&1;for(let o=0;o<pe.BARS_IN_MODULE;o++){let l=0;for(;(r&1)===s;)l+=1,r>>=1;s=r&1,qt.RATIOS_TABLE[t]||(qt.RATIOS_TABLE[t]=new Array(pe.BARS_IN_MODULE)),qt.RATIOS_TABLE[t][pe.BARS_IN_MODULE-o-1]=Math.fround(l/pe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let r=qt.getDecodedCodewordValue(qt.sampleBitCounts(t));return r!==-1?r:qt.getClosestDecodedValue(t)}static sampleBitCounts(t){let r=Y.sum(t),s=new Int32Array(pe.BARS_IN_MODULE),o=0,l=0;for(let u=0;u<pe.MODULES_IN_CODEWORD;u++){let f=r/(2*pe.MODULES_IN_CODEWORD)+u*r/pe.MODULES_IN_CODEWORD;l+t[o]<=f&&(l+=t[o],o++),s[o]++}return s}static getDecodedCodewordValue(t){let r=qt.getBitValue(t);return pe.getCodeword(r)===-1?-1:r}static getBitValue(t){let r=0;for(let s=0;s<t.length;s++)for(let o=0;o<t[s];o++)r=r<<1|(s%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(t){let r=Y.sum(t),s=new Array(pe.BARS_IN_MODULE);if(r>1)for(let u=0;u<s.length;u++)s[u]=Math.fround(t[u]/r);let o=we.MAX_VALUE,l=-1;this.bSymbolTableReady||qt.initialize();for(let u=0;u<qt.RATIOS_TABLE.length;u++){let f=0,h=qt.RATIOS_TABLE[u];for(let g=0;g<pe.BARS_IN_MODULE;g++){let p=Math.fround(h[g]-s[g]);if(f+=Math.fround(p*p),f>=o)break}f<o&&(o=f,l=pe.SYMBOL_TABLE[u])}return l}}qt.bSymbolTableReady=!1,qt.RATIOS_TABLE=new Array(pe.SYMBOL_TABLE.length).map(E=>new Array(pe.BARS_IN_MODULE));class Zc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Kc{static parseLong(t,r=void 0){return parseInt(t,r)}}class qc extends m{}qc.kind="NullPointerException";class zh{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,r,s){if(t==null)throw new qc;if(r<0||r>t.length||s<0||r+s>t.length||r+s<0)throw new Z;if(s===0)return;for(let o=0;o<s;o++)this.write(t[r+o])}flush(){}close(){}}class Hh extends m{}class Wh extends zh{constructor(t=32){if(super(),this.count=0,t<0)throw new T("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let s=this.buf.length<<1;if(s-t<0&&(s=t),s<0){if(t<0)throw new Hh;s=R.MAX_VALUE}this.buf=_.copyOfUint8Array(this.buf,s)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,r,s){if(r<0||r>t.length||s<0||r+s-t.length>0)throw new Z;this.ensureCapacity(this.count+s),P.arraycopy(t,r,this.buf,this.count,s),this.count+=s}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return _.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var ze;(function(E){E[E.ALPHA=0]="ALPHA",E[E.LOWER=1]="LOWER",E[E.MIXED=2]="MIXED",E[E.PUNCT=3]="PUNCT",E[E.ALPHA_SHIFT=4]="ALPHA_SHIFT",E[E.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ze||(ze={}));function Qc(){if(typeof window<"u")return window.BigInt||null;if(typeof cs<"u")return cs.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let co;function pr(E){if(typeof co>"u"&&(co=Qc()),co===null)throw new Error("BigInt is not supported!");return co(E)}function Gh(){let E=[];E[0]=pr(1);let t=pr(900);E[1]=t;for(let r=2;r<16;r++)E[r]=E[r-1]*t;return E}class V{static decode(t,r){let s=new ye(""),o=G.ISO8859_1;s.enableDecoding(o);let l=1,u=t[l++],f=new Zc;for(;l<t[0];){switch(u){case V.TEXT_COMPACTION_MODE_LATCH:l=V.textCompaction(t,l,s);break;case V.BYTE_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:l=V.byteCompaction(u,t,o,l,s);break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(t[l++]);break;case V.NUMERIC_COMPACTION_MODE_LATCH:l=V.numericCompaction(t,l,s);break;case V.ECI_CHARSET:G.getCharacterSetECIByValue(t[l++]);break;case V.ECI_GENERAL_PURPOSE:l+=2;break;case V.ECI_USER_DEFINED:l++;break;case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=V.decodeMacroBlock(t,l,f);break;case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:throw new F;default:l--,l=V.textCompaction(t,l,s);break}if(l<t.length)u=t[l++];else throw F.getFormatInstance()}if(s.length()===0)throw F.getFormatInstance();let h=new Fr(null,s.toString(),null,r);return h.setOther(f),h}static decodeMacroBlock(t,r,s){if(r+V.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw F.getFormatInstance();let o=new Int32Array(V.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<V.NUMBER_OF_SEQUENCE_CODEWORDS;f++,r++)o[f]=t[r];s.setSegmentIndex(R.parseInt(V.decodeBase900toBase10(o,V.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new ye;r=V.textCompaction(t,r,l),s.setFileId(l.toString());let u=-1;for(t[r]===V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=r+1);r<t[0];)switch(t[r]){case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case V.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new ye;r=V.textCompaction(t,r+1,f),s.setFileName(f.toString());break;case V.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new ye;r=V.textCompaction(t,r+1,h),s.setSender(h.toString());break;case V.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let g=new ye;r=V.textCompaction(t,r+1,g),s.setAddressee(g.toString());break;case V.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let p=new ye;r=V.numericCompaction(t,r+1,p),s.setSegmentCount(R.parseInt(p.toString()));break;case V.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let C=new ye;r=V.numericCompaction(t,r+1,C),s.setTimestamp(Kc.parseLong(C.toString()));break;case V.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let A=new ye;r=V.numericCompaction(t,r+1,A),s.setChecksum(R.parseInt(A.toString()));break;case V.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let N=new ye;r=V.numericCompaction(t,r+1,N),s.setFileSize(Kc.parseLong(N.toString()));break;default:throw F.getFormatInstance()}break;case V.MACRO_PDF417_TERMINATOR:r++,s.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(u!==-1){let f=r-u;s.isLastSegment()&&f--,s.setOptionalData(_.copyOfRange(t,u,u+f))}return r}static textCompaction(t,r,s){let o=new Int32Array((t[0]-r)*2),l=new Int32Array((t[0]-r)*2),u=0,f=!1;for(;r<t[0]&&!f;){let h=t[r++];if(h<V.TEXT_COMPACTION_MODE_LATCH)o[u]=h/30,o[u+1]=h%30,u+=2;else switch(h){case V.TEXT_COMPACTION_MODE_LATCH:o[u++]=V.TEXT_COMPACTION_MODE_LATCH;break;case V.BYTE_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.NUMERIC_COMPACTION_MODE_LATCH:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:r--,f=!0;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[u]=V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=t[r++],l[u]=h,u++;break}}return V.decodeTextCompaction(o,l,u,s),r}static decodeTextCompaction(t,r,s,o){let l=ze.ALPHA,u=ze.ALPHA,f=0;for(;f<s;){let h=t[f],g="";switch(l){case ze.ALPHA:if(h<26)g=String.fromCharCode(65+h);else switch(h){case 26:g=" ";break;case V.LL:l=ze.LOWER;break;case V.ML:l=ze.MIXED;break;case V.PS:u=l,l=ze.PUNCT_SHIFT;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=ze.ALPHA;break}break;case ze.LOWER:if(h<26)g=String.fromCharCode(97+h);else switch(h){case 26:g=" ";break;case V.AS:u=l,l=ze.ALPHA_SHIFT;break;case V.ML:l=ze.MIXED;break;case V.PS:u=l,l=ze.PUNCT_SHIFT;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=ze.ALPHA;break}break;case ze.MIXED:if(h<V.PL)g=V.MIXED_CHARS[h];else switch(h){case V.PL:l=ze.PUNCT;break;case 26:g=" ";break;case V.LL:l=ze.LOWER;break;case V.AL:l=ze.ALPHA;break;case V.PS:u=l,l=ze.PUNCT_SHIFT;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=ze.ALPHA;break}break;case ze.PUNCT:if(h<V.PAL)g=V.PUNCT_CHARS[h];else switch(h){case V.PAL:l=ze.ALPHA;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=ze.ALPHA;break}break;case ze.ALPHA_SHIFT:if(l=u,h<26)g=String.fromCharCode(65+h);else switch(h){case 26:g=" ";break;case V.TEXT_COMPACTION_MODE_LATCH:l=ze.ALPHA;break}break;case ze.PUNCT_SHIFT:if(l=u,h<V.PAL)g=V.PUNCT_CHARS[h];else switch(h){case V.PAL:l=ze.ALPHA;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[f]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=ze.ALPHA;break}break}g!==""&&o.append(g),f++}}static byteCompaction(t,r,s,o,l){let u=new Wh,f=0,h=0,g=!1;switch(t){case V.BYTE_COMPACTION_MODE_LATCH:let p=new Int32Array(6),C=r[o++];for(;o<r[0]&&!g;)switch(p[f++]=C,h=900*h+C,C=r[o++],C){case V.TEXT_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH:case V.NUMERIC_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:o--,g=!0;break;default:if(f%5===0&&f>0){for(let A=0;A<6;++A)u.write(Number(pr(h)>>pr(8*(5-A))));h=0,f=0}break}o===r[0]&&C<V.TEXT_COMPACTION_MODE_LATCH&&(p[f++]=C);for(let A=0;A<f;A++)u.write(p[A]);break;case V.BYTE_COMPACTION_MODE_LATCH_6:for(;o<r[0]&&!g;){let A=r[o++];if(A<V.TEXT_COMPACTION_MODE_LATCH)f++,h=900*h+A;else switch(A){case V.TEXT_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH:case V.NUMERIC_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:o--,g=!0;break}if(f%5===0&&f>0){for(let N=0;N<6;++N)u.write(Number(pr(h)>>pr(8*(5-N))));h=0,f=0}}break}return l.append(Pe.decode(u.toByteArray(),s)),o}static numericCompaction(t,r,s){let o=0,l=!1,u=new Int32Array(V.MAX_NUMERIC_CODEWORDS);for(;r<t[0]&&!l;){let f=t[r++];if(r===t[0]&&(l=!0),f<V.TEXT_COMPACTION_MODE_LATCH)u[o]=f,o++;else switch(f){case V.TEXT_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:r--,l=!0;break}(o%V.MAX_NUMERIC_CODEWORDS===0||f===V.NUMERIC_COMPACTION_MODE_LATCH||l)&&o>0&&(s.append(V.decodeBase900toBase10(u,o)),o=0)}return r}static decodeBase900toBase10(t,r){let s=pr(0);for(let l=0;l<r;l++)s+=V.EXP900[r-l-1]*pr(t[l]);let o=s.toString();if(o.charAt(0)!=="1")throw new F;return o.substring(1)}}V.TEXT_COMPACTION_MODE_LATCH=900,V.BYTE_COMPACTION_MODE_LATCH=901,V.NUMERIC_COMPACTION_MODE_LATCH=902,V.BYTE_COMPACTION_MODE_LATCH_6=924,V.ECI_USER_DEFINED=925,V.ECI_GENERAL_PURPOSE=926,V.ECI_CHARSET=927,V.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,V.MACRO_PDF417_TERMINATOR=922,V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,V.MAX_NUMERIC_CODEWORDS=15,V.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,V.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,V.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,V.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,V.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,V.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,V.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,V.PL=25,V.LL=27,V.AS=27,V.ML=28,V.AL=28,V.PS=29,V.PAL=29,V.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,V.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",V.EXP900=Qc()?Gh():[],V.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ve{constructor(){}static decode(t,r,s,o,l,u,f){let h=new Wr(t,r,s,o,l),g=null,p=null,C;for(let O=!0;;O=!1){if(r!=null&&(g=ve.getRowIndicatorColumn(t,h,r,!0,u,f)),o!=null&&(p=ve.getRowIndicatorColumn(t,h,o,!1,u,f)),C=ve.merge(g,p),C==null)throw W.getNotFoundInstance();let b=C.getBoundingBox();if(O&&b!=null&&(b.getMinY()<h.getMinY()||b.getMaxY()>h.getMaxY()))h=b;else break}C.setBoundingBox(h);let A=C.getBarcodeColumnCount()+1;C.setDetectionResultColumn(0,g),C.setDetectionResultColumn(A,p);let N=g!=null;for(let O=1;O<=A;O++){let b=N?O:A-O;if(C.getDetectionResultColumn(b)!==void 0)continue;let B;b===0||b===A?B=new Yc(h,b===0):B=new is(h),C.setDetectionResultColumn(b,B);let H=-1,J=H;for(let $=h.getMinY();$<=h.getMaxY();$++){if(H=ve.getStartColumn(C,b,$,N),H<0||H>h.getMaxX()){if(J===-1)continue;H=J}let K=ve.detectCodeword(t,h.getMinX(),h.getMaxX(),N,H,$,u,f);K!=null&&(B.setCodeword($,K),J=H,u=Math.min(u,K.getWidth()),f=Math.max(f,K.getWidth()))}}return ve.createDecoderResult(C)}static merge(t,r){if(t==null&&r==null)return null;let s=ve.getBarcodeMetadata(t,r);if(s==null)return null;let o=Wr.merge(ve.adjustBoundingBox(t),ve.adjustBoundingBox(r));return new os(s,o)}static adjustBoundingBox(t){if(t==null)return null;let r=t.getRowHeights();if(r==null)return null;let s=ve.getMax(r),o=0;for(let f of r)if(o+=s-f,f>0)break;let l=t.getCodewords();for(let f=0;o>0&&l[f]==null;f++)o--;let u=0;for(let f=r.length-1;f>=0&&(u+=s-r[f],!(r[f]>0));f--);for(let f=l.length-1;u>0&&l[f]==null;f--)u--;return t.getBoundingBox().addMissingRows(o,u,t.isLeft())}static getMax(t){let r=-1;for(let s of t)r=Math.max(r,s);return r}static getBarcodeMetadata(t,r){let s;if(t==null||(s=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let o;return r==null||(o=r.getBarcodeMetadata())==null?s:s.getColumnCount()!==o.getColumnCount()&&s.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&s.getRowCount()!==o.getRowCount()?null:s}static getRowIndicatorColumn(t,r,s,o,l,u){let f=new Yc(r,o);for(let h=0;h<2;h++){let g=h===0?1:-1,p=Math.trunc(Math.trunc(s.getX()));for(let C=Math.trunc(Math.trunc(s.getY()));C<=r.getMaxY()&&C>=r.getMinY();C+=g){let A=ve.detectCodeword(t,0,t.getWidth(),o,p,C,l,u);A!=null&&(f.setCodeword(C,A),o?p=A.getStartX():p=A.getEndX())}}return f}static adjustCodewordCount(t,r){let s=r[0][1],o=s.getValue(),l=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-ve.getNumberOfECCodeWords(t.getBarcodeECLevel());if(o.length===0){if(l<1||l>pe.MAX_CODEWORDS_IN_BARCODE)throw W.getNotFoundInstance();s.setValue(l)}else o[0]!==l&&s.setValue(l)}static createDecoderResult(t){let r=ve.createBarcodeMatrix(t);ve.adjustCodewordCount(t,r);let s=new Array,o=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),l=[],u=new Array;for(let h=0;h<t.getBarcodeRowCount();h++)for(let g=0;g<t.getBarcodeColumnCount();g++){let p=r[h][g+1].getValue(),C=h*t.getBarcodeColumnCount()+g;p.length===0?s.push(C):p.length===1?o[C]=p[0]:(u.push(C),l.push(p))}let f=new Array(l.length);for(let h=0;h<f.length;h++)f[h]=l[h];return ve.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),o,pe.toIntArray(s),pe.toIntArray(u),f)}static createDecoderResultFromAmbiguousValues(t,r,s,o,l){let u=new Int32Array(o.length),f=100;for(;f-- >0;){for(let h=0;h<u.length;h++)r[o[h]]=l[h][u[h]];try{return ve.decodeCodewords(r,t,s)}catch(h){if(!(h instanceof U))throw h}if(u.length===0)throw U.getChecksumInstance();for(let h=0;h<u.length;h++)if(u[h]<l[h].length-1){u[h]++;break}else if(u[h]=0,h===u.length-1)throw U.getChecksumInstance()}throw U.getChecksumInstance()}static createBarcodeMatrix(t){let r=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let o=0;o<r.length;o++)for(let l=0;l<r[o].length;l++)r[o][l]=new ss;let s=0;for(let o of t.getDetectionResultColumns()){if(o!=null){for(let l of o.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=0){if(u>=r.length)continue;r[u][s].setValue(l.getValue())}}}s++}return r}static isValidBarcodeColumn(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1}static getStartColumn(t,r,s,o){let l=o?1:-1,u=null;if(ve.isValidBarcodeColumn(t,r-l)&&(u=t.getDetectionResultColumn(r-l).getCodeword(s)),u!=null)return o?u.getEndX():u.getStartX();if(u=t.getDetectionResultColumn(r).getCodewordNearby(s),u!=null)return o?u.getStartX():u.getEndX();if(ve.isValidBarcodeColumn(t,r-l)&&(u=t.getDetectionResultColumn(r-l).getCodewordNearby(s)),u!=null)return o?u.getEndX():u.getStartX();let f=0;for(;ve.isValidBarcodeColumn(t,r-l);){r-=l;for(let h of t.getDetectionResultColumn(r).getCodewords())if(h!=null)return(o?h.getEndX():h.getStartX())+l*f*(h.getEndX()-h.getStartX());f++}return o?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,r,s,o,l,u,f,h){l=ve.adjustCodewordStartColumn(t,r,s,o,l,u);let g=ve.getModuleBitCount(t,r,s,o,l,u);if(g==null)return null;let p,C=Y.sum(g);if(o)p=l+C;else{for(let O=0;O<g.length/2;O++){let b=g[O];g[O]=g[g.length-1-O],g[g.length-1-O]=b}p=l,l=p-C}if(!ve.checkCodewordSkew(C,f,h))return null;let A=qt.getDecodedValue(g),N=pe.getCodeword(A);return N===-1?null:new ls(l,p,ve.getCodewordBucketNumber(A),N)}static getModuleBitCount(t,r,s,o,l,u){let f=l,h=new Int32Array(8),g=0,p=o?1:-1,C=o;for(;(o?f<s:f>=r)&&g<h.length;)t.get(f,u)===C?(h[g]++,f+=p):(g++,C=!C);return g===h.length||f===(o?s:r)&&g===h.length-1?h:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,r,s,o,l,u){let f=l,h=o?-1:1;for(let g=0;g<2;g++){for(;(o?f>=r:f<s)&&o===t.get(f,u);){if(Math.abs(l-f)>ve.CODEWORD_SKEW_SIZE)return l;f+=h}h=-h,o=!o}return f}static checkCodewordSkew(t,r,s){return r-ve.CODEWORD_SKEW_SIZE<=t&&t<=s+ve.CODEWORD_SKEW_SIZE}static decodeCodewords(t,r,s){if(t.length===0)throw F.getFormatInstance();let o=1<<r+1,l=ve.correctErrors(t,s,o);ve.verifyCodewordCount(t,o);let u=V.decode(t,""+r);return u.setErrorsCorrected(l),u.setErasures(s.length),u}static correctErrors(t,r,s){if(r!=null&&r.length>s/2+ve.MAX_ERRORS||s<0||s>ve.MAX_EC_CODEWORDS)throw U.getChecksumInstance();return ve.errorCorrection.decode(t,s,r)}static verifyCodewordCount(t,r){if(t.length<4)throw F.getFormatInstance();let s=t[0];if(s>t.length)throw F.getFormatInstance();if(s===0)if(r<t.length)t[0]=t.length-r;else throw F.getFormatInstance()}static getBitCountForCodeword(t){let r=new Int32Array(8),s=0,o=r.length-1;for(;!((t&1)!==s&&(s=t&1,o--,o<0));)r[o]++,t>>=1;return r}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return ve.getCodewordBucketNumber(ve.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let r=new rs;for(let s=0;s<t.length;s++){r.format("Row %2d: ",s);for(let o=0;o<t[s].length;o++){let l=t[s][o];l.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}r.format("%n")}return r.toString()}}ve.CODEWORD_SKEW_SIZE=2,ve.MAX_ERRORS=3,ve.MAX_EC_CODEWORDS=512,ve.errorCorrection=new Xc;class Rt{decode(t,r=null){let s=Rt.decode(t,r,!1);if(s==null||s.length===0||s[0]==null)throw W.getNotFoundInstance();return s[0]}decodeMultiple(t,r=null){try{return Rt.decode(t,r,!0)}catch(s){throw s instanceof F||s instanceof U?W.getNotFoundInstance():s}}static decode(t,r,s){const o=new Array,l=Se.detectMultiple(t,r,s);for(const u of l.getPoints()){const f=ve.decode(l.getBits(),u[4],u[5],u[6],u[7],Rt.getMinCodewordWidth(u),Rt.getMaxCodewordWidth(u)),h=new be(f.getText(),f.getRawBytes(),void 0,u,ae.PDF_417);h.putMetadata(gt.ERROR_CORRECTION_LEVEL,f.getECLevel());const g=f.getOther();g!=null&&h.putMetadata(gt.PDF417_EXTRA_METADATA,g),o.push(h)}return o.map(u=>u)}static getMaxWidth(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMinWidth(t,r){return t==null||r==null?R.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(Rt.getMaxWidth(t[0],t[4]),Rt.getMaxWidth(t[6],t[2])*pe.MODULES_IN_CODEWORD/pe.MODULES_IN_STOP_PATTERN),Math.max(Rt.getMaxWidth(t[1],t[5]),Rt.getMaxWidth(t[7],t[3])*pe.MODULES_IN_CODEWORD/pe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(Rt.getMinWidth(t[0],t[4]),Rt.getMinWidth(t[6],t[2])*pe.MODULES_IN_CODEWORD/pe.MODULES_IN_STOP_PATTERN),Math.min(Rt.getMinWidth(t[1],t[5]),Rt.getMinWidth(t[7],t[3])*pe.MODULES_IN_CODEWORD/pe.MODULES_IN_STOP_PATTERN)))}reset(){}}class fo extends m{}fo.kind="ReaderException";class Jc{constructor(t,r){this.verbose=t===!0,r&&this.setHints(r)}decode(t,r){return r&&this.setHints(r),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const r=!a(t)&&t.get(q.TRY_HARDER)===!0,s=a(t)?null:t.get(q.POSSIBLE_FORMATS),o=new Array;if(!a(s)){const l=s.some(u=>u===ae.UPC_A||u===ae.UPC_E||u===ae.EAN_13||u===ae.EAN_8||u===ae.CODABAR||u===ae.CODE_39||u===ae.CODE_93||u===ae.CODE_128||u===ae.ITF||u===ae.RSS_14||u===ae.RSS_EXPANDED);l&&!r&&o.push(new xi(t,this.verbose)),s.includes(ae.QR_CODE)&&o.push(new xr),s.includes(ae.DATA_MATRIX)&&o.push(new gr),s.includes(ae.AZTEC)&&o.push(new so),s.includes(ae.PDF_417)&&o.push(new Rt),l&&r&&o.push(new xi(t,this.verbose))}o.length===0&&(r||o.push(new xi(t,this.verbose)),o.push(new xr),o.push(new gr),o.push(new so),o.push(new Rt),r&&o.push(new xi(t,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new fo("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(t,this.hints)}catch(s){if(s instanceof fo)continue}throw new W("No MultiFormat Readers were able to detect the code.")}}class Xh extends St{constructor(t=null,r=500){const s=new Jc;s.setHints(t),super(s,r)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class Yh extends St{constructor(t=500){super(new Rt,t)}}class Zh extends St{constructor(t=500){super(new xr,t)}}var ra;(function(E){E[E.ERROR_CORRECTION=0]="ERROR_CORRECTION",E[E.CHARACTER_SET=1]="CHARACTER_SET",E[E.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",E[E.MIN_SIZE=3]="MIN_SIZE",E[E.MAX_SIZE=4]="MAX_SIZE",E[E.MARGIN=5]="MARGIN",E[E.PDF417_COMPACT=6]="PDF417_COMPACT",E[E.PDF417_COMPACTION=7]="PDF417_COMPACTION",E[E.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",E[E.AZTEC_LAYERS=9]="AZTEC_LAYERS",E[E.QR_VERSION=10]="QR_VERSION"})(ra||(ra={}));var Et=ra;class ia{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new kt(t,Int32Array.from([1])))}buildGenerator(t){const r=this.cachedGenerators;if(t>=r.length){let s=r[r.length-1];const o=this.field;for(let l=r.length;l<=t;l++){const u=s.multiply(new kt(o,Int32Array.from([1,o.exp(l-1+o.getGeneratorBase())])));r.push(u),s=u}}return r[t]}encode(t,r){if(r===0)throw new T("No error correction bytes");const s=t.length-r;if(s<=0)throw new T("No data bytes provided");const o=this.buildGenerator(r),l=new Int32Array(s);P.arraycopy(t,0,l,0,s);let u=new kt(this.field,l);u=u.multiplyByMonomial(r,1);const h=u.divide(o)[1].getCoefficients(),g=r-h.length;for(let p=0;p<g;p++)t[s+p]=0;P.arraycopy(h,0,t,s+g,h.length)}}class at{constructor(){}static applyMaskPenaltyRule1(t){return at.applyMaskPenaltyRule1Internal(t,!0)+at.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let r=0;const s=t.getArray(),o=t.getWidth(),l=t.getHeight();for(let u=0;u<l-1;u++){const f=s[u];for(let h=0;h<o-1;h++){const g=f[h];g===f[h+1]&&g===s[u+1][h]&&g===s[u+1][h+1]&&r++}}return at.N2*r}static applyMaskPenaltyRule3(t){let r=0;const s=t.getArray(),o=t.getWidth(),l=t.getHeight();for(let u=0;u<l;u++)for(let f=0;f<o;f++){const h=s[u];f+6<o&&h[f]===1&&h[f+1]===0&&h[f+2]===1&&h[f+3]===1&&h[f+4]===1&&h[f+5]===0&&h[f+6]===1&&(at.isWhiteHorizontal(h,f-4,f)||at.isWhiteHorizontal(h,f+7,f+11))&&r++,u+6<l&&s[u][f]===1&&s[u+1][f]===0&&s[u+2][f]===1&&s[u+3][f]===1&&s[u+4][f]===1&&s[u+5][f]===0&&s[u+6][f]===1&&(at.isWhiteVertical(s,f,u-4,u)||at.isWhiteVertical(s,f,u+7,u+11))&&r++}return r*at.N3}static isWhiteHorizontal(t,r,s){r=Math.max(r,0),s=Math.min(s,t.length);for(let o=r;o<s;o++)if(t[o]===1)return!1;return!0}static isWhiteVertical(t,r,s,o){s=Math.max(s,0),o=Math.min(o,t.length);for(let l=s;l<o;l++)if(t[l][r]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let r=0;const s=t.getArray(),o=t.getWidth(),l=t.getHeight();for(let h=0;h<l;h++){const g=s[h];for(let p=0;p<o;p++)g[p]===1&&r++}const u=t.getHeight()*t.getWidth();return Math.floor(Math.abs(r*2-u)*10/u)*at.N4}static getDataMaskBit(t,r,s){let o,l;switch(t){case 0:o=s+r&1;break;case 1:o=s&1;break;case 2:o=r%3;break;case 3:o=(s+r)%3;break;case 4:o=Math.floor(s/2)+Math.floor(r/3)&1;break;case 5:l=s*r,o=(l&1)+l%3;break;case 6:l=s*r,o=(l&1)+l%3&1;break;case 7:l=s*r,o=l%3+(s+r&1)&1;break;default:throw new T("Invalid mask pattern: "+t)}return o===0}static applyMaskPenaltyRule1Internal(t,r){let s=0;const o=r?t.getHeight():t.getWidth(),l=r?t.getWidth():t.getHeight(),u=t.getArray();for(let f=0;f<o;f++){let h=0,g=-1;for(let p=0;p<l;p++){const C=r?u[f][p]:u[p][f];C===g?h++:(h>=5&&(s+=at.N1+(h-5)),h=1,g=C)}h>=5&&(s+=at.N1+(h-5))}return s}}at.N1=3,at.N2=3,at.N3=40,at.N4=10;class ho{constructor(t,r){this.width=t,this.height=r;const s=new Array(r);for(let o=0;o!==r;o++)s[o]=new Uint8Array(t);this.bytes=s}getHeight(){return this.height}getWidth(){return this.width}get(t,r){return this.bytes[r][t]}getArray(){return this.bytes}setNumber(t,r,s){this.bytes[r][t]=s}setBoolean(t,r,s){this.bytes[r][t]=s?1:0}clear(t){for(const r of this.bytes)_.fill(r,t)}equals(t){if(!(t instanceof ho))return!1;const r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(let s=0,o=this.height;s<o;++s){const l=this.bytes[s],u=r.bytes[s];for(let f=0,h=this.width;f<h;++f)if(l[f]!==u[f])return!1}return!0}toString(){const t=new ye;for(let r=0,s=this.height;r<s;++r){const o=this.bytes[r];for(let l=0,u=this.width;l<u;++l)switch(o[l]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class Gr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new ye;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Gr.NUM_MASK_PATTERNS}}Gr.NUM_MASK_PATTERNS=8;class Ge extends m{}Ge.kind="WriterException";class ge{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,r,s,o,l){ge.clearMatrix(l),ge.embedBasicPatterns(s,l),ge.embedTypeInfo(r,o,l),ge.maybeEmbedVersionInfo(s,l),ge.embedDataBits(t,o,l)}static embedBasicPatterns(t,r){ge.embedPositionDetectionPatternsAndSeparators(r),ge.embedDarkDotAtLeftBottomCorner(r),ge.maybeEmbedPositionAdjustmentPatterns(t,r),ge.embedTimingPatterns(r)}static embedTypeInfo(t,r,s){const o=new j;ge.makeTypeInfoBits(t,r,o);for(let l=0,u=o.getSize();l<u;++l){const f=o.get(o.getSize()-1-l),h=ge.TYPE_INFO_COORDINATES[l],g=h[0],p=h[1];if(s.setBoolean(g,p,f),l<8){const C=s.getWidth()-l-1;s.setBoolean(C,8,f)}else{const A=s.getHeight()-7+(l-8);s.setBoolean(8,A,f)}}}static maybeEmbedVersionInfo(t,r){if(t.getVersionNumber()<7)return;const s=new j;ge.makeVersionInfoBits(t,s);let o=6*3-1;for(let l=0;l<6;++l)for(let u=0;u<3;++u){const f=s.get(o);o--,r.setBoolean(l,r.getHeight()-11+u,f),r.setBoolean(r.getHeight()-11+u,l,f)}}static embedDataBits(t,r,s){let o=0,l=-1,u=s.getWidth()-1,f=s.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);f>=0&&f<s.getHeight();){for(let h=0;h<2;++h){const g=u-h;if(!ge.isEmpty(s.get(g,f)))continue;let p;o<t.getSize()?(p=t.get(o),++o):p=!1,r!==255&&at.getDataMaskBit(r,g,f)&&(p=!p),s.setBoolean(g,f,p)}f+=l}l=-l,f+=l,u-=2}if(o!==t.getSize())throw new Ge("Not all bits consumed: "+o+"/"+t.getSize())}static findMSBSet(t){return 32-R.numberOfLeadingZeros(t)}static calculateBCHCode(t,r){if(r===0)throw new T("0 polynomial");const s=ge.findMSBSet(r);for(t<<=s-1;ge.findMSBSet(t)>=s;)t^=r<<ge.findMSBSet(t)-s;return t}static makeTypeInfoBits(t,r,s){if(!Gr.isValidMaskPattern(r))throw new Ge("Invalid mask pattern");const o=t.getBits()<<3|r;s.appendBits(o,5);const l=ge.calculateBCHCode(o,ge.TYPE_INFO_POLY);s.appendBits(l,10);const u=new j;if(u.appendBits(ge.TYPE_INFO_MASK_PATTERN,15),s.xor(u),s.getSize()!==15)throw new Ge("should not happen but we got: "+s.getSize())}static makeVersionInfoBits(t,r){r.appendBits(t.getVersionNumber(),6);const s=ge.calculateBCHCode(t.getVersionNumber(),ge.VERSION_INFO_POLY);if(r.appendBits(s,12),r.getSize()!==18)throw new Ge("should not happen but we got: "+r.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let r=8;r<t.getWidth()-8;++r){const s=(r+1)%2;ge.isEmpty(t.get(r,6))&&t.setNumber(r,6,s),ge.isEmpty(t.get(6,r))&&t.setNumber(6,r,s)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Ge;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,r,s){for(let o=0;o<8;++o){if(!ge.isEmpty(s.get(t+o,r)))throw new Ge;s.setNumber(t+o,r,0)}}static embedVerticalSeparationPattern(t,r,s){for(let o=0;o<7;++o){if(!ge.isEmpty(s.get(t,r+o)))throw new Ge;s.setNumber(t,r+o,0)}}static embedPositionAdjustmentPattern(t,r,s){for(let o=0;o<5;++o){const l=ge.POSITION_ADJUSTMENT_PATTERN[o];for(let u=0;u<5;++u)s.setNumber(t+u,r+o,l[u])}}static embedPositionDetectionPattern(t,r,s){for(let o=0;o<7;++o){const l=ge.POSITION_DETECTION_PATTERN[o];for(let u=0;u<7;++u)s.setNumber(t+u,r+o,l[u])}}static embedPositionDetectionPatternsAndSeparators(t){const r=ge.POSITION_DETECTION_PATTERN[0].length;ge.embedPositionDetectionPattern(0,0,t),ge.embedPositionDetectionPattern(t.getWidth()-r,0,t),ge.embedPositionDetectionPattern(0,t.getWidth()-r,t);const s=8;ge.embedHorizontalSeparationPattern(0,s-1,t),ge.embedHorizontalSeparationPattern(t.getWidth()-s,s-1,t),ge.embedHorizontalSeparationPattern(0,t.getWidth()-s,t);const o=7;ge.embedVerticalSeparationPattern(o,0,t),ge.embedVerticalSeparationPattern(t.getHeight()-o-1,0,t),ge.embedVerticalSeparationPattern(o,t.getHeight()-o,t)}static maybeEmbedPositionAdjustmentPatterns(t,r){if(t.getVersionNumber()<2)return;const s=t.getVersionNumber()-1,o=ge.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s];for(let l=0,u=o.length;l!==u;l++){const f=o[l];if(f>=0)for(let h=0;h!==u;h++){const g=o[h];g>=0&&ge.isEmpty(r.get(g,f))&&ge.embedPositionAdjustmentPattern(g-2,f-2,r)}}}}ge.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ge.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ge.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ge.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ge.VERSION_INFO_POLY=7973,ge.TYPE_INFO_POLY=1335,ge.TYPE_INFO_MASK_PATTERN=21522;class Kh{constructor(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ke{constructor(){}static calculateMaskPenalty(t){return at.applyMaskPenaltyRule1(t)+at.applyMaskPenaltyRule2(t)+at.applyMaskPenaltyRule3(t)+at.applyMaskPenaltyRule4(t)}static encode(t,r,s=null){let o=Ke.DEFAULT_BYTE_MODE_ENCODING;const l=s!==null&&s.get(Et.CHARACTER_SET)!==void 0;l&&(o=s.get(Et.CHARACTER_SET).toString());const u=this.chooseMode(t,o),f=new j;if(u===de.BYTE&&(l||Ke.DEFAULT_BYTE_MODE_ENCODING!==o)){const $=G.getCharacterSetECIByName(o);$!==void 0&&this.appendECI($,f)}this.appendModeInfo(u,f);const h=new j;this.appendBytes(t,u,h,o);let g;if(s!==null&&s.get(Et.QR_VERSION)!==void 0){const $=Number.parseInt(s.get(Et.QR_VERSION).toString(),10);g=fe.getVersionForNumber($);const K=this.calculateBitsNeeded(u,f,h,g);if(!this.willFit(K,g,r))throw new Ge("Data too big for requested version")}else g=this.recommendVersion(r,u,f,h);const p=new j;p.appendBitArray(f);const C=u===de.BYTE?h.getSizeInBytes():t.length;this.appendLengthInfo(C,g,u,p),p.appendBitArray(h);const A=g.getECBlocksForLevel(r),N=g.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(N,p);const O=this.interleaveWithECBytes(p,g.getTotalCodewords(),N,A.getNumBlocks()),b=new Gr;b.setECLevel(r),b.setMode(u),b.setVersion(g);const B=g.getDimensionForVersion(),H=new ho(B,B),J=this.chooseMaskPattern(O,r,g,H);return b.setMaskPattern(J),ge.buildMatrix(O,r,g,J,H),b.setMatrix(H),b}static recommendVersion(t,r,s,o){const l=this.calculateBitsNeeded(r,s,o,fe.getVersionForNumber(1)),u=this.chooseVersion(l,t),f=this.calculateBitsNeeded(r,s,o,u);return this.chooseVersion(f,t)}static calculateBitsNeeded(t,r,s,o){return r.getSize()+t.getCharacterCountBits(o)+s.getSize()}static getAlphanumericCode(t){return t<Ke.ALPHANUMERIC_TABLE.length?Ke.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,r=null){if(G.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return de.KANJI;let s=!1,o=!1;for(let l=0,u=t.length;l<u;++l){const f=t.charAt(l);if(Ke.isDigit(f))s=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)o=!0;else return de.BYTE}return o?de.ALPHANUMERIC:s?de.NUMERIC:de.BYTE}static isOnlyDoubleByteKanji(t){let r;try{r=Pe.encode(t,G.SJIS)}catch{return!1}const s=r.length;if(s%2!==0)return!1;for(let o=0;o<s;o+=2){const l=r[o]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(t,r,s,o){let l=Number.MAX_SAFE_INTEGER,u=-1;for(let f=0;f<Gr.NUM_MASK_PATTERNS;f++){ge.buildMatrix(t,r,s,f,o);let h=this.calculateMaskPenalty(o);h<l&&(l=h,u=f)}return u}static chooseVersion(t,r){for(let s=1;s<=40;s++){const o=fe.getVersionForNumber(s);if(Ke.willFit(t,o,r))return o}throw new Ge("Data too big")}static willFit(t,r,s){const o=r.getTotalCodewords(),u=r.getECBlocksForLevel(s).getTotalECCodewords(),f=o-u,h=(t+7)/8;return f>=h}static terminateBits(t,r){const s=t*8;if(r.getSize()>s)throw new Ge("data bits cannot fit in the QR Code"+r.getSize()+" > "+s);for(let u=0;u<4&&r.getSize()<s;++u)r.appendBit(!1);const o=r.getSize()&7;if(o>0)for(let u=o;u<8;u++)r.appendBit(!1);const l=t-r.getSizeInBytes();for(let u=0;u<l;++u)r.appendBits(u&1?17:236,8);if(r.getSize()!==s)throw new Ge("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,r,s,o,l,u){if(o>=s)throw new Ge("Block ID too large");const f=t%s,h=s-f,g=Math.floor(t/s),p=g+1,C=Math.floor(r/s),A=C+1,N=g-C,O=p-A;if(N!==O)throw new Ge("EC bytes mismatch");if(s!==h+f)throw new Ge("RS blocks mismatch");if(t!==(C+N)*h+(A+O)*f)throw new Ge("Total bytes mismatch");o<h?(l[0]=C,u[0]=N):(l[0]=A,u[0]=O)}static interleaveWithECBytes(t,r,s,o){if(t.getSizeInBytes()!==s)throw new Ge("Number of bits and data bytes does not match");let l=0,u=0,f=0;const h=new Array;for(let p=0;p<o;++p){const C=new Int32Array(1),A=new Int32Array(1);Ke.getNumDataBytesAndNumECBytesForBlockID(r,s,o,p,C,A);const N=C[0],O=new Uint8Array(N);t.toBytes(8*l,O,0,N);const b=Ke.generateECBytes(O,A[0]);h.push(new Kh(O,b)),u=Math.max(u,N),f=Math.max(f,b.length),l+=C[0]}if(s!==l)throw new Ge("Data bytes does not match offset");const g=new j;for(let p=0;p<u;++p)for(const C of h){const A=C.getDataBytes();p<A.length&&g.appendBits(A[p],8)}for(let p=0;p<f;++p)for(const C of h){const A=C.getErrorCorrectionBytes();p<A.length&&g.appendBits(A[p],8)}if(r!==g.getSizeInBytes())throw new Ge("Interleaving error: "+r+" and "+g.getSizeInBytes()+" differ.");return g}static generateECBytes(t,r){const s=t.length,o=new Int32Array(s+r);for(let u=0;u<s;u++)o[u]=t[u]&255;new ia(De.QR_CODE_FIELD_256).encode(o,r);const l=new Uint8Array(r);for(let u=0;u<r;u++)l[u]=o[s+u];return l}static appendModeInfo(t,r){r.appendBits(t.getBits(),4)}static appendLengthInfo(t,r,s,o){const l=s.getCharacterCountBits(r);if(t>=1<<l)throw new Ge(t+" is bigger than "+((1<<l)-1));o.appendBits(t,l)}static appendBytes(t,r,s,o){switch(r){case de.NUMERIC:Ke.appendNumericBytes(t,s);break;case de.ALPHANUMERIC:Ke.appendAlphanumericBytes(t,s);break;case de.BYTE:Ke.append8BitBytes(t,s,o);break;case de.KANJI:Ke.appendKanjiBytes(t,s);break;default:throw new Ge("Invalid mode: "+r)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const r=Ke.getDigit(t);return r>=0&&r<=9}static appendNumericBytes(t,r){const s=t.length;let o=0;for(;o<s;){const l=Ke.getDigit(t.charAt(o));if(o+2<s){const u=Ke.getDigit(t.charAt(o+1)),f=Ke.getDigit(t.charAt(o+2));r.appendBits(l*100+u*10+f,10),o+=3}else if(o+1<s){const u=Ke.getDigit(t.charAt(o+1));r.appendBits(l*10+u,7),o+=2}else r.appendBits(l,4),o++}}static appendAlphanumericBytes(t,r){const s=t.length;let o=0;for(;o<s;){const l=Ke.getAlphanumericCode(t.charCodeAt(o));if(l===-1)throw new Ge;if(o+1<s){const u=Ke.getAlphanumericCode(t.charCodeAt(o+1));if(u===-1)throw new Ge;r.appendBits(l*45+u,11),o+=2}else r.appendBits(l,6),o++}}static append8BitBytes(t,r,s){let o;try{o=Pe.encode(t,s)}catch(l){throw new Ge(l)}for(let l=0,u=o.length;l!==u;l++){const f=o[l];r.appendBits(f,8)}}static appendKanjiBytes(t,r){let s;try{s=Pe.encode(t,G.SJIS)}catch(l){throw new Ge(l)}const o=s.length;for(let l=0;l<o;l+=2){const u=s[l]&255,f=s[l+1]&255,h=u<<8&4294967295|f;let g=-1;if(h>=33088&&h<=40956?g=h-33088:h>=57408&&h<=60351&&(g=h-49472),g===-1)throw new Ge("Invalid byte sequence");const p=(g>>8)*192+(g&255);r.appendBits(p,13)}}static appendECI(t,r){r.appendBits(de.ECI.getBits(),4),r.appendBits(t.getValue(),8)}}Ke.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ke.DEFAULT_BYTE_MODE_ENCODING=G.UTF8.getName();class Xr{write(t,r,s,o=null){if(t.length===0)throw new T("Found empty contents");if(r<0||s<0)throw new T("Requested dimensions are too small: "+r+"x"+s);let l=Ye.L,u=Xr.QUIET_ZONE_SIZE;o!==null&&(o.get(Et.ERROR_CORRECTION)!==void 0&&(l=Ye.fromString(o.get(Et.ERROR_CORRECTION).toString())),o.get(Et.MARGIN)!==void 0&&(u=Number.parseInt(o.get(Et.MARGIN).toString(),10)));const f=Ke.encode(t,l,o);return this.renderResult(f,r,s,u)}writeToDom(t,r,s,o,l=null){typeof t=="string"&&(t=document.querySelector(t));const u=this.write(r,s,o,l);t&&t.appendChild(u)}renderResult(t,r,s,o){const l=t.getMatrix();if(l===null)throw new He;const u=l.getWidth(),f=l.getHeight(),h=u+o*2,g=f+o*2,p=Math.max(r,h),C=Math.max(s,g),A=Math.min(Math.floor(p/h),Math.floor(C/g)),N=Math.floor((p-u*A)/2),O=Math.floor((C-f*A)/2),b=this.createSVGElement(p,C);for(let B=0,H=O;B<f;B++,H+=A)for(let J=0,$=N;J<u;J++,$+=A)if(l.get(J,B)===1){const K=this.createSvgRectElement($,H,A,A);b.appendChild(K)}return b}createSVGElement(t,r){const s=document.createElementNS(Xr.SVG_NS,"svg");return s.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width",r.toString()),s}createSvgRectElement(t,r,s,o){const l=document.createElementNS(Xr.SVG_NS,"rect");return l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",o.toString()),l.setAttributeNS(null,"fill","#000000"),l}}Xr.QUIET_ZONE_SIZE=4,Xr.SVG_NS="http://www.w3.org/2000/svg";class mi{encode(t,r,s,o,l){if(t.length===0)throw new T("Found empty contents");if(r!==ae.QR_CODE)throw new T("Can only encode QR_CODE, but got "+r);if(s<0||o<0)throw new T(`Requested dimensions are too small: ${s}x${o}`);let u=Ye.L,f=mi.QUIET_ZONE_SIZE;l!==null&&(l.get(Et.ERROR_CORRECTION)!==void 0&&(u=Ye.fromString(l.get(Et.ERROR_CORRECTION).toString())),l.get(Et.MARGIN)!==void 0&&(f=Number.parseInt(l.get(Et.MARGIN).toString(),10)));const h=Ke.encode(t,u,l);return mi.renderResult(h,s,o,f)}static renderResult(t,r,s,o){const l=t.getMatrix();if(l===null)throw new He;const u=l.getWidth(),f=l.getHeight(),h=u+o*2,g=f+o*2,p=Math.max(r,h),C=Math.max(s,g),A=Math.min(Math.floor(p/h),Math.floor(C/g)),N=Math.floor((p-u*A)/2),O=Math.floor((C-f*A)/2),b=new Be(p,C);for(let B=0,H=O;B<f;B++,H+=A)for(let J=0,$=N;J<u;J++,$+=A)l.get(J,B)===1&&b.setRegion($,H,A,A);return b}}mi.QUIET_ZONE_SIZE=4;class qh{encode(t,r,s,o,l){let u;switch(r){case ae.QR_CODE:u=new mi;break;default:throw new T("No encoder available for format "+r)}return u.encode(t,r,s,o,l)}}class Hn extends re{constructor(t,r,s,o,l,u,f,h){if(super(u,f),this.yuvData=t,this.dataWidth=r,this.dataHeight=s,this.left=o,this.top=l,o+u>r||l+f>s)throw new T("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(u,f)}getRow(t,r){if(t<0||t>=this.getHeight())throw new T("Requested row is outside the image: "+t);const s=this.getWidth();(r==null||r.length<s)&&(r=new Uint8ClampedArray(s));const o=(t+this.top)*this.dataWidth+this.left;return P.arraycopy(this.yuvData,o,r,0,s),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;const s=t*r,o=new Uint8ClampedArray(s);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return P.arraycopy(this.yuvData,l,o,0,s),o;for(let u=0;u<r;u++){const f=u*t;P.arraycopy(this.yuvData,l,o,f,t),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,r,s,o){return new Hn(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,s,o,!1)}renderThumbnail(){const t=this.getWidth()/Hn.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/Hn.THUMBNAIL_SCALE_FACTOR,s=new Int32Array(t*r),o=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let u=0;u<r;u++){const f=u*t;for(let h=0;h<t;h++){const g=o[l+h*Hn.THUMBNAIL_SCALE_FACTOR]&255;s[f+h]=4278190080|g*65793}l+=this.dataWidth*Hn.THUMBNAIL_SCALE_FACTOR}return s}getThumbnailWidth(){return this.getWidth()/Hn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Hn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,r){const s=this.yuvData;for(let o=0,l=this.top*this.dataWidth+this.left;o<r;o++,l+=this.dataWidth){const u=l+t/2;for(let f=l,h=l+t-1;f<u;f++,h--){const g=s[f];s[f]=s[h],s[h]=g}}}invert(){return new ce(this)}}Hn.THUMBNAIL_SCALE_FACTOR=2;class sa extends re{constructor(t,r,s,o,l,u,f){if(super(r,s),this.dataWidth=o,this.dataHeight=l,this.left=u,this.top=f,t.BYTES_PER_ELEMENT===4){const h=r*s,g=new Uint8ClampedArray(h);for(let p=0;p<h;p++){const C=t[p],A=C>>16&255,N=C>>7&510,O=C&255;g[p]=(A+N+O)/4&255}this.luminances=g}else this.luminances=t;if(o===void 0&&(this.dataWidth=r),l===void 0&&(this.dataHeight=s),u===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+s>this.dataHeight)throw new T("Crop rectangle does not fit within image data.")}getRow(t,r){if(t<0||t>=this.getHeight())throw new T("Requested row is outside the image: "+t);const s=this.getWidth();(r==null||r.length<s)&&(r=new Uint8ClampedArray(s));const o=(t+this.top)*this.dataWidth+this.left;return P.arraycopy(this.luminances,o,r,0,s),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;const s=t*r,o=new Uint8ClampedArray(s);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return P.arraycopy(this.luminances,l,o,0,s),o;for(let u=0;u<r;u++){const f=u*t;P.arraycopy(this.luminances,l,o,f,t),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,r,s,o){return new sa(this.luminances,s,o,this.dataWidth,this.dataHeight,this.left+t,this.top+r)}invert(){return new ce(this)}}class $c extends G{static forName(t){return this.getCharacterSetECIByName(t)}}class oa{}oa.ISO_8859_1=G.ISO8859_1;class e1{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class t1{static singletonList(t){return[t]}static min(t,r){return t.sort(r)[0]}}class Qh{constructor(t){this.previous=t}getPrevious(){return this.previous}}class wi extends Qh{constructor(t,r,s){super(t),this.value=r,this.bitCount=s}appendTo(t,r){t.appendBits(this.value,this.bitCount)}add(t,r){return new wi(this,t,r)}addBinaryShift(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new wi(this,t,r)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+R.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class la extends wi{constructor(t,r,s){super(t,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=s}appendTo(t,r){for(let s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):s===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+s],8)}addBinaryShift(t,r){return new la(this,t,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Jh(E,t,r){return new la(E,t,r)}function as(E,t,r){return new wi(E,t,r)}const $h=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],mr=0,go=1,En=2,n1=3,Wn=4,e2=new wi(null,0,0),aa=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function t2(E){for(let t of E)_.fill(t,-1);return E[mr][Wn]=0,E[go][Wn]=0,E[go][mr]=28,E[n1][Wn]=0,E[En][Wn]=0,E[En][mr]=15,E}const r1=t2(_.createInt32Array(6,6));class Gn{constructor(t,r,s,o){this.token=t,this.mode=r,this.binaryShiftByteCount=s,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,r){let s=this.bitCount,o=this.token;if(t!==this.mode){let u=aa[this.mode][t];o=as(o,u&65535,u>>16),s+=u>>16}let l=t===En?4:5;return o=as(o,r,l),new Gn(o,t,0,s+l)}shiftAndAppend(t,r){let s=this.token,o=this.mode===En?4:5;return s=as(s,r1[this.mode][t],o),s=as(s,r,5),new Gn(s,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(t){let r=this.token,s=this.mode,o=this.bitCount;if(this.mode===Wn||this.mode===En){let f=aa[s][mr];r=as(r,f&65535,f>>16),o+=f>>16,s=mr}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new Gn(r,s,this.binaryShiftByteCount+1,o+l);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(t+1)),u}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=Jh(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Gn(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let r=this.bitCount+(aa[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=Gn.calculateBinaryShiftCost(t)-Gn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount}toBitArray(t){let r=[];for(let o=this.endBinaryShift(t.length).token;o!==null;o=o.getPrevious())r.unshift(o);let s=new j;for(const o of r)o.appendTo(s,t);return s}toString(){return ue.format("%s bits=%d bytes=%d",$h[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Gn.INITIAL_STATE=new Gn(e2,mr,0,0);function n2(E){const t=ue.getCharCode(" "),r=ue.getCharCode("."),s=ue.getCharCode(",");E[mr][t]=1;const o=ue.getCharCode("Z"),l=ue.getCharCode("A");for(let A=l;A<=o;A++)E[mr][A]=A-l+2;E[go][t]=1;const u=ue.getCharCode("z"),f=ue.getCharCode("a");for(let A=f;A<=u;A++)E[go][A]=A-f+2;E[En][t]=1;const h=ue.getCharCode("9"),g=ue.getCharCode("0");for(let A=g;A<=h;A++)E[En][A]=A-g+2;E[En][s]=12,E[En][r]=13;const p=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let A=0;A<p.length;A++)E[n1][ue.getCharCode(p[A])]=A;const C=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let A=0;A<C.length;A++)ue.getCharCode(C[A])>0&&(E[Wn][ue.getCharCode(C[A])]=A);return E}const ua=n2(_.createInt32Array(5,256));class us{constructor(t){this.text=t}encode(){const t=ue.getCharCode(" "),r=ue.getCharCode(`
`);let s=t1.singletonList(Gn.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let u,f=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case ue.getCharCode("\r"):u=f===r?2:0;break;case ue.getCharCode("."):u=f===t?3:0;break;case ue.getCharCode(","):u=f===t?4:0;break;case ue.getCharCode(":"):u=f===t?5:0;break;default:u=0}u>0?(s=us.updateStateListForPair(s,l,u),l++):s=this.updateStateListForChar(s,l)}return t1.min(s,(l,u)=>l.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,r){const s=[];for(let o of t)this.updateStateForChar(o,r,s);return us.simplifyStates(s)}updateStateForChar(t,r,s){let o=this.text[r]&255,l=ua[t.getMode()][o]>0,u=null;for(let f=0;f<=Wn;f++){let h=ua[f][o];if(h>0){if(u==null&&(u=t.endBinaryShift(r)),!l||f===t.getMode()||f===En){const g=u.latchAndAppend(f,h);s.push(g)}if(!l&&r1[t.getMode()][f]>=0){const g=u.shiftAndAppend(f,h);s.push(g)}}}if(t.getBinaryShiftByteCount()>0||ua[t.getMode()][o]===0){let f=t.addBinaryShiftChar(r);s.push(f)}}static updateStateListForPair(t,r,s){const o=[];for(let l of t)this.updateStateForPair(l,r,s,o);return this.simplifyStates(o)}static updateStateForPair(t,r,s,o){let l=t.endBinaryShift(r);if(o.push(l.latchAndAppend(Wn,s)),t.getMode()!==Wn&&o.push(l.shiftAndAppend(Wn,s)),s===3||s===4){let u=l.latchAndAppend(En,16-s).latchAndAppend(En,1);o.push(u)}if(t.getBinaryShiftByteCount()>0){let u=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);o.push(u)}}static simplifyStates(t){let r=[];for(const s of t){let o=!0;for(const l of r){if(l.isBetterThanOrEqualTo(s)){o=!1;break}s.isBetterThanOrEqualTo(l)&&(r=r.filter(u=>u!==l))}o&&r.push(s)}return r}}class Me{constructor(){}static encodeBytes(t){return Me.encode(t,Me.DEFAULT_EC_PERCENT,Me.DEFAULT_AZTEC_LAYERS)}static encode(t,r,s){let o=new us(t).encode(),l=R.truncDivision(o.getSize()*r,100)+11,u=o.getSize()+l,f,h,g,p,C;if(s!==Me.DEFAULT_AZTEC_LAYERS){if(f=s<0,h=Math.abs(s),h>(f?Me.MAX_NB_BITS_COMPACT:Me.MAX_NB_BITS))throw new T(ue.format("Illegal value %s for layers",s));g=Me.totalBitsInLayer(h,f),p=Me.WORD_SIZE[h];let K=g-g%p;if(C=Me.stuffBits(o,p),C.getSize()+l>K)throw new T("Data to large for user specified layer");if(f&&C.getSize()>p*64)throw new T("Data to large for user specified layer")}else{p=0,C=null;for(let K=0;;K++){if(K>Me.MAX_NB_BITS)throw new T("Data too large for an Aztec code");if(f=K<=3,h=f?K+1:K,g=Me.totalBitsInLayer(h,f),u>g)continue;(C==null||p!==Me.WORD_SIZE[h])&&(p=Me.WORD_SIZE[h],C=Me.stuffBits(o,p));let _e=g-g%p;if(!(f&&C.getSize()>p*64)&&C.getSize()+l<=_e)break}}let A=Me.generateCheckWords(C,g,p),N=C.getSize()/p,O=Me.generateModeMessage(f,h,N),b=(f?11:14)+h*4,B=new Int32Array(b),H;if(f){H=b;for(let K=0;K<B.length;K++)B[K]=K}else{H=b+1+2*R.truncDivision(R.truncDivision(b,2)-1,15);let K=R.truncDivision(b,2),_e=R.truncDivision(H,2);for(let Ce=0;Ce<K;Ce++){let Qt=Ce+R.truncDivision(Ce,15);B[K-Ce-1]=_e-Qt-1,B[K+Ce]=_e+Qt+1}}let J=new Be(H);for(let K=0,_e=0;K<h;K++){let Ce=(h-K)*4+(f?9:12);for(let Qt=0;Qt<Ce;Qt++){let On=Qt*2;for(let Jt=0;Jt<2;Jt++)A.get(_e+On+Jt)&&J.set(B[K*2+Jt],B[K*2+Qt]),A.get(_e+Ce*2+On+Jt)&&J.set(B[K*2+Qt],B[b-1-K*2-Jt]),A.get(_e+Ce*4+On+Jt)&&J.set(B[b-1-K*2-Jt],B[b-1-K*2-Qt]),A.get(_e+Ce*6+On+Jt)&&J.set(B[b-1-K*2-Qt],B[K*2+Jt])}_e+=Ce*8}if(Me.drawModeMessage(J,f,H,O),f)Me.drawBullsEye(J,R.truncDivision(H,2),5);else{Me.drawBullsEye(J,R.truncDivision(H,2),7);for(let K=0,_e=0;K<R.truncDivision(b,2)-1;K+=15,_e+=16)for(let Ce=R.truncDivision(H,2)&1;Ce<H;Ce+=2)J.set(R.truncDivision(H,2)-_e,Ce),J.set(R.truncDivision(H,2)+_e,Ce),J.set(Ce,R.truncDivision(H,2)-_e),J.set(Ce,R.truncDivision(H,2)+_e)}let $=new e1;return $.setCompact(f),$.setSize(H),$.setLayers(h),$.setCodeWords(N),$.setMatrix(J),$}static drawBullsEye(t,r,s){for(let o=0;o<s;o+=2)for(let l=r-o;l<=r+o;l++)t.set(l,r-o),t.set(l,r+o),t.set(r-o,l),t.set(r+o,l);t.set(r-s,r-s),t.set(r-s+1,r-s),t.set(r-s,r-s+1),t.set(r+s,r-s),t.set(r+s,r-s+1),t.set(r+s,r+s-1)}static generateModeMessage(t,r,s){let o=new j;return t?(o.appendBits(r-1,2),o.appendBits(s-1,6),o=Me.generateCheckWords(o,28,4)):(o.appendBits(r-1,5),o.appendBits(s-1,11),o=Me.generateCheckWords(o,40,4)),o}static drawModeMessage(t,r,s,o){let l=R.truncDivision(s,2);if(r)for(let u=0;u<7;u++){let f=l-3+u;o.get(u)&&t.set(f,l-5),o.get(u+7)&&t.set(l+5,f),o.get(20-u)&&t.set(f,l+5),o.get(27-u)&&t.set(l-5,f)}else for(let u=0;u<10;u++){let f=l-5+u+R.truncDivision(u,5);o.get(u)&&t.set(f,l-7),o.get(u+10)&&t.set(l+7,f),o.get(29-u)&&t.set(f,l+7),o.get(39-u)&&t.set(l-7,f)}}static generateCheckWords(t,r,s){let o=t.getSize()/s,l=new ia(Me.getGF(s)),u=R.truncDivision(r,s),f=Me.bitsToWords(t,s,u);l.encode(f,u-o);let h=r%s,g=new j;g.appendBits(0,h);for(const p of Array.from(f))g.appendBits(p,s);return g}static bitsToWords(t,r,s){let o=new Int32Array(s),l,u;for(l=0,u=t.getSize()/r;l<u;l++){let f=0;for(let h=0;h<r;h++)f|=t.get(l*r+h)?1<<r-h-1:0;o[l]=f}return o}static getGF(t){switch(t){case 4:return De.AZTEC_PARAM;case 6:return De.AZTEC_DATA_6;case 8:return De.AZTEC_DATA_8;case 10:return De.AZTEC_DATA_10;case 12:return De.AZTEC_DATA_12;default:throw new T("Unsupported word size "+t)}}static stuffBits(t,r){let s=new j,o=t.getSize(),l=(1<<r)-2;for(let u=0;u<o;u+=r){let f=0;for(let h=0;h<r;h++)(u+h>=o||t.get(u+h))&&(f|=1<<r-1-h);(f&l)===l?(s.appendBits(f&l,r),u--):f&l?s.appendBits(f,r):(s.appendBits(f|1,r),u--)}return s}static totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}Me.DEFAULT_EC_PERCENT=33,Me.DEFAULT_AZTEC_LAYERS=0,Me.MAX_NB_BITS=32,Me.MAX_NB_BITS_COMPACT=4,Me.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class xo{encode(t,r,s,o){return this.encodeWithHints(t,r,s,o,null)}encodeWithHints(t,r,s,o,l){let u=oa.ISO_8859_1,f=Me.DEFAULT_EC_PERCENT,h=Me.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(Et.CHARACTER_SET)&&(u=$c.forName(l.get(Et.CHARACTER_SET).toString())),l.has(Et.ERROR_CORRECTION)&&(f=R.parseInt(l.get(Et.ERROR_CORRECTION).toString())),l.has(Et.AZTEC_LAYERS)&&(h=R.parseInt(l.get(Et.AZTEC_LAYERS).toString()))),xo.encodeLayers(t,r,s,o,u,f,h)}static encodeLayers(t,r,s,o,l,u,f){if(r!==ae.AZTEC)throw new T("Can only encode AZTEC, but got "+r);let h=Me.encode(ue.getBytes(t,l),u,f);return xo.renderResult(h,s,o)}static renderResult(t,r,s){let o=t.getMatrix();if(o==null)throw new He;let l=o.getWidth(),u=o.getHeight(),f=Math.max(r,l),h=Math.max(s,u),g=Math.min(f/l,h/u),p=(f-l*g)/2,C=(h-u*g)/2,A=new Be(f,h);for(let N=0,O=C;N<u;N++,O+=g)for(let b=0,B=p;b<l;b++,B+=g)o.get(b,N)&&A.setRegion(B,O,g,g);return A}}i.AbstractExpandedDecoder=Zl,i.ArgumentException=v,i.ArithmeticException=jr,i.AztecCode=e1,i.AztecCodeReader=so,i.AztecCodeWriter=xo,i.AztecDecoder=je,i.AztecDetector=jc,i.AztecDetectorResult=pn,i.AztecEncoder=Me,i.AztecHighLevelEncoder=us,i.AztecPoint=zt,i.BarcodeFormat=ae,i.Binarizer=k,i.BinaryBitmap=M,i.BitArray=j,i.BitMatrix=Be,i.BitSource=Jl,i.BrowserAztecCodeReader=_h,i.BrowserBarcodeReader=Mh,i.BrowserCodeReader=St,i.BrowserDatamatrixCodeReader=Bh,i.BrowserMultiFormatReader=Xh,i.BrowserPDF417Reader=Yh,i.BrowserQRCodeReader=Zh,i.BrowserQRCodeSvgWriter=Xr,i.CharacterSetECI=G,i.ChecksumException=U,i.Code128Reader=ie,i.Code39Reader=wt,i.DataMatrixDecodedBitStreamParser=hr,i.DataMatrixReader=gr,i.DecodeHintType=q,i.DecoderResult=Fr,i.DefaultGridSampler=Uc,i.DetectorResult=$e,i.EAN13Reader=Vr,i.EncodeHintType=Et,i.Exception=m,i.FormatException=F,i.GenericGF=De,i.GenericGFPoly=kt,i.GlobalHistogramBinarizer=Re,i.GridSampler=Wl,i.GridSamplerInstance=fr,i.HTMLCanvasElementLuminanceSource=he,i.HybridBinarizer=xe,i.ITFReader=We,i.IllegalArgumentException=T,i.IllegalStateException=He,i.InvertedLuminanceSource=ce,i.LuminanceSource=re,i.MathUtils=Y,i.MultiFormatOneDReader=xi,i.MultiFormatReader=Jc,i.MultiFormatWriter=qh,i.NotFoundException=W,i.OneDReader=xt,i.PDF417DecodedBitStreamParser=V,i.PDF417DecoderErrorCorrection=Xc,i.PDF417Reader=Rt,i.PDF417ResultMetadata=Zc,i.PerspectiveTransform=_n,i.PlanarYUVLuminanceSource=Hn,i.QRCodeByteMatrix=ho,i.QRCodeDataMask=wn,i.QRCodeDecodedBitStreamParser=nt,i.QRCodeDecoderErrorCorrectionLevel=Ye,i.QRCodeDecoderFormatInformation=Pt,i.QRCodeEncoder=Ke,i.QRCodeEncoderQRCode=Gr,i.QRCodeMaskUtil=at,i.QRCodeMatrixUtil=ge,i.QRCodeMode=de,i.QRCodeReader=xr,i.QRCodeVersion=fe,i.QRCodeWriter=mi,i.RGBLuminanceSource=sa,i.RSS14Reader=lt,i.RSSExpandedReader=X,i.ReaderException=fo,i.ReedSolomonDecoder=cr,i.ReedSolomonEncoder=ia,i.ReedSolomonException=ur,i.Result=be,i.ResultMetadataType=gt,i.ResultPoint=ne,i.StringUtils=ue,i.UnsupportedOperationException=me,i.VideoInputDevice=Te,i.WhiteRectangleDetector=Nn,i.WriterException=Ge,i.ZXingArrays=_,i.ZXingCharset=$c,i.ZXingInteger=R,i.ZXingStandardCharsets=oa,i.ZXingStringBuilder=ye,i.ZXingStringEncoding=Pe,i.ZXingSystem=P,i.createAbstractExpandedDecoder=Wc,Object.defineProperty(i,"__esModule",{value:!0})})})(Uu,Uu.exports);var Qe=Uu.exports;const Tm=V0(Qe),Nm=s2({__proto__:null,default:Tm},[Qe]);var D0=function(){function e(n,i,a){if(this.formatMap=new Map([[oe.QR_CODE,Qe.BarcodeFormat.QR_CODE],[oe.AZTEC,Qe.BarcodeFormat.AZTEC],[oe.CODABAR,Qe.BarcodeFormat.CODABAR],[oe.CODE_39,Qe.BarcodeFormat.CODE_39],[oe.CODE_93,Qe.BarcodeFormat.CODE_93],[oe.CODE_128,Qe.BarcodeFormat.CODE_128],[oe.DATA_MATRIX,Qe.BarcodeFormat.DATA_MATRIX],[oe.MAXICODE,Qe.BarcodeFormat.MAXICODE],[oe.ITF,Qe.BarcodeFormat.ITF],[oe.EAN_13,Qe.BarcodeFormat.EAN_13],[oe.EAN_8,Qe.BarcodeFormat.EAN_8],[oe.PDF_417,Qe.BarcodeFormat.PDF_417],[oe.RSS_14,Qe.BarcodeFormat.RSS_14],[oe.RSS_EXPANDED,Qe.BarcodeFormat.RSS_EXPANDED],[oe.UPC_A,Qe.BarcodeFormat.UPC_A],[oe.UPC_E,Qe.BarcodeFormat.UPC_E],[oe.UPC_EAN_EXTENSION,Qe.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Nm)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=i,this.logger=a;var c=this.createZXingFormats(n),d=new Map;d.set(Qe.DecodeHintType.POSSIBLE_FORMATS,c),d.set(Qe.DecodeHintType.TRY_HARDER,!1),this.hints=d}return e.prototype.decodeAsync=function(n){var i=this;return new Promise(function(a,c){try{a(i.decode(n))}catch(d){c(d)}})},e.prototype.decode=function(n){var i=new Qe.MultiFormatReader(this.verbose,this.hints),a=new Qe.HTMLCanvasElementLuminanceSource(n),c=new Qe.BinaryBitmap(new Qe.HybridBinarizer(a)),d=i.decode(c);return{text:d.text,format:Ih.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(i,a,c){n.set(i,a)}),n},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createZXingFormats=function(n){for(var i=[],a=0,c=n;a<c.length;a++){var d=c[a];this.formatMap.has(d)?i.push(this.formatMap.get(d)):this.logger.logError("".concat(d," is not supported by")+"ZXingHtml5QrcodeShim")}return i},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),_m=function(e,n,i,a){function c(d){return d instanceof i?d:new i(function(x){x(d)})}return new(i||(i=Promise))(function(d,x){function w(v){try{m(a.next(v))}catch(T){x(T)}}function y(v){try{m(a.throw(v))}catch(T){x(T)}}function m(v){v.done?d(v.value):c(v.value).then(w,y)}m((a=a.apply(e,n||[])).next())})},Rm=function(e,n){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,x;return x={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function w(m){return function(v){return y([m,v])}}function y(m){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,m[0]&&(i=0)),i;)try{if(a=1,c&&(d=m[0]&2?c.return:m[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,m[1])).done)return d;switch(c=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,c=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){i.label=m[1];break}if(m[0]===6&&i.label<d[1]){i.label=d[1],d=m;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(m);break}d[2]&&i.ops.pop(),i.trys.pop();continue}m=n.call(e,i)}catch(v){m=[6,v],c=0}finally{a=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},M0=function(){function e(n,i,a){if(this.formatMap=new Map([[oe.QR_CODE,"qr_code"],[oe.AZTEC,"aztec"],[oe.CODABAR,"codabar"],[oe.CODE_39,"code_39"],[oe.CODE_93,"code_93"],[oe.CODE_128,"code_128"],[oe.DATA_MATRIX,"data_matrix"],[oe.ITF,"itf"],[oe.EAN_13,"ean_13"],[oe.EAN_8,"ean_8"],[oe.PDF_417,"pdf417"],[oe.UPC_A,"upc_a"],[oe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=i,this.logger=a;var c=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(c),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var n=new BarcodeDetector({formats:["qr_code"]});return typeof n<"u"},e.prototype.decodeAsync=function(n){return _m(this,void 0,void 0,function(){var i,a;return Rm(this,function(c){switch(c.label){case 0:return[4,this.detector.detect(n)];case 1:if(i=c.sent(),!i||i.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(i),[2,{text:a.rawValue,format:Ih.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(n){for(var i=null,a=0,c=0,d=n;c<d.length;c++){var x=d[c],w=x.boundingBox.width*x.boundingBox.height;w>a&&(a=w,i=x)}if(!i)throw"No largest barcode found";return i},e.prototype.createBarcodeDetectorFormats=function(n){for(var i=[],a=0,c=n;a<c.length;a++){var d=c[a];this.formatMap.has(d)?i.push(this.formatMap.get(d)):this.logger.warn("".concat(d," is not supported by")+"BarcodeDetectorDelegate")}return{formats:i}},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(i,a,c){n.set(i,a)}),n},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),k0=function(e,n,i,a){function c(d){return d instanceof i?d:new i(function(x){x(d)})}return new(i||(i=Promise))(function(d,x){function w(v){try{m(a.next(v))}catch(T){x(T)}}function y(v){try{m(a.throw(v))}catch(T){x(T)}}function m(v){v.done?d(v.value):c(v.value).then(w,y)}m((a=a.apply(e,n||[])).next())})},B0=function(e,n){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,x;return x={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function w(m){return function(v){return y([m,v])}}function y(m){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,m[0]&&(i=0)),i;)try{if(a=1,c&&(d=m[0]&2?c.return:m[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,m[1])).done)return d;switch(c=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,c=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){i.label=m[1];break}if(m[0]===6&&i.label<d[1]){i.label=d[1],d=m;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(m);break}d[2]&&i.ops.pop(),i.trys.pop();continue}m=n.call(e,i)}catch(v){m=[6,v],c=0}finally{a=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Om=function(){function e(n,i,a,c){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,i&&M0.isSupported()?(this.primaryDecoder=new M0(n,a,c),this.secondaryDecoder=new D0(n,a,c)):this.primaryDecoder=new D0(n,a,c)}return e.prototype.decodeAsync=function(n){return k0(this,void 0,void 0,function(){var i;return B0(this,function(a){switch(a.label){case 0:i=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(i),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(n){return k0(this,void 0,void 0,function(){var i,a;return B0(this,function(c){switch(c.label){case 0:i=performance.now(),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,c.sent()];case 3:if(a=c.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw a;case 4:return this.possiblyLogPerformance(i),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(n){if(this.verbose){var i=performance.now()-n;this.executionResults.push(i),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,i=0,a=this.executionResults;i<a.length;i++){var c=a[i];n+=c}var d=n/this.executionResults.length;console.log("".concat(d," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Fc=function(){var e=function(n,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])},e(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),Cl=function(e,n,i,a){function c(d){return d instanceof i?d:new i(function(x){x(d)})}return new(i||(i=Promise))(function(d,x){function w(v){try{m(a.next(v))}catch(T){x(T)}}function y(v){try{m(a.throw(v))}catch(T){x(T)}}function m(v){v.done?d(v.value):c(v.value).then(w,y)}m((a=a.apply(e,n||[])).next())})},Al=function(e,n){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,x;return x={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function w(m){return function(v){return y([m,v])}}function y(m){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,m[0]&&(i=0)),i;)try{if(a=1,c&&(d=m[0]&2?c.return:m[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,m[1])).done)return d;switch(c=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,c=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){i.label=m[1];break}if(m[0]===6&&i.label<d[1]){i.label=d[1],d=m;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(m);break}d[2]&&i.ops.pop(),i.trys.pop();continue}m=n.call(e,i)}catch(v){m=[6,v],c=0}finally{a=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Nh=function(){function e(n,i){this.name=n,this.track=i}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(n){var i={};i[this.name]=n;var a={advanced:[i]};return this.track.applyConstraints(a)},e.prototype.value=function(){var n=this.track.getSettings();if(this.name in n){var i=n[this.name];return i}return null},e}(),bm=function(e){Fc(n,e);function n(i,a){return e.call(this,i,a)||this}return n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(i){var a={};a[this.name]=i;var c={advanced:[a]};return this.track.applyConstraints(c)},n.prototype.getCapabilities=function(){this.failIfNotSupported();var i=this.track.getCapabilities(),a=i[this.name];return{min:a.min,max:a.max,step:a.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},n}(Nh),Dm=function(e){Fc(n,e);function n(i){return e.call(this,"zoom",i)||this}return n}(bm),Mm=function(e){Fc(n,e);function n(i){return e.call(this,"torch",i)||this}return n}(Nh),km=function(){function e(n){this.track=n}return e.prototype.zoomFeature=function(){return new Dm(this.track)},e.prototype.torchFeature=function(){return new Mm(this.track)},e}(),Bm=function(){function e(n,i,a){this.isClosed=!1,this.parentElement=n,this.mediaStream=i,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return e.prototype.createVideoElement=function(n){var i=document.createElement("video");return i.style.width="".concat(n,"px"),i.style.display="block",i.muted=!0,i.setAttribute("muted","true"),i.playsInline=!0,i},e.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var i=function(){var a=n.surface.clientWidth,c=n.surface.clientHeight;n.callbacks.onRenderSurfaceReady(a,c),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(n,i,a,c){return Cl(this,void 0,void 0,function(){var d,x;return Al(this,function(w){switch(w.label){case 0:return d=new e(n,i,c),a.aspectRatio?(x={aspectRatio:a.aspectRatio},[4,d.getFirstTrackOrFail().applyConstraints(x)]):[3,2];case 1:w.sent(),w.label=2;case 2:return d.setupSurface(),[2,d]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(n){this.failIfClosed();var i=this,a=function(){setTimeout(n,200),i.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(n){return Cl(this,void 0,void 0,function(){return Al(this,function(i){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(i,a){var c=n.mediaStream.getVideoTracks(),d=c.length,x=0;n.mediaStream.getVideoTracks().forEach(function(w){n.mediaStream.removeTrack(w),w.stop(),++x,x>=d&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),i())})})},e.prototype.getCapabilities=function(){return new km(this.getFirstTrackOrFail())},e}(),Pm=function(){function e(n){this.mediaStream=n}return e.prototype.render=function(n,i,a){return Cl(this,void 0,void 0,function(){return Al(this,function(c){return[2,Bm.create(n,this.mediaStream,i,a)]})})},e.create=function(n){return Cl(this,void 0,void 0,function(){var i,a;return Al(this,function(c){switch(c.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return i={audio:!1,video:n},[4,navigator.mediaDevices.getUserMedia(i)];case 1:return a=c.sent(),[2,new e(a)]}})})},e}(),P0=function(e,n,i,a){function c(d){return d instanceof i?d:new i(function(x){x(d)})}return new(i||(i=Promise))(function(d,x){function w(v){try{m(a.next(v))}catch(T){x(T)}}function y(v){try{m(a.throw(v))}catch(T){x(T)}}function m(v){v.done?d(v.value):c(v.value).then(w,y)}m((a=a.apply(e,n||[])).next())})},L0=function(e,n){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,x;return x={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function w(m){return function(v){return y([m,v])}}function y(m){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,m[0]&&(i=0)),i;)try{if(a=1,c&&(d=m[0]&2?c.return:m[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,m[1])).done)return d;switch(c=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,c=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){i.label=m[1];break}if(m[0]===6&&i.label<d[1]){i.label=d[1],d=m;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(m);break}d[2]&&i.ops.pop(),i.trys.pop();continue}m=n.call(e,i)}catch(v){m=[6,v],c=0}finally{a=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Lm=function(){function e(){}return e.failIfNotSupported=function(){return P0(this,void 0,void 0,function(){return L0(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(n){return P0(this,void 0,void 0,function(){return L0(this,function(i){return[2,Pm.create(n)]})})},e}(),Fm=function(e,n,i,a){function c(d){return d instanceof i?d:new i(function(x){x(d)})}return new(i||(i=Promise))(function(d,x){function w(v){try{m(a.next(v))}catch(T){x(T)}}function y(v){try{m(a.throw(v))}catch(T){x(T)}}function m(v){v.done?d(v.value):c(v.value).then(w,y)}m((a=a.apply(e,n||[])).next())})},Um=function(e,n){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},a,c,d,x;return x={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function w(m){return function(v){return y([m,v])}}function y(m){if(a)throw new TypeError("Generator is already executing.");for(;x&&(x=0,m[0]&&(i=0)),i;)try{if(a=1,c&&(d=m[0]&2?c.return:m[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,m[1])).done)return d;switch(c=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,c=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){i.label=m[1];break}if(m[0]===6&&i.label<d[1]){i.label=d[1],d=m;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(m);break}d[2]&&i.ops.pop(),i.trys.pop();continue}m=n.call(e,i)}catch(v){m=[6,v],c=0}finally{a=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},jm=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var n=Bi.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(n=Bi.insecureContextCameraQueryError()),Promise.reject(n)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var n=location.host.split(":")[0];return n==="127.0.0.1"||n==="localhost"},e.getCamerasFromMediaDevices=function(){return Fm(this,void 0,void 0,function(){var n,i,a,c,d,x,w;return Um(this,function(y){switch(y.label){case 0:return n=function(m){for(var v=m.getVideoTracks(),T=0,M=v;T<M.length;T++){var U=M[T];U.enabled=!1,U.stop(),m.removeTrack(U)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return i=y.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=y.sent(),c=[],d=0,x=a;d<x.length;d++)w=x[d],w.kind==="videoinput"&&c.push({id:w.deviceId,label:w.label});return n(i),[2,c]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,i){var a=function(d){for(var x=[],w=0,y=d;w<y.length;w++){var m=y[w];m.kind==="video"&&x.push({id:m.id,label:m.label})}n(x)},c=MediaStreamTrack;c.getSources(a)})},e}(),ut;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(ut||(ut={}));var Vm=function(){function e(){this.state=ut.NOT_STARTED,this.onGoingTransactionNewState=ut.UNKNOWN}return e.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},e.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===ut.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ut.UNKNOWN,this.directTransition(n)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===ut.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ut.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ut.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(n){switch(this.state){case ut.UNKNOWN:throw"Transition from unknown is not allowed";case ut.NOT_STARTED:this.failIfNewStateIs(n,[ut.PAUSED]);break;case ut.SCANNING:break;case ut.PAUSED:break}},e.prototype.failIfNewStateIs=function(n,i){for(var a=0,c=i;a<c.length;a++){var d=c[a];if(n===d)throw"Cannot transition from ".concat(this.state," to ").concat(n)}},e}(),zm=function(){function e(n){this.stateManager=n}return e.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},e.prototype.directTransition=function(n){this.stateManager.directTransition(n)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===ut.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==ut.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ut.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===ut.PAUSED},e}(),Hm=function(){function e(){}return e.create=function(){return new zm(new Vm)},e}(),Wm=function(){var e=function(n,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])},e(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),an=function(e){Wm(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n}(Sm),Gm=function(){function e(n,i){this.logger=i,this.fps=an.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=n.disableFlip===!0,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=an.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Th.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Jn(this.qrbox)},e.create=function(n,i){return new e(n,i)},e}(),Xm=function(){function e(n,i){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.elementId=n,this.verbose=!1;var a;typeof i=="boolean"?this.verbose=i===!0:i&&(a=i,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new Im(this.verbose),this.qrcode=new Om(this.getSupportedFormats(i),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Hm.create()}return e.prototype.start=function(n,i,a,c){var d=this;if(!n)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var x;c?x=c:x=this.verbose?this.logger.log:function(){};var w=Gm.create(i,this.logger);this.clearElement();var y=!1;w.videoConstraints&&(w.isMediaStreamConstraintsValid()?y=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=y,v=document.getElementById(this.elementId);v.clientWidth?v.clientWidth:an.DEFAULT_WIDTH,v.style.position="relative",this.shouldScan=!0,this.element=v;var T=this,M=this.stateManagerProxy.startTransition(ut.SCANNING);return new Promise(function(U,k){var P=m?w.videoConstraints:T.createVideoConstraints(n);if(!P){M.cancel(),k("videoConstraints should be defined");return}var Z={};(!m||w.aspectRatio)&&(Z.aspectRatio=w.aspectRatio);var D={onRenderSurfaceReady:function(_,R){T.setupUi(_,R,w),T.isScanning=!0,T.foreverScan(w,a,x)}};Lm.failIfNotSupported().then(function(_){_.create(P).then(function(R){return R.render(d.element,Z,D).then(function(j){T.renderedCamera=j,M.execute(),U(null)}).catch(function(j){M.cancel(),k(j)})}).catch(function(R){M.cancel(),k(Bi.errorGettingUserMedia(R))})}).catch(function(_){M.cancel(),k(Bi.cameraStreamingNotSupported())})})},e.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ut.PAUSED),this.showPausedState(),(Jn(n)||n!==!0)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,i=function(){n.stateManagerProxy.directTransition(ut.SCANNING),n.hidePausedState()};if(!this.renderedCamera.isPaused()){i();return}this.renderedCamera.resume(function(){i()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var i=this.stateManagerProxy.startTransition(ut.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(n.element){var d=document.getElementById(an.SHADED_REGION_ELEMENT_ID);d&&n.element.removeChild(d)}},c=this;return this.renderedCamera.close().then(function(){return c.renderedCamera=null,c.element&&(c.element.removeChild(c.canvasElement),c.canvasElement=null),a(),c.qrRegion&&(c.qrRegion=null),c.context&&(c.context=null),i.execute(),c.hidePausedState(),c.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(n,i){return this.scanFileV2(n,i).then(function(a){return a.decodedText})},e.prototype.scanFileV2=function(n,i){var a=this;if(!n||!(n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Jn(i)&&(i=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(c,d){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(n);var x=new Image;x.onload=function(){var w=x.width,y=x.height,m=document.getElementById(a.elementId),v=m.clientWidth?m.clientWidth:an.DEFAULT_WIDTH,T=Math.max(m.clientHeight?m.clientHeight:y,an.FILE_SCAN_MIN_HEIGHT),M=a.computeCanvasDrawConfig(w,y,v,T);if(i){var U=a.createCanvasElement(v,T,"qr-canvas-visible");U.style.display="inline-block",m.appendChild(U);var k=U.getContext("2d");if(!k)throw"Unable to get 2d context from canvas";k.canvas.width=v,k.canvas.height=T,k.drawImage(x,0,0,w,y,M.x,M.y,M.width,M.height)}var P=an.FILE_SCAN_HIDDEN_CANVAS_PADDING,Z=Math.max(x.width,M.width),D=Math.max(x.height,M.height),_=Z+2*P,R=D+2*P,j=a.createCanvasElement(_,R);m.appendChild(j);var ee=j.getContext("2d");if(!ee)throw"Unable to get 2d context from canvas";ee.canvas.width=_,ee.canvas.height=R,ee.drawImage(x,0,0,w,y,P,P,Z,D);try{a.qrcode.decodeRobustlyAsync(j).then(function(q){c(b0.createFromQrcodeResult(q))}).catch(d)}catch(q){d("QR code parse error, error = ".concat(q))}},x.onerror=d,x.onabort=d,x.onstalled=d,x.onsuspend=d,x.src=URL.createObjectURL(n)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return jm.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(n){if(n){if(!Th.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(n){var i=[oe.QR_CODE,oe.AZTEC,oe.CODABAR,oe.CODE_39,oe.CODE_93,oe.CODE_128,oe.DATA_MATRIX,oe.MAXICODE,oe.ITF,oe.EAN_13,oe.EAN_8,oe.PDF_417,oe.RSS_14,oe.RSS_EXPANDED,oe.UPC_A,oe.UPC_E,oe.UPC_EAN_EXTENSION];if(!n||typeof n=="boolean"||!n.formatsToSupport)return i;if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(n.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],c=0,d=n.formatsToSupport;c<d.length;c++){var x=d[c];Am(x)?a.push(x):this.logger.warn("Invalid format: ".concat(x," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},e.prototype.getUseBarCodeDetectorIfSupported=function(n){if(Jn(n))return!0;if(!Jn(n.useBarCodeDetectorIfSupported))return n.useBarCodeDetectorIfSupported!==!1;if(Jn(n.experimentalFeatures))return!0;var i=n.experimentalFeatures;return Jn(i.useBarCodeDetectorIfSupported)?!0:i.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(n,i,a){var c=this,d=a.qrbox;this.validateQrboxConfig(d);var x=this.toQrdimensions(n,i,d),w=function(m){if(m<an.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(an.MIN_QR_BOX_SIZE,"px.")},y=function(m){return m>n&&(c.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=n),m};w(x.width),w(x.height),x.width=y(x.width)},e.prototype.validateQrboxConfig=function(n){if(typeof n!="number"&&typeof n!="function"&&(n.width===void 0||n.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(n,i,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(n,i)}catch(c){throw new Error("qrbox config was passed as a function but it failed with unknown error"+c)}return a},e.prototype.setupUi=function(n,i,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(n,i,a);var c=Jn(a.qrbox)?{width:n,height:i}:a.qrbox;this.validateQrboxConfig(c);var d=this.toQrdimensions(n,i,c);d.height>i&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var x=a.isShadedBoxEnabled()&&d.height<=i,w={x:0,y:0,width:n,height:i},y=x?this.getShadedRegionBounds(n,i,d):w,m=this.createCanvasElement(y.width,y.height),v={willReadFrequently:!0},T=m.getContext("2d",v);T.canvas.width=y.width,T.canvas.height=y.height,this.element.append(m),x&&this.possiblyInsertShadingElement(this.element,n,i,d),this.createScannerPausedUiElement(this.element),this.qrRegion=y,this.context=T,this.canvasElement=m},e.prototype.createScannerPausedUiElement=function(n){var i=document.createElement("div");i.innerText=Bi.scannerPaused(),i.style.display="none",i.style.position="absolute",i.style.top="0px",i.style.zIndex="1",i.style.background="rgba(9, 9, 9, 0.46)",i.style.color="#FFECEC",i.style.textAlign="center",i.style.width="100%",n.appendChild(i),this.scannerPausedUiElement=i},e.prototype.scanContext=function(n,i){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(c){return n(c.text,b0.createFromQrcodeResult(c)),a.possiblyUpdateShaders(!0),!0}).catch(function(c){a.possiblyUpdateShaders(!1);var d=Bi.codeParseError(c);return i(d,vm.createFrom(d)),!1})},e.prototype.foreverScan=function(n,i,a){var c=this;if(this.shouldScan&&this.renderedCamera){var d=this.renderedCamera.getSurface(),x=d.videoWidth/d.clientWidth,w=d.videoHeight/d.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var y=this.qrRegion.width*x,m=this.qrRegion.height*w,v=this.qrRegion.x*x,T=this.qrRegion.y*w;this.context.drawImage(d,v,T,y,m,0,0,this.qrRegion.width,this.qrRegion.height);var M=function(){c.foreverScanTimeout=setTimeout(function(){c.foreverScan(n,i,a)},c.getTimeoutFps(n.fps))};this.scanContext(i,a).then(function(U){!U&&n.disableFlip!==!0?(c.context.translate(c.context.canvas.width,0),c.context.scale(-1,1),c.scanContext(i,a).finally(function(){M()})):M()}).catch(function(U){c.logger.logError("Error happend while scanning context",U),M()})}},e.prototype.createVideoConstraints=function(n){if(typeof n=="string")return{deviceId:{exact:n}};if(typeof n=="object"){var i="facingMode",a="deviceId",c={user:!0,environment:!0},d="exact",x=function(k){if(k in c)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(k,"'")},w=Object.keys(n);if(w.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(w.length," keys");var y=Object.keys(n)[0];if(y!==i&&y!==a)throw"Only '".concat(i,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(y===i){var m=n.facingMode;if(typeof m=="string"){if(x(m))return{facingMode:m}}else if(typeof m=="object")if(d in m){if(x(m["".concat(d)]))return{facingMode:{exact:m["".concat(d)]}}}else throw"'facingMode' should be string or object with"+" ".concat(d," as key.");else{var v=typeof m;throw"Invalid type of 'facingMode' = ".concat(v)}}else{var T=n.deviceId;if(typeof T=="string")return{deviceId:T};if(typeof T=="object"){if(d in T)return{deviceId:{exact:T["".concat(d)]}};throw"'deviceId' should be string or object with"+" ".concat(d," as key.")}else{var M=typeof T;throw"Invalid type of 'deviceId' = ".concat(M)}}}var U=typeof n;throw"Invalid type of 'cameraIdOrConfig' = ".concat(U)},e.prototype.computeCanvasDrawConfig=function(n,i,a,c){if(n<=a&&i<=c){var d=(a-n)/2,x=(c-i)/2;return{x:d,y:x,width:n,height:i}}else{var w=n,y=i;return n>a&&(i=a/n*i,n=a),i>c&&(n=c/i*n,i=c),this.logger.log("Image downsampled from "+"".concat(w,"X").concat(y)+" to ".concat(n,"X").concat(i,".")),this.computeCanvasDrawConfig(n,i,a,c)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},e.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(i){i.style.backgroundColor=n?an.BORDER_SHADER_MATCH_COLOR:an.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(n,i,a){var c=n,d=i,x=document.createElement("canvas");return x.style.width="".concat(c,"px"),x.style.height="".concat(d,"px"),x.style.display="none",x.id=Jn(a)?"qr-canvas":a,x},e.prototype.getShadedRegionBounds=function(n,i,a){if(a.width>n||a.height>i)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-a.width)/2,y:(i-a.height)/2,width:a.width,height:a.height}},e.prototype.possiblyInsertShadingElement=function(n,i,a,c){if(!(i-c.width<1||a-c.height<1)){var d=document.createElement("div");d.style.position="absolute";var x=(i-c.width)/2,w=(a-c.height)/2;if(d.style.borderLeft="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderRight="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderTop="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderBottom="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),d.style.boxSizing="border-box",d.style.top="0px",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.id="".concat(an.SHADED_REGION_ELEMENT_ID),i-c.width<11||a-c.height<11)this.hasBorderShaders=!1;else{var y=5,m=40;this.insertShaderBorders(d,m,y,-y,null,0,!0),this.insertShaderBorders(d,m,y,-y,null,0,!1),this.insertShaderBorders(d,m,y,null,-y,0,!0),this.insertShaderBorders(d,m,y,null,-y,0,!1),this.insertShaderBorders(d,y,m+y,-y,null,-y,!0),this.insertShaderBorders(d,y,m+y,null,-y,-y,!0),this.insertShaderBorders(d,y,m+y,-y,null,-y,!1),this.insertShaderBorders(d,y,m+y,null,-y,-y,!1),this.hasBorderShaders=!0}n.append(d)}},e.prototype.insertShaderBorders=function(n,i,a,c,d,x,w){var y=document.createElement("div");y.style.position="absolute",y.style.backgroundColor=an.BORDER_SHADER_DEFAULT_COLOR,y.style.width="".concat(i,"px"),y.style.height="".concat(a,"px"),c!==null&&(y.style.top="".concat(c,"px")),d!==null&&(y.style.bottom="".concat(d,"px")),w?y.style.left="".concat(x,"px"):y.style.right="".concat(x,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(y),n.appendChild(y)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(n){return 1e3/n},e}(),F0;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(F0||(F0={}));const Ym=({barcode:e,onBarcodeChange:n,onBarcodeDetected:i,onAddItem:a,onViewDetails:c})=>{const[d,x]=Ie.useState(!1),[w,y]=Ie.useState({tone:"scanning",message:"Position barcode within the camera frame..."}),m=Ie.useRef(null),v=Ie.useRef(!1),T=Ie.useCallback(U=>U?U.stop().catch(k=>{`${k}`.includes("not running")||console.error("Camera stop error:",k)}).then(()=>U.clear().catch(k=>{`${k}`.includes("close it first")||console.error("Camera clear error:",k)})):Promise.resolve(),[]),M=Ie.useCallback(()=>{if(m.current){const U=m.current;m.current=null,T(U).finally(()=>{v.current=!1})}else v.current=!1;x(!1)},[T]);return Ie.useEffect(()=>{if(!d)return;const U=new Xm("qr-reader",{verbose:!1});return m.current=U,(async()=>{y({tone:"scanning",message:"Initializing camera..."});try{v.current=!1,await U.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250},aspectRatio:1},P=>{if(v.current)return;v.current=!0;const Z=(P??"").trim().toUpperCase();y({tone:"success",message:` Scanned Successfully! Barcode: ${Z}`}),i(Z),a(Z),setTimeout(()=>{M()},1200)}),y({tone:"scanning",message:"Position barcode within the camera frame..."})}catch(P){console.error("Camera error:",P),y({tone:"error",message:`Camera error: ${(P==null?void 0:P.message)??P}`}),setTimeout(()=>M(),2e3)}})(),()=>{m.current===U?T(U).finally(()=>{m.current=null,v.current=!1}):v.current=!1}},[M,d,a,i,T]),S.jsxs("div",{className:"page-content",children:[S.jsxs("div",{className:"page-header",children:[S.jsx("h2",{children:"Barcode Scanning & Item Tracking"}),S.jsx("p",{children:"Scan items to track inventory movements in real-time"})]}),S.jsxs("div",{className:"card",children:[S.jsx("div",{className:"card-header",children:S.jsx("h3",{children:"Barcode Scanner"})}),S.jsxs("div",{className:"scanner-input-group",children:[S.jsx("input",{type:"text",className:"scanner-input",placeholder:"Scan or enter barcode (e.g., WMS12345)",value:e,onChange:U=>n(U.target.value.toUpperCase())}),S.jsx("span",{className:"scanner-icon",children:""})]}),S.jsxs("div",{className:"scan-actions",children:[S.jsxs("button",{type:"button",className:"btn btn-primary",onClick:()=>x(!0),children:[S.jsx("span",{className:"scan-btn-icon",children:""}),"Scan Barcode"]}),S.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>a(e),children:"Add New Item"}),S.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>c(e),children:"View Item Details"})]}),S.jsx("p",{style:{color:"var(--text-light)",fontSize:"13px",marginTop:"10px"},children:' Tip: Click "Scan Barcode" to use your camera, or manually type the barcode above'})]}),S.jsx("div",{className:`scanner-camera-container ${d?"active":""}`,children:S.jsxs("div",{className:"scanner-camera-box",children:[S.jsxs("div",{className:"scanner-camera-header",children:[S.jsx("h3",{children:" Scan Barcode"}),S.jsx("button",{type:"button",className:"scanner-close-btn",onClick:M,children:""})]}),S.jsx("div",{id:"qr-reader"}),S.jsxs("div",{className:`scanner-status ${w.tone}`,children:[w.tone==="scanning"&&S.jsx("span",{className:"scanner-loader"}),S.jsx("span",{children:w.message})]})]})})]})},Zm=()=>S.jsxs("div",{className:"page-content",children:[S.jsxs("div",{className:"page-header",children:[S.jsx("h2",{children:"System Settings"}),S.jsx("p",{children:"Configure warehouse management preferences"})]}),S.jsxs("div",{className:"card",children:[S.jsx("div",{className:"card-header",children:S.jsx("h3",{children:"General Settings"})}),S.jsxs("div",{style:{padding:"20px 0"},children:[S.jsx("p",{style:{color:"var(--text-light)",marginBottom:"20px"},children:"Warehouse configuration and system preferences"}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[S.jsx(Ua,{label:"Enable automatic alerts",value:S.jsx("span",{style:{color:"var(--success)"},children:" Enabled"})}),S.jsx(Ua,{label:"Low stock threshold",value:S.jsx("span",{style:{fontWeight:600},children:"10 units"})}),S.jsx(Ua,{label:"Barcode scanner type",value:S.jsx("span",{style:{fontWeight:600},children:"Handheld"})})]})]})]})]}),Ua=({label:e,value:n})=>S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"15px",background:"var(--bg-light)",borderRadius:"10px"},children:[S.jsx("span",{children:e}),n]}),U0={barcode:"",name:"",weight:"",brand:"",quantity:"",location:"",expiry:""},Km=({isOpen:e,item:n,barcode:i,onClose:a,onSave:c})=>{const[d,x]=Ie.useState(U0);Ie.useEffect(()=>{x(e?n?{...n,quantity:0,location:""}:m=>({...m,barcode:i??""}):U0)},[e,i,n]);const w=(m,v)=>{x(T=>({...T,[m]:v}))},y=m=>{m.preventDefault(),c({...d,quantity:Number(d.quantity)})};return S.jsx("div",{className:`modal-overlay ${e?"active":""}`,onClick:m=>m.target===m.currentTarget&&a(),children:S.jsxs("div",{className:"modal",children:[S.jsx("div",{className:"modal-header",children:S.jsx("h3",{children:"Add New Item to Inventory"})}),S.jsx("div",{className:"modal-body",children:S.jsxs("form",{id:"add-item-form",onSubmit:y,children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Barcode / Item Code*"}),S.jsx("input",{type:"text",required:!0,value:d.barcode,onChange:m=>w("barcode",m.target.value.toUpperCase())})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Item Name*"}),S.jsx("input",{type:"text",required:!0,value:d.name,onChange:m=>w("name",m.target.value)})]}),S.jsxs("div",{className:"form-row",children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Weight*"}),S.jsx("input",{type:"text",required:!0,value:d.weight,onChange:m=>w("weight",m.target.value)})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Brand*"}),S.jsxs("select",{required:!0,value:d.brand,onChange:m=>w("brand",m.target.value),children:[S.jsx("option",{value:"",children:"Select Brand"}),S.jsx("option",{value:"MTR",children:"MTR"}),S.jsx("option",{value:"Parasuit",children:"Parasuit"}),S.jsx("option",{value:"Dabour",children:"Dabour"})]})]})]}),S.jsxs("div",{className:"form-row",children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Quantity (Boxes)*"}),S.jsx("input",{type:"number",min:"0",required:!0,value:d.quantity,onChange:m=>w("quantity",m.target.value)})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Rack Location*"}),S.jsx("input",{type:"text",required:!0,value:d.location,onChange:m=>w("location",m.target.value)})]})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Expiry Date*"}),S.jsx("input",{type:"date",required:!0,value:d.expiry,onChange:m=>w("expiry",m.target.value)})]})]})}),S.jsxs("div",{className:"modal-actions",children:[S.jsx("button",{type:"button",className:"btn btn-secondary",onClick:a,children:"Cancel"}),S.jsx("button",{type:"submit",className:"btn btn-success",form:"add-item-form",children:"Save Item"})]})]})})},qm={_id:"",barcode:"",name:"",weight:"",brand:"",quantity:0,location:"",expiry:""},Qm=({isOpen:e,item:n,onClose:i,onSave:a})=>{const[c,d]=Ie.useState(qm);Ie.useEffect(()=>{e&&n&&d({...n,quantity:n.quantity??0})},[e,n]);const x=(y,m)=>{d(v=>({...v,[y]:m}))},w=y=>{y.preventDefault(),a({...c,quantity:Number(c.quantity)})};return S.jsx("div",{className:`modal-overlay ${e?"active":""}`,onClick:y=>y.target===y.currentTarget&&i(),children:S.jsxs("div",{className:"modal",children:[S.jsx("div",{className:"modal-header",children:S.jsx("h3",{children:"Edit Item Details"})}),S.jsx("div",{className:"modal-body",children:S.jsxs("form",{id:"edit-item-form",onSubmit:w,children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Barcode / Item Code"}),S.jsx("input",{type:"text",value:c.barcode,readOnly:!0,style:{background:"var(--bg-light)",cursor:"not-allowed"}})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Item Name*"}),S.jsx("input",{type:"text",required:!0,value:c.name,onChange:y=>x("name",y.target.value)})]}),S.jsxs("div",{className:"form-row",children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Weight*"}),S.jsx("input",{type:"text",required:!0,value:c.weight,onChange:y=>x("weight",y.target.value)})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Brand*"}),S.jsxs("select",{required:!0,value:c.brand,onChange:y=>x("brand",y.target.value),children:[S.jsx("option",{value:"MTR",children:"MTR"}),S.jsx("option",{value:"Parasuit",children:"Parasuit"}),S.jsx("option",{value:"Dabour",children:"Dabour"})]})]})]}),S.jsxs("div",{className:"form-row",children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Quantity (Boxes)*"}),S.jsx("input",{type:"number",min:"0",required:!0,value:c.quantity,onChange:y=>x("quantity",y.target.value)})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Rack Location*"}),S.jsx("input",{type:"text",required:!0,value:c.location,onChange:y=>x("location",y.target.value)})]})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Expiry Date*"}),S.jsx("input",{type:"text",required:!0,value:c.expiry,onChange:y=>x("expiry",y.target.value)})]})]})}),S.jsxs("div",{className:"modal-actions",children:[S.jsx("button",{type:"button",className:"btn btn-secondary",onClick:i,children:"Cancel"}),S.jsx("button",{type:"submit",className:"btn btn-success",form:"edit-item-form",children:"Update Item"})]})]})})},Jm=({isOpen:e,item:n,barcode:i,onClose:a})=>S.jsx("div",{className:`modal-overlay ${e?"active":""}`,onClick:c=>c.target===c.currentTarget&&a(),children:S.jsxs("div",{className:"modal",children:[S.jsx("div",{className:"modal-header",children:S.jsx("h3",{children:"Item Details"})}),S.jsx("div",{className:"modal-body",children:n?S.jsxs("div",{style:{background:"var(--bg-light)",padding:"20px",borderRadius:"12px"},children:[S.jsx(Zr,{label:"Barcode",value:n.barcode??i}),S.jsx(Zr,{label:"Name",value:n.name}),S.jsx(Zr,{label:"Weight",value:n.weight}),S.jsx(Zr,{label:"Brand",value:n.brand}),S.jsx(Zr,{label:"Quantity",value:`${n.quantity} boxes`}),S.jsx(Zr,{label:"Location",value:n.location}),S.jsx(Zr,{label:"Expiry Date",value:n.expiry,isLast:!0})]}):S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("p",{style:{color:"var(--danger)",fontWeight:600,marginBottom:"10px"},children:"Item not found in inventory"}),S.jsxs("p",{style:{color:"var(--text-light)"},children:['The barcode "',i,'" does not exist in the system.']})]})}),S.jsx("div",{className:"modal-actions",children:S.jsx("button",{type:"button",className:"btn btn-primary",onClick:a,children:"Close"})})]})}),Zr=({label:e,value:n,isLast:i=!1})=>S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"12px 0",borderBottom:i?"none":"1px solid var(--border)"},children:[S.jsxs("span",{style:{fontWeight:600,color:"var(--text-dark)"},children:[e,":"]}),S.jsx("span",{style:{color:"var(--text-light)"},children:n})]}),$m={success:"",danger:"",warning:"",info:""},j0=({toasts:e,onDismiss:n})=>S.jsx("div",{className:"toast-container",children:e.map(i=>S.jsxs("div",{className:`toast ${i.type}`,children:[S.jsx("div",{className:"toast-icon",children:$m[i.type]??""}),S.jsxs("div",{className:"toast-content",children:[S.jsx("h4",{children:i.title}),S.jsx("p",{children:i.message})]}),S.jsx("button",{type:"button",onClick:()=>n(i.id),style:{border:"none",background:"transparent",fontSize:"16px",cursor:"pointer",marginLeft:"8px"},"aria-label":"Close notification",children:""})]},i.id))}),ja="wms-authenticated-user",ew=()=>{const[e,n]=Ie.useState(()=>!!localStorage.getItem(ja)),[i,a]=Ie.useState(!1),[c,d]=Ie.useState("dashboard"),[x,w]=Ie.useState([]),[y,m]=Ie.useState([]),[v,T]=Ie.useState(""),[M,U]=Ie.useState(!1),[k,P]=Ie.useState(""),[Z,D]=Ie.useState(""),[_,R]=Ie.useState(!1),[j,ee]=Ie.useState(!1),[q,F]=Ie.useState(!1),[te,G]=Ie.useState(null),[me,Pe]=Ie.useState(""),[ue,ye]=Ie.useState(null),[Be,W]=Ie.useState([]),[Re,xe]=Ie.useState(!1),[re,ce]=Ie.useState(!1),[he,Te]=Ie.useState(!1);Ie.useEffect(()=>{document.documentElement.style.setProperty("--bg-light",i?"#1e293b":"#f8fafc"),document.documentElement.style.setProperty("--bg-white",i?"#0f172a":"#ffffff"),document.documentElement.style.setProperty("--text-dark",i?"#f1f5f9":"#1e293b"),document.documentElement.style.setProperty("--text-light",i?"#cbd5e1":"#64748b"),document.documentElement.style.setProperty("--border",i?"#334155":"#e2e8f0")},[i]),Ie.useEffect(()=>{e&&(St(),be())},[e]);const Ee=Y=>{if(!jr(Y))return!1;const we=new Date,ne=new Date;ne.setMonth(we.getMonth()+3);const $e=new Date(Y);return $e>=we&&$e<=ne},St=async()=>{ce(!0);try{const{data:Y}=await Yr.get("/items");w(Y)}catch(Y){He({title:"Error",message:Ai(Y)??"Failed to load inventory",type:"danger"})}finally{ce(!1)}},be=async()=>{try{const{data:Y}=await Yr.get("/activities");m(Y)}catch(Y){He({title:"Error",message:Ai(Y)??"Failed to load activity feed",type:"danger"})}},xn=async Y=>{xe(!0);try{await Yr.post("/auth/login",Y),localStorage.setItem(ja,JSON.stringify({username:Y.username})),n(!0),He({title:"Welcome",message:"Signed in successfully",type:"success"})}catch(we){He({title:"Login Failed",message:Ai(we)??"Invalid credentials",type:"danger"})}finally{xe(!1)}},ae=async()=>{try{await Yr.post("/auth/logout")}catch{}finally{localStorage.removeItem(ja),n(!1),w([]),m([]),d("dashboard"),Te(!1),He({title:"Signed out",message:"You have been logged out",type:"info"})}},Un=Y=>{if(!Y){He({title:"Error",message:"Please enter a barcode first",type:"danger"});return}const we=x.find(ne=>ne.barcode===Y);we&&(He({title:"Already Exists",message:"This barcode already exists in inventory.",type:"info"}),ye(we)),R(!0)},gt=Y=>{if(!Y){He({title:"Error",message:"Please enter a barcode first",type:"danger"});return}const we=x.find(ne=>ne.barcode===Y);G(we??null),Pe(Y),F(!0)},Fr=async Y=>{try{const we={barcode:Y.barcode.toUpperCase(),name:Y.name,weight:Y.weight,brand:Y.brand,quantity:Number(Y.quantity),location:Y.location,expiry:Y.expiry},{data:ne}=await Yr.post("/items",we);w($e=>[ne,...$e]),R(!1),D(""),He({title:"Success",message:"Item added to inventory successfully",type:"success"}),be()}catch(we){He({title:"Error",message:Ai(we)??"Unable to add item",type:"danger"})}},Ur=async Y=>{try{const we={name:Y.name,weight:Y.weight,brand:Y.brand,quantity:Number(Y.quantity),location:Y.location,expiry:Y.expiry},{data:ne}=await Yr.put(`/items/${Y._id}`,we);w($e=>$e.map(pn=>pn._id===ne._id?ne:pn)),ee(!1),He({title:"Updated",message:"Item updated successfully",type:"success"}),be()}catch(we){He({title:"Error",message:Ai(we)??"Unable to update item",type:"danger"})}},kt=async Y=>{if(window.confirm(`Delete ${Y.name}?`))try{await Yr.delete(`/items/${Y._id}`),w(we=>we.filter(ne=>ne._id!==Y._id)),He({title:"Deleted",message:"Item removed successfully",type:"success"}),be()}catch(we){He({title:"Error",message:Ai(we)??"Unable to delete item",type:"danger"})}},jr=Y=>{const we=new Date(Y);return Y&&!isNaN(we.getTime())},De=Ie.useMemo(()=>{const Y=k.trim().toLowerCase();return x.filter(we=>M&&!Ee(we.expiry)||!M&&v&&we.brand!==v?!1:Y?we.name.toLowerCase().includes(Y)||we.barcode.toLowerCase().includes(Y)||we.brand.toLowerCase().includes(Y)||we.location.toLowerCase().includes(Y):!0)},[x,v,k,M]),ur=Ie.useMemo(()=>{const Y=new Date,we=new Date;we.setMonth(Y.getMonth()+3);const ne={MTR:0,Parasuit:0,Dabour:0,"":0,ExpiringSoon:0};return x.forEach($e=>{if(ne[$e.brand]=(ne[$e.brand]??0)+Number($e.quantity??0),ne[""]+=Number($e.quantity??0),jr($e.expiry)){const pn=new Date($e.expiry);pn>=Y&&pn<=we&&(ne.ExpiringSoon+=$e==null?void 0:$e.quantity)}}),ne},[x]),He=({title:Y,message:we,type:ne})=>{const $e=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}-${Math.random()}`;W(pn=>[...pn,{id:$e,title:Y,message:we,type:ne}]),setTimeout(()=>{W(pn=>pn.filter(Nn=>Nn.id!==$e))},3200)},cr=Y=>{W(we=>we.filter(ne=>ne.id!==Y))},mt=()=>{Te(Y=>!Y)},je=()=>{Te(!1)};return e?S.jsxs("div",{className:"app-shell",children:[S.jsx(um,{onToggleTheme:()=>a(Y=>!Y),isDarkMode:i,onLogout:ae,onToggleSidebar:mt}),S.jsxs("div",{className:"main-wrapper",children:[S.jsx(fm,{activePage:c,onNavigate:Y=>{d(Y),je()},isOpen:he}),he&&S.jsx("button",{type:"button",className:"sidebar-overlay","aria-label":"Close sidebar",onClick:je}),S.jsxs("main",{className:"content",children:[c==="dashboard"&&S.jsx(gm,{statsByBrand:ur,activities:y,onSelectBrand:Y=>{Y==="ExpiringSoon"?(U(!0),T(""),He({title:"Expiring Items",message:"Items expiring within 3 months",type:"warning"})):(U(!1),T(Y)),d("inventory")}}),c==="inventory"&&S.jsx(xm,{items:De,brandFilter:v,onBrandFilterChange:T,searchTerm:k,onSearchChange:P,onEditItem:Y=>{ye(Y),ee(!0)},onDeleteItem:kt}),c==="inbound"&&S.jsx(wm,{}),c==="outbound"&&S.jsx(Cm,{}),c==="scanner"&&S.jsx(Ym,{barcode:Z,onBarcodeChange:D,onBarcodeDetected:Y=>{const we=Y.toUpperCase();D(we),He({title:"Barcode Scanned",message:`Code: ${we}`,type:"success"})},onAddItem:Un,onViewDetails:gt}),c==="settings"&&S.jsx(Zm,{}),re&&S.jsx("p",{children:"Loading inventory"})]})]}),S.jsx(Km,{isOpen:_,item:ue,barcode:Z,onClose:()=>R(!1),onSave:Fr}),S.jsx(Qm,{isOpen:j,item:ue,onClose:()=>ee(!1),onSave:Ur}),S.jsx(Jm,{isOpen:q,item:te,barcode:me,onClose:()=>F(!1)}),S.jsx(j0,{toasts:Be,onDismiss:cr})]}):S.jsxs(S.Fragment,{children:[S.jsx(am,{onLogin:xn,loading:Re}),S.jsx(j0,{toasts:Be,onDismiss:cr})]})},Ai=e=>{var n,i;return(i=(n=e==null?void 0:e.response)==null?void 0:n.data)!=null&&i.message?e.response.data.message:e!=null&&e.message?e.message:null};Va.createRoot(document.getElementById("root")).render(S.jsx(C2.StrictMode,{children:S.jsx(ew,{})}));
